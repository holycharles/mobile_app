var Zepto=function(){function a(a){return null==a?String(a):M[T.call(a)]||"object"}function b(c){return"function"==a(c)}function d(a){return null!=a&&a==a.window}function g(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function f(c){return"object"==a(c)}function c(a){return f(a)&&!d(a)&&Object.getPrototypeOf(a)==Object.prototype}function e(a){return H.call(a,function(a){return null!=a})}function h(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,
    "$1_$2").replace(/_/g,"-").toLowerCase()}function k(a){return a in N?N[a]:N[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function l(a){return"children"in a?E.call(a.children):q.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function m(a,e,b){for(r in e)b&&(c(e[r])||I(e[r]))?(c(e[r])&&!c(a[r])&&(a[r]={}),I(e[r])&&!I(a[r])&&(a[r]=[]),m(a[r],e[r],b)):e[r]!==v&&(a[r]=e[r])}function p(a,c){return null==c?q(a):q(a).filter(c)}function n(a,c,e,f){return b(c)?c.call(a,e,f):c}function u(a,c){var e=a.className,
    b=e&&e.baseVal!==v;return c===v?b?e.baseVal:e:void(b?e.baseVal=c:a.className=c)}function t(a){var c;try{return a?"true"==a||("false"==a?!1:"null"==a?null:/^0/.test(a)||isNaN(c=Number(a))?/^[\[\{]/.test(a)?q.parseJSON(a):a:c):a}catch(e){return a}}function s(a,c){c(a);for(var e=0,b=a.childNodes.length;b>e;e++)s(a.childNodes[e],c)}var v,r,q,w,A,z,x=[],E=x.slice,H=x.filter,F=window.document,O={},N={},Q={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},P=/^\s*<(\w+|!)[^>]*>/,
    U=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,G=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,y=/^(?:body|html)$/i,K=/([A-Z])/g,D="val css html text data width height offset".split(" "),B=F.createElement("table"),J=F.createElement("tr"),R={tr:F.createElement("tbody"),tbody:B,thead:B,tfoot:B,td:J,th:J,"*":F.createElement("div")},V=/complete|loaded|interactive/,W=/^[\w-]*$/,M={},T=M.toString,C={},S=F.createElement("div"),X={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",
        maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},I=Array.isArray||function(a){return a instanceof Array};return C.matches=function(a,c){if(!c||!a||1!==a.nodeType)return!1;var e=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(e)return e.call(a,c);var b,e=a.parentNode,f=!e;return f&&(e=S).appendChild(a),b=~C.qsa(e,c).indexOf(a),
    f&&S.removeChild(a),b},A=function(a){return a.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})},z=function(a){return H.call(a,function(c,e){return a.indexOf(c)==e})},C.fragment=function(a,e,b){var f,d,h;return U.test(a)&&(f=q(F.createElement(RegExp.$1))),f||(a.replace&&(a=a.replace(G,"<$1></$2>")),e===v&&(e=P.test(a)&&RegExp.$1),e in R||(e="*"),h=R[e],h.innerHTML=""+a,f=q.each(E.call(h.childNodes),function(){h.removeChild(this)})),c(b)&&(d=q(f),q.each(b,function(a,c){-1<D.indexOf(a)?
    d[a](c):d.attr(a,c)})),f},C.Z=function(a,c){return a=a||[],a.__proto__=q.fn,a.selector=c||"",a},C.isZ=function(a){return a instanceof C.Z},C.init=function(a,c){var d;if(!a)return C.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&P.test(a))d=C.fragment(a,RegExp.$1,c),a=null;else{if(c!==v)return q(c).find(a);d=C.qsa(F,a)}else{if(b(a))return q(F).ready(a);if(C.isZ(a))return a;if(I(a))d=e(a);else if(f(a))d=[a],a=null;else if(P.test(a))d=C.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==v)return q(c).find(a);
    d=C.qsa(F,a)}}return C.Z(d,a)},q=function(a,c){return C.init(a,c)},q.extend=function(a){var c,e=E.call(arguments,1);return"boolean"==typeof a&&(c=a,a=e.shift()),e.forEach(function(e){m(a,e,c)}),a},C.qsa=function(a,c){var e,b="#"==c[0],f=!b&&"."==c[0],d=b||f?c.slice(1):c,h=W.test(d);return g(a)&&h&&b?(e=a.getElementById(d))?[e]:[]:1!==a.nodeType&&9!==a.nodeType?[]:E.call(h&&!b?f?a.getElementsByClassName(d):a.getElementsByTagName(c):a.querySelectorAll(c))},q.contains=F.documentElement.contains?function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              c){return a!==c&&a.contains(c)}:function(a,c){for(;c&&(c=c.parentNode);)if(c===a)return!0;return!1},q.type=a,q.isFunction=b,q.isWindow=d,q.isArray=I,q.isPlainObject=c,q.isEmptyObject=function(a){for(var c in a)return!1;return!0},q.inArray=function(a,c,e){return x.indexOf.call(c,a,e)},q.camelCase=A,q.trim=function(a){return null==a?"":String.prototype.trim.call(a)},q.uuid=0,q.support={},q.expr={},q.map=function(a,c){var e,b,f=[];if("number"==typeof a.length)for(b=0;b<a.length;b++)e=c(a[b],b),null!=
    e&&f.push(e);else for(b in a)e=c(a[b],b),null!=e&&f.push(e);return 0<f.length?q.fn.concat.apply([],f):f},q.each=function(a,c){var e;if("number"==typeof a.length)for(e=0;e<a.length&&!1!==c.call(a[e],e,a[e]);e++);else for(e in a)if(!1===c.call(a[e],e,a[e]))break;return a},q.grep=function(a,c){return H.call(a,c)},window.JSON&&(q.parseJSON=JSON.parse),q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,c){M["[object "+c+"]"]=c.toLowerCase()}),q.fn={forEach:x.forEach,
    reduce:x.reduce,push:x.push,sort:x.sort,indexOf:x.indexOf,concat:x.concat,map:function(a){return q(q.map(this,function(c,e){return a.call(c,e,c)}))},slice:function(){return q(E.apply(this,arguments))},ready:function(a){return V.test(F.readyState)&&F.body?a(q):F.addEventListener("DOMContentLoaded",function(){a(q)},!1),this},get:function(a){return a===v?E.call(this):this[0<=a?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=
        this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return x.every.call(this,function(c,e){return!1!==a.call(c,e,c)}),this},filter:function(a){return b(a)?this.not(this.not(a)):q(H.call(this,function(c){return C.matches(c,a)}))},add:function(a,c){return q(z(this.concat(q(a,c))))},is:function(a){return 0<this.length&&C.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==v)this.each(function(e){a.call(this,e)||c.push(this)});else{var e="string"==typeof a?this.filter(a):
        "number"==typeof a.length&&b(a.item)?E.call(a):q(a);this.forEach(function(a){0>e.indexOf(a)&&c.push(a)})}return q(c)},has:function(a){return this.filter(function(){return f(a)?q.contains(this,a):q(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!f(a)?a:q(a)},last:function(){var a=this[this.length-1];return a&&!f(a)?a:q(a)},find:function(a){var c=this;return a?"object"==typeof a?q(a).filter(function(){var a=this;return x.some.call(c,
        function(c){return q.contains(c,a)})}):1==this.length?q(C.qsa(this[0],a)):this.map(function(){return C.qsa(this,a)}):[]},closest:function(a,c){var e=this[0],b=!1;for("object"==typeof a&&(b=q(a));e&&!(b?0<=b.indexOf(e):C.matches(e,a));)e=e!==c&&!g(e)&&e.parentNode;return q(e)},parents:function(a){for(var c=[],e=this;0<e.length;)e=q.map(e,function(a){return(a=a.parentNode)&&!g(a)&&0>c.indexOf(a)?(c.push(a),a):void 0});return p(c,a)},parent:function(a){return p(z(this.pluck("parentNode")),a)},children:function(a){return p(this.map(function(){return l(this)}),
        a)},contents:function(){return this.map(function(){return E.call(this.childNodes)})},siblings:function(a){return p(this.map(function(a,c){return H.call(l(c.parentNode),function(a){return a!==c})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return q.map(this,function(c){return c[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display="");if("none"==getComputedStyle(this,"").getPropertyValue("display")){var a=this.style,
        c;c=this.nodeName;var e,b;c=(O[c]||(e=F.createElement(c),F.body.appendChild(e),b=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==b&&(b="block"),O[c]=b),O[c]);a.display=c}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var e=q(a).get(0),f=e.parentNode||1<this.length;return this.each(function(b){q(this).wrapAll(c?a.call(this,b):f?e.cloneNode(!0):e)})},wrapAll:function(a){if(this[0]){q(this[0]).before(a=q(a));
        for(var c;(c=a.children()).length;)a=c.first();q(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(e){var b=q(this),f=b.contents();e=c?a.call(this,e):a;f.length?f.wrapAll(e):b.append(e)})},unwrap:function(){return this.parent().each(function(){q(this).replaceWith(q(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var c=
        q(this);(a===v?"none"==c.css("display"):a)?c.show():c.hide()})},prev:function(a){return q(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return q(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(c){var e=this.innerHTML;q(this).empty().append(n(this,a,c,e))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(c){c=n(this,a,c,this.textContent);this.textContent=null==c?"":""+c}):
        0 in this?this[0].textContent:null},attr:function(a,c){var e;return"string"!=typeof a||1 in arguments?this.each(function(e){if(1===this.nodeType)if(f(a))for(r in a){var b=r;e=a[r];null==e?this.removeAttribute(b):this.setAttribute(b,e)}else b=a,e=n(this,c,e,this.getAttribute(a)),null==e?this.removeAttribute(b):this.setAttribute(b,e)}):this.length&&1===this[0].nodeType?!(e=this[0].getAttribute(a))&&a in this[0]?this[0][a]:e:v},removeAttr:function(a){return this.each(function(){1===this.nodeType&&this.removeAttribute(a)})},
    prop:function(a,c){return a=X[a]||a,1 in arguments?this.each(function(e){this[a]=n(this,c,e,this[a])}):this[0]&&this[0][a]},data:function(a,c){var e="data-"+a.replace(K,"-$1").toLowerCase(),e=1 in arguments?this.attr(e,c):this.attr(e);return null!==e?t(e):v},val:function(a){return 0 in arguments?this.each(function(c){this.value=n(this,a,c,this.value)}):this[0]&&(this[0].multiple?q(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(c){var e=
        q(this);c=n(this,a,c,e.offset());var b=e.offsetParent().offset();c={top:c.top-b.top,left:c.left-b.left};"static"==e.css("position")&&(c.position="relative");e.css(c)});if(!this.length)return null;var c=this[0].getBoundingClientRect();return{left:c.left+window.pageXOffset,top:c.top+window.pageYOffset,width:Math.round(c.width),height:Math.round(c.height)}},css:function(c,e){if(2>arguments.length){var b=this[0],f=getComputedStyle(b,"");if(!b)return;if("string"==typeof c)return b.style[A(c)]||f.getPropertyValue(c);
        if(I(c)){var d={};return q.each(I(c)?c:[c],function(a,c){d[c]=b.style[A(c)]||f.getPropertyValue(c)}),d}}var k="";if("string"==a(c))e||0===e?k=h(c)+":"+("number"!=typeof e||Q[h(c)]?e:e+"px"):this.each(function(){this.style.removeProperty(h(c))});else for(r in c)c[r]||0===c[r]?k+=h(r)+":"+("number"!=typeof c[r]||Q[h(r)]?c[r]:c[r]+"px")+";":this.each(function(){this.style.removeProperty(h(r))});return this.each(function(){this.style.cssText+=";"+k})},index:function(a){return a?this.indexOf(q(a)[0]):
        this.parent().children().indexOf(this[0])},hasClass:function(a){return a?x.some.call(this,function(a){return this.test(u(a))},k(a)):!1},addClass:function(a){return a?this.each(function(c){w=[];var e=u(this);n(this,a,c,e).split(/\s+/g).forEach(function(a){q(this).hasClass(a)||w.push(a)},this);w.length&&u(this,e+(e?" ":"")+w.join(" "))}):this},removeClass:function(a){return this.each(function(c){return a===v?u(this,""):(w=u(this),n(this,a,c,w).split(/\s+/g).forEach(function(a){w=w.replace(k(a)," ")}),
        void u(this,w.trim()))})},toggleClass:function(a,c){return a?this.each(function(e){var b=q(this);n(this,a,e,u(this)).split(/\s+/g).forEach(function(a){(c===v?!b.hasClass(a):c)?b.addClass(a):b.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var c="scrollTop"in this[0];return a===v?c?this[0].scrollTop:this[0].pageYOffset:this.each(c?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var c="scrollLeft"in this[0];return a===
        v?c?this[0].scrollLeft:this[0].pageXOffset:this.each(c?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],c=this.offsetParent(),e=this.offset(),b=y.test(c[0].nodeName)?{top:0,left:0}:c.offset();return e.top-=parseFloat(q(a).css("margin-top"))||0,e.left-=parseFloat(q(a).css("margin-left"))||0,b.top+=parseFloat(q(c[0]).css("border-top-width"))||0,b.left+=parseFloat(q(c[0]).css("border-left-width"))||0,{top:e.top-b.top,left:e.left-
        b.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||F.body;a&&!y.test(a.nodeName)&&"static"==q(a).css("position");)a=a.offsetParent;return a})}},q.fn.detach=q.fn.remove,["width","height"].forEach(function(a){var c=a.replace(/./,function(a){return a[0].toUpperCase()});q.fn[a]=function(e){var b,f=this[0];return e===v?d(f)?f["inner"+c]:g(f)?f.documentElement["scroll"+c]:(b=this.offset())&&b[a]:this.each(function(c){f=q(this);f.css(a,n(this,e,c,f[a]()))})}}),["after",
    "prepend","before","append"].forEach(function(c,e){var b=e%2;q.fn[c]=function(){var c,f,d=q.map(arguments,function(e){return c=a(e),"object"==c||"array"==c||null==e?e:C.fragment(e)}),h=1<this.length;return 1>d.length?this:this.each(function(a,c){f=b?c:c.parentNode;c=0==e?c.nextSibling:1==e?c.firstChild:2==e?c:null;var k=q.contains(F.documentElement,f);d.forEach(function(a){if(h)a=a.cloneNode(!0);else if(!f)return q(a).remove();f.insertBefore(a,c);k&&s(a,function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||
        a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})};q.fn[b?c+"To":"insert"+(e?"Before":"After")]=function(a){return q(a)[c](this),this}}),C.Z.prototype=q.fn,C.uniq=z,C.deserializeValue=t,q.zepto=C,q}();window.Zepto=Zepto;void 0===window.$&&(window.$=Zepto);
(function(a){function b(a){return a._zid||(a._zid=l++)}function d(a,c,e,f){if(c=g(c),c.ns)var d=RegExp("(?:^| )"+c.ns.replace(" "," .* ?")+"(?: |$)");return(u[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!d.test(a.ns)||e&&b(a.fn)!==b(e)||f&&a.sel!=f)})}function g(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function f(c,f,d,h,l,m,p){var n=b(c),q=u[n]||(u[n]=[]);f.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(d);var f=g(b);f.fn=d;f.sel=
    l;f.e in r&&(d=function(c){var e=c.relatedTarget;return!e||e!==this&&!a.contains(this,e)?f.fn.apply(this,arguments):void 0});var n=(f.del=m)||d;f.proxy=function(a){if(a=e(a),!a.isImmediatePropagationStopped()){a.data=h;var b=n.apply(c,a._args==k?[a]:[a].concat(a._args));return!1===b&&(a.preventDefault(),a.stopPropagation()),b}};f.i=q.length;q.push(f);"addEventListener"in c&&c.addEventListener(r[f.e]||s&&v[f.e]||f.e,f.proxy,f.del&&!s&&f.e in v||!!p)})}function c(a,c,e,f,h){var k=b(a);(c||"").split(/\s/).forEach(function(c){d(a,
    c,e,f).forEach(function(c){delete u[k][c.i];"removeEventListener"in a&&a.removeEventListener(r[c.e]||s&&v[c.e]||c.e,c.proxy,c.del&&!s&&c.e in v||!!h)})})}function e(c,e){return(e||!c.isDefaultPrevented)&&(e||(e=c),a.each(z,function(a,b){var f=e[a];c[a]=function(){return this[b]=q,f&&f.apply(e,arguments)};c[b]=w}),(e.defaultPrevented!==k?e.defaultPrevented:"returnValue"in e?!1===e.returnValue:e.getPreventDefault&&e.getPreventDefault())&&(c.isDefaultPrevented=q)),c}function h(a){var c,b={originalEvent:a};
    for(c in a)A.test(c)||a[c]===k||(b[c]=a[c]);return e(b,a)}var k,l=1,m=Array.prototype.slice,p=a.isFunction,n=function(a){return"string"==typeof a},u={},t={},s="onfocusin"in window,v={focus:"focusin",blur:"focusout"},r={mouseenter:"mouseover",mouseleave:"mouseout"};t.click=t.mousedown=t.mouseup=t.mousemove="MouseEvents";a.event={add:f,remove:c};a.proxy=function(c,e){var f=2 in arguments&&m.call(arguments,2);if(p(c)){var d=function(){return c.apply(e,f?f.concat(m.call(arguments)):arguments)};return d._zid=
    b(c),d}if(n(e))return f?(f.unshift(c[e],c),a.proxy.apply(null,f)):a.proxy(c[e],c);throw new TypeError("expected function");};a.fn.bind=function(a,c,e){return this.on(a,c,e)};a.fn.unbind=function(a,c){return this.off(a,c)};a.fn.one=function(a,c,e,b){return this.on(a,c,e,b,1)};var q=function(){return!0},w=function(){return!1},A=/^([A-Z]|returnValue$|layer[XY]$)/,z={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=
    function(a,c,e){return this.on(c,a,e)};a.fn.undelegate=function(a,c,e){return this.off(c,a,e)};a.fn.live=function(c,e){return a(document.body).delegate(this.selector,c,e),this};a.fn.die=function(c,e){return a(document.body).undelegate(this.selector,c,e),this};a.fn.on=function(e,b,d,g,l){var q,v,r=this;return e&&!n(e)?(a.each(e,function(a,c){r.on(a,b,d,c,l)}),r):(n(b)||p(g)||!1===g||(g=d,d=b,b=k),(p(d)||!1===d)&&(g=d,d=k),!1===g&&(g=w),r.each(function(k,p){l&&(q=function(a){return c(p,a.type,g),g.apply(this,
    arguments)});b&&(v=function(c){var e,f=a(c.target).closest(b,p).get(0);return f&&f!==p?(e=a.extend(h(c),{currentTarget:f,liveFired:p}),(q||g).apply(f,[e].concat(m.call(arguments,1)))):void 0});f(p,e,g,d,b,v||q)}))};a.fn.off=function(e,b,f){var d=this;return e&&!n(e)?(a.each(e,function(a,c){d.off(a,b,c)}),d):(n(b)||p(f)||!1===f||(f=b,b=k),!1===f&&(f=w),d.each(function(){c(this,e,f,b)}))};a.fn.trigger=function(c,b){return c=n(c)||a.isPlainObject(c)?a.Event(c):e(c),c._args=b,this.each(function(){"dispatchEvent"in
    this?this.dispatchEvent(c):a(this).triggerHandler(c,b)})};a.fn.triggerHandler=function(c,e){var b,f;return this.each(function(k,g){b=h(n(c)?a.Event(c):c);b._args=e;b.target=g;a.each(d(g,c.type||c),function(a,c){return f=c.proxy(b),b.isImmediatePropagationStopped()?!1:void 0})}),f};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(c){a.fn[c]=function(a){return a?
    this.bind(c,a):this.trigger(c)}});["focus","blur"].forEach(function(c){a.fn[c]=function(a){return a?this.bind(c,a):this.each(function(){try{this[c]()}catch(a){}}),this}});a.Event=function(a,c){n(a)||(c=a,a=c.type);var b=document.createEvent(t[a]||"Events"),f=!0;if(c)for(var d in c)"bubbles"==d?f=!!c[d]:b[d]=c[d];return b.initEvent(a,f,!0),e(b)}})(Zepto);
(function(a){function b(c,e,b,f){c.global?(c=e||v,b=a.Event(b),f=(a(c).trigger(b,f),!b.isDefaultPrevented())):f=void 0;return f}function d(c){c.global&&0===a.active++&&b(c,null,"ajaxStart")}function g(a,c){var e=c.context;return!1===c.beforeSend.call(e,a,c)||!1===b(c,e,"ajaxBeforeSend",[a,c])?!1:void b(c,e,"ajaxSend",[a,c])}function f(a,c,f,d){var h=f.context;f.success.call(h,a,"success",c);d&&d.resolveWith(h,[a,"success",c]);b(f,h,"ajaxSuccess",[c,f,a]);e("success",c,f)}function c(a,c,f,d,h){var k=
    d.context;d.error.call(k,f,c,a);h&&h.rejectWith(k,[f,c,a]);b(d,k,"ajaxError",[f,d,a||c]);e(c,f,d)}function e(c,e,f){var d=f.context;f.complete.call(d,e,c);b(f,d,"ajaxComplete",[e,f]);f.global&&!--a.active&&b(f,null,"ajaxStop")}function h(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==z?"html":a==A?"json":q.test(a)?"script":w.test(a)&&"xml")||"text"}function l(a,c){return""==c?a:(a+"&"+c).replace(/[&?]{1,2}/,"?")}function m(c){c.processData&&c.data&&"string"!=a.type(c.data)&&(c.data=a.param(c.data,
    c.traditional));!c.data||c.type&&"GET"!=c.type.toUpperCase()||(c.url=l(c.url,c.data),c.data=void 0)}function p(c,e,b,f){return a.isFunction(e)&&(f=b,b=e,e=void 0),a.isFunction(b)||(f=b,b=void 0),{url:c,data:e,success:b,dataType:f}}function n(c,e,b,f){var d,h=a.isArray(e),k=a.isPlainObject(e);a.each(e,function(e,g){d=a.type(g);f&&(e=b?f:f+"["+(k||"object"==d||"array"==d?e:"")+"]");!f&&h?c.add(g.name,g.value):"array"==d||!b&&"object"==d?n(c,g,b,e):c.add(e,g)})}var u,t,s=0,v=window.document,r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
    q=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,A="application/json",z="text/html",x=/^\s*$/;a.active=0;a.ajaxJSONP=function(e,b){if(!("type"in e))return a.ajax(e);var d,h,k=e.jsonpCallback,l=(a.isFunction(k)?k():k)||"jsonp"+ ++s,m=v.createElement("script"),p=window[l],n=function(c){a(m).triggerHandler("error",c||"abort")},q={abort:n};return b&&b.promise(q),a(m).on("load error",function(k,g){clearTimeout(h);a(m).off().remove();"error"!=k.type&&d?f(d[0],q,e,b):c(null,g||"error",
    q,e,b);window[l]=p;d&&a.isFunction(p)&&p(d[0]);p=d=void 0}),!1===g(q,e)?(n("abort"),q):(window[l]=function(){d=arguments},m.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),v.head.appendChild(m),0<e.timeout&&(h=setTimeout(function(){n("timeout")},e.timeout)),q)};a.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:A,xml:"application/xml, text/xml",
    html:z,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0};a.ajax=function(e){var b=a.extend({},e||{}),p=a.Deferred&&a.Deferred();for(u in a.ajaxSettings)void 0===b[u]&&(b[u]=a.ajaxSettings[u]);d(b);b.crossDomain||(b.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(b.url)&&RegExp.$2!=window.location.host);b.url||(b.url=window.location.toString());m(b);var n=b.dataType,q=/\?.+=\?/.test(b.url);if(q&&(n="jsonp"),!1!==b.cache&&(e&&!0===e.cache||"script"!=n&&"jsonp"!=n)||(b.url=l(b.url,"_="+
    Date.now())),"jsonp"==n)return q||(b.url=l(b.url,b.jsonp?b.jsonp+"=?":!1===b.jsonp?"":"callback=?")),a.ajaxJSONP(b,p);var v;e=b.accepts[n];var r={},q=function(a,c){r[a.toLowerCase()]=[a,c]},w=/^([\w-]+:)\/\//.test(b.url)?RegExp.$1:window.location.protocol,s=b.xhr(),A=s.setRequestHeader;if(p&&p.promise(s),b.crossDomain||q("X-Requested-With","XMLHttpRequest"),q("Accept",e||"*/*"),(e=b.mimeType||e)&&(-1<e.indexOf(",")&&(e=e.split(",",2)[0]),s.overrideMimeType&&s.overrideMimeType(e)),(b.contentType||
    !1!==b.contentType&&b.data&&"GET"!=b.type.toUpperCase())&&q("Content-Type",b.contentType||"application/x-www-form-urlencoded"),b.headers)for(t in b.headers)q(t,b.headers[t]);if(s.setRequestHeader=q,s.onreadystatechange=function(){if(4==s.readyState){s.onreadystatechange=h;clearTimeout(v);var e,d=!1;if(200<=s.status&&300>s.status||304==s.status||0==s.status&&"file:"==w){n=n||k(b.mimeType||s.getResponseHeader("content-type"));e=s.responseText;try{"script"==n?(0,eval)(e):"xml"==n?e=s.responseXML:"json"==
    n&&(e=x.test(e)?null:a.parseJSON(e))}catch(g){d=g}d?c(d,"parsererror",s,b,p):f(e,s,b,p)}else c(s.statusText||null,s.status?"error":"abort",s,b,p)}},!1===g(s,b))return s.abort(),c(null,"abort",s,b,p),s;if(b.xhrFields)for(t in b.xhrFields)s[t]=b.xhrFields[t];s.open(b.type,b.url,"async"in b?b.async:!0,b.username,b.password);for(t in r)A.apply(s,r[t]);return 0<b.timeout&&(v=setTimeout(function(){s.onreadystatechange=h;s.abort();c(null,"timeout",s,b,p)},b.timeout)),s.send(b.data?b.data:null),s};a.get=
    function(){return a.ajax(p.apply(null,arguments))};a.post=function(){var c=p.apply(null,arguments);return c.type="POST",a.ajax(c)};a.getJSON=function(){var c=p.apply(null,arguments);return c.dataType="json",a.ajax(c)};a.fn.load=function(c,e,b){if(!this.length)return this;var f,d=this,h=c.split(/\s/);c=p(c,e,b);var k=c.success;return 1<h.length&&(c.url=h[0],f=h[1]),c.success=function(c){d.html(f?a("<div>").html(c.replace(r,"")).find(f):c);k&&k.apply(d,arguments)},a.ajax(c),this};var E=encodeURIComponent;
    a.param=function(a,c){var e=[];return e.add=function(a,c){this.push(E(a)+"="+E(c))},n(e,a,c),e.join("&").replace(/%20/g,"+")}})(Zepto);
(function(a){a.fn.serializeArray=function(){var b,d=[];return a([].slice.call(this.get(0).elements)).each(function(){b=a(this);var g=b.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=g&&"reset"!=g&&"button"!=g&&("radio"!=g&&"checkbox"!=g||this.checked)&&d.push({name:b.attr("name"),value:b.val()})}),d};a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(d){a.push(encodeURIComponent(d.name)+"="+encodeURIComponent(d.value))}),a.join("&")};
    a.fn.submit=function(b){b?this.bind("submit",b):this.length&&(b=a.Event("submit"),this.eq(0).trigger(b),b.isDefaultPrevented()||this.get(0).submit());return this}})(Zepto);(function(a){"__proto__"in{}||a.extend(a.zepto,{Z:function(b,f){return b=b||[],a.extend(b,a.fn),b.selector=f||"",b.__Z=!0,b},isZ:function(b){return"array"===a.type(b)&&"__Z"in b}});try{getComputedStyle(void 0)}catch(b){var d=getComputedStyle;window.getComputedStyle=function(a){try{return d(a)}catch(b){return null}}}})(Zepto);
(function(){var a={r:function(b){if(a[b].inited)return a[b].value;if("function"===typeof a[b].value){var d={exports:{}},g=a[b].value(null,d.exports,d);a[b].inited=!0;a[b].value=g;if(void 0!==g)return g;for(var f in d.exports)if(d.exports.hasOwnProperty(f))return a[b].inited=!0,a[b].value=d.exports}else return a[b].inited=!0,a[b].value},0:{value:function(b){function d(a){var c=parseFloat(a,10);return/ms/.test(a)?c:/s/.test(a)?1E3*c:/min/.test(a)?6E4*c:c}var g=a.r(8),f=a.r(1),c=a.r(11).createClass("Animator",
    {constructor:function(a,c,b){if(1==arguments.length){var f=arguments[0];this.beginValue=f.beginValue;this.finishValue=f.finishValue;this.setter=f.setter}else this.beginValue=a,this.finishValue=c,this.setter=b},start:function(a,c,b,f,g){2===arguments.length&&"object"==typeof c&&(b=c.easing,f=c.delay,g=c.callback,c=c.duration);4===arguments.length&&"function"==typeof f&&(g=f,f=0);var p=this.create(a,c,b,g);f=d(f);0<f?setTimeout(function(){p.play()},f):p.play();return p},create:function(a,b,k,l){b=b&&
        d(b)||c.DEFAULT_DURATION;k=k||c.DEFAULT_EASING;"string"==typeof k&&(k=f[k]);a=new g(this,a,b,k);if("function"==typeof l)a.on("finish",l);return a},reverse:function(){return new c(this.finishValue,this.beginValue,this.setter)}});c.DEFAULT_DURATION=300;c.DEFAULT_EASING="linear";b=a.r(61);a.r(11).extendClass(b,{animate:function(a,c,b,f,d){var g=this._KityAnimateQueue=this._KityAnimateQueue||[];a=a.create(this,c,b,d);a.on("finish",function(){g.shift();g.length&&setTimeout(g[0].t.play.bind(g[0].t),g[0].d)});
    g.push({t:a,d:f});1==g.length&&setTimeout(a.play.bind(a),f);return this},timeline:function(){return this._KityAnimateQueue[0].t},stop:function(){var a=this._KityAnimateQueue;if(a)for(;a.length;)a.shift().t.stop();return this}});return c}},1:{value:function(a,d,g){var f={linear:function(a,e,b,f){return a/f*b+e},swing:function(a,e,b,d){return f.easeOutQuad(a,e,b,d)},ease:function(a,e,b,d){return f.easeInOutCubic(a,e,b,d)},easeInQuad:function(a,e,b,f){return b*(a/=f)*a+e},easeOutQuad:function(a,e,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   f){return-b*(a/=f)*(a-2)+e},easeInOutQuad:function(a,e,b,f){return 1>(a/=f/2)?b/2*a*a+e:-b/2*(--a*(a-2)-1)+e},easeInCubic:function(a,e,b,f){return b*(a/=f)*a*a+e},easeOutCubic:function(a,e,b,f){return b*((a=a/f-1)*a*a+1)+e},easeInOutCubic:function(a,e,b,f){return 1>(a/=f/2)?b/2*a*a*a+e:b/2*((a-=2)*a*a+2)+e},easeInQuart:function(a,e,b,f){return b*(a/=f)*a*a*a+e},easeOutQuart:function(a,e,b,f){return-b*((a=a/f-1)*a*a*a-1)+e},easeInOutQuart:function(a,e,b,f){return 1>(a/=f/2)?b/2*a*a*a*a+e:-b/2*((a-=
    2)*a*a*a-2)+e},easeInQuint:function(a,e,b,f){return b*(a/=f)*a*a*a*a+e},easeOutQuint:function(a,e,b,f){return b*((a=a/f-1)*a*a*a*a+1)+e},easeInOutQuint:function(a,e,b,f){return 1>(a/=f/2)?b/2*a*a*a*a*a+e:b/2*((a-=2)*a*a*a*a+2)+e},easeInSine:function(a,e,b,f){return-b*Math.cos(a/f*(Math.PI/2))+b+e},easeOutSine:function(a,e,b,f){return b*Math.sin(a/f*(Math.PI/2))+e},easeInOutSine:function(a,e,b,f){return-b/2*(Math.cos(Math.PI*a/f)-1)+e},easeInExpo:function(a,e,b,f){return 0===a?e:b*Math.pow(2,10*(a/
    f-1))+e},easeOutExpo:function(a,e,b,f){return a==f?e+b:b*(-Math.pow(2,-10*a/f)+1)+e},easeInOutExpo:function(a,e,b,f){return 0===a?e:a==f?e+b:1>(a/=f/2)?b/2*Math.pow(2,10*(a-1))+e:b/2*(-Math.pow(2,-10*--a)+2)+e},easeInCirc:function(a,e,b,f){return-b*(Math.sqrt(1-(a/=f)*a)-1)+e},easeOutCirc:function(a,e,b,f){return b*Math.sqrt(1-(a=a/f-1)*a)+e},easeInOutCirc:function(a,e,b,f){return 1>(a/=f/2)?-b/2*(Math.sqrt(1-a*a)-1)+e:b/2*(Math.sqrt(1-(a-=2)*a)+1)+e},easeInElastic:function(a,e,b,f){var d=1.70158,
    g=0,p=b;if(0===a)return e;if(1==(a/=f))return e+b;g||(g=.3*f);p<Math.abs(b)?(p=b,d=g/4):d=g/(2*Math.PI)*Math.asin(b/p);return-(p*Math.pow(2,10*(a-=1))*Math.sin(2*(a*f-d)*Math.PI/g))+e},easeOutElastic:function(a,e,b,f){var d=1.70158,g=0,p=b;if(0===a)return e;if(1==(a/=f))return e+b;g||(g=.3*f);p<Math.abs(b)?(p=b,d=g/4):d=g/(2*Math.PI)*Math.asin(b/p);return p*Math.pow(2,-10*a)*Math.sin(2*(a*f-d)*Math.PI/g)+b+e},easeInOutElastic:function(a,e,b,f){var d=1.70158,g=0,p=b;if(0===a)return e;if(2==(a/=f/2))return e+
    b;g||(g=.3*f*1.5);p<Math.abs(b)?(p=b,d=g/4):d=g/(2*Math.PI)*Math.asin(b/p);return 1>a?-.5*p*Math.pow(2,10*(a-=1))*Math.sin(2*(a*f-d)*Math.PI/g)+e:.5*p*Math.pow(2,-10*(a-=1))*Math.sin(2*(a*f-d)*Math.PI/g)+b+e},easeInBack:function(a,e,b,f,d){void 0==d&&(d=1.70158);return b*(a/=f)*a*((d+1)*a-d)+e},easeOutBack:function(a,e,b,f,d){void 0==d&&(d=1.70158);return b*((a=a/f-1)*a*((d+1)*a+d)+1)+e},easeInOutBack:function(a,e,b,f,d){void 0==d&&(d=1.70158);return 1>(a/=f/2)?b/2*a*a*(((d*=1.525)+1)*a-d)+e:b/2*
    ((a-=2)*a*(((d*=1.525)+1)*a+d)+2)+e},easeInBounce:function(a,e,b,d){return b-f.easeOutBounce(d-a,0,b,d)+e},easeOutBounce:function(a,b,f,d){return(a/=d)<1/2.75?7.5625*f*a*a+b:a<2/2.75?f*(7.5625*(a-=1.5/2.75)*a+.75)+b:a<2.5/2.75?f*(7.5625*(a-=2.25/2.75)*a+.9375)+b:f*(7.5625*(a-=2.625/2.75)*a+.984375)+b},easeInOutBounce:function(a,b,d,k){return a<k/2?.5*f.easeInBounce(2*a,0,d,k)+b:.5*f.easeOutBounce(2*a-k,0,d,k)+.5*d+b}};return f}},2:{value:function(a,d){function g(){var a=k;for(k=[];a.length;){var c=
    a.pop(),b=+new Date,e=b-c.time;200<e&&(e=1E3/60);c.dur=e;c.elapsed+=e;c.time=b;c.action.call(null,c);c.index++}h=0}function f(a){var b={index:0,time:+new Date,elapsed:0,action:a,next:function(){1===k.push(b)&&(h=c(g))}};return b}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1E3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||
    window.msCancelAnimationFrame||window.clearTimeout,h,k=[];d.requestFrame=function(a){a=f(a);1===k.push(a)&&(h=c(g));return a};d.releaseFrame=function(a){a=k.indexOf(a);~a&&k.splice(a,1);0===k.length&&e(h)}}},3:{value:function(b){b=a.r(0);var d=a.r(35),g=a.r(47),f=a.r(61),c=a.r(11).createClass("MotionAnimator",{base:b,constructor:function(a,c){var b=this;this.callBase({beginValue:0,finishValue:1,setter:function(a,c){var e=b.motionPath instanceof g?b.motionPath.getPathData():b.motionPath,e=d.pointAtPath(e,
    c);a.setTranslate(e.x,e.y);this.doRotate&&a.setRotate(e.tan.getAngle())}});this.doRotate=c;this.motionPath=a}});a.r(11).extendClass(f,{motion:function(a,b,f,d,g){return this.animate(new c(a),b,f,d,g)}});return c}},4:{value:function(b){b=a.r(0);var d=a.r(11).createClass("OpacityAnimator",{base:b,constructor:function(a){this.callBase({beginValue:function(a){return a.getOpacity()},finishValue:a,setter:function(a,c){a.setOpacity(c)}})}});b=a.r(61);a.r(11).extendClass(b,{fxOpacity:function(a,b,c,e,h){return this.animate(new d(a),
    b,c,e,h)},fadeTo:function(){return this.fxOpacity.apply(this,arguments)},fadeIn:function(){return this.fxOpacity.apply(this,[1].concat([].slice.call(arguments)))},fadeOut:function(){return this.fxOpacity.apply(this,[0].concat([].slice.call(arguments)))}});return d}},5:{value:function(b){b=a.r(0);var d=a.r(35),g=a.r(11).createClass("OpacityAnimator",{base:b,constructor:function(a){this.callBase({beginValue:function(a){this.beginPath=a.getPathData();return 0},finishValue:1,setter:function(c,b){c.setPathData(d.pathTween(this.beginPath,
    a,b))}})}});b=a.r(47);a.r(11).extendClass(b,{fxPath:function(a,c,b,d,k){return this.animate(new g(a),c,b,d,k)}});return g}},6:{value:function(b){b=a.r(0);var d=a.r(11).createClass("RotateAnimator",{base:b,constructor:function(a){this.callBase({beginValue:0,finishValue:a,setter:function(a,c,b){c=b.getDelta();a.rotate(c,ax,ay)}})}});b=a.r(61);a.r(11).extendClass(b,{fxRotate:function(a,b,c,e,h){return this.animate(new d(a),b,c,e,h)}});return d}},7:{value:function(b){b=a.r(0);var d=a.r(11).createClass("ScaleAnimator",
    {base:b,constructor:function(a,b){this.callBase({beginValue:0,finishValue:1,setter:function(c,e,d){d=d.getDelta();e=Math.pow(a,d);d=Math.pow(b,d);c.scale(d,e)}})}});b=a.r(61);a.r(11).extendClass(b,{fxScale:function(a,b,c,e,h,k){return this.animate(new d(a,b),c,e,h,k)}});return d}},8:{value:function(b){function d(a,c,b){return e.paralle(a,c,function(a,c){return a+(c-a)*b})}function g(a,c){return e.paralle(a,c,function(a,c){return c-a})}function f(a,c,b){this.timeline=a;this.target=a.target;this.type=
    c;for(var e in b)b.hasOwnProperty(e)&&(this[e]=b[e])}b=a.r(34);var c=a.r(2),e=a.r(12);b=a.r(11).createClass("Timeline",{mixins:[b],constructor:function(a,c,b,e){this.callMixin();this.target=c;this.time=0;this.duration=b;this.easing=e;this.animator=a;this.beginValue=a.beginValue;this.finishValue=a.finishValue;this.setter=a.setter;this.status="ready"},nextFrame:function(a){"playing"==this.status&&(this.time+=a.dur,this.setValue(this.getValue()),this.time>=this.duration&&this.timeUp(),a.next())},getPlayTime:function(){return this.rollbacking?
    this.duration-this.time:this.time},getTimeProportion:function(){return this.getPlayTime()/this.duration},getValueProportion:function(){return this.easing(this.getPlayTime(),0,1,this.duration)},getValue:function(){var a=this.beginValue,c=this.finishValue,b=this.getValueProportion();return d(a,c,b)},setValue:function(a){this.lastValue=this.currentValue;this.currentValue=a;this.setter.call(this.target,this.target,a,this)},getDelta:function(){this.lastValue=void 0===this.lastValue?this.beginValue:this.lastValue;
    return g(this.lastValue,this.currentValue)},play:function(){var a=this.status;this.status="playing";switch(a){case "ready":e.isFunction(this.beginValue)&&(this.beginValue=this.beginValue.call(this.target,this.target));e.isFunction(this.finishValue)&&(this.finishValue=this.finishValue.call(this.target,this.target));this.time=0;this.setValue(this.beginValue);this.frame=c.requestFrame(this.nextFrame.bind(this));break;case "finished":case "stoped":this.time=0;this.frame=c.requestFrame(this.nextFrame.bind(this));
    break;case "paused":this.frame.next()}this.fire("play",new f(this,"play",{lastStatus:a}));return this},pause:function(){this.status="paused";this.fire("pause",new f(this,"pause"));c.releaseFrame(this.frame);return this},stop:function(){this.status="stoped";this.setValue(this.finishValue);this.rollbacking=!1;this.fire("stop",new f(this,"stop"));c.releaseFrame(this.frame);return this},timeUp:function(){this.repeatOption?(this.time=0,this.rollback?this.rollbacking?(this.decreaseRepeat(),this.rollbacking=
    !1):(this.rollbacking=!0,this.fire("rollback",new f(this,"rollback"))):this.decreaseRepeat(),this.repeatOption?this.fire("repeat",new f(this,"repeat")):this.finish()):this.finish()},finish:function(){this.setValue(this.finishValue);this.status="finished";this.fire("finish",new f(this,"finish"));c.releaseFrame(this.frame)},decreaseRepeat:function(){!0!==this.repeatOption&&this.repeatOption--},repeat:function(a,c){this.repeatOption=a;this.rollback=c;return this}});b.requestFrame=c.requestFrame;b.releaseFrame=
    c.releaseFrame;return b}},9:{value:function(b){b=a.r(0);var d=a.r(11).createClass("TranslateAnimator",{base:b,constructor:function(a,b){this.callBase({x:0,y:0},{x:a,y:b},function(a,b,f){b=f.getDelta();a.translate(b.x,b.y)})}});b=a.r(61);a.r(11).extendClass(b,{fxTranslate:function(a,b,c,e,h,k){return this.animate(new d(a,b),c,e,h,k)}});return d}},10:{value:function(){var a=navigator.userAgent.toLowerCase(),d=window.opera,g;g={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(a),opera:!!d&&d.version,webkit:-1<
    a.indexOf(" applewebkit/"),mac:-1<a.indexOf("macintosh")};g.gecko="Gecko"==navigator.product&&!g.webkit&&!g.opera&&!g.ie;var f=0;g.ie&&(f=1*(a.match(/(msie\s|trident.*rv:)([\w.]+)/)[2]||0),g.ie11Compat=11==document.documentMode,g.ie9Compat=9==document.documentMode);if(g.gecko){var c=a.match(/rv:([\d\.]+)/);c&&(c=c[1].split("."),f=1E4*c[0]+100*(c[1]||0)+1*(c[2]||0))}/chrome\/(\d+\.\d)/i.test(a)&&(g.chrome=+RegExp.$1);/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)&&(g.safari=
    +(RegExp.$1||RegExp.$2));g.opera&&(f=parseFloat(d.version()));g.webkit&&(f=parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));g.version=f;g.isCompatible=!g.mobile&&(g.ie&&6<=f||g.gecko&&10801<=f||g.opera&&9.5<=f||g.air&&1<=f||g.webkit&&522<=f||!1);return g}},11:{value:function(a,d){function g(){}function f(a,c){if(!/this\.callBase/.test(a.toString()))throw Error(c+" : \u7c7b\u6784\u9020\u51fd\u6570\u6ca1\u6709\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff01\u4e3a\u4e86\u5b89\u5168\uff0c\u8bf7\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570");
}function c(a,c,b){eval("var KityClass");KityClass=eval("(function "+b+"( __inherit__flag ) {if( __inherit__flag != KITY_INHERIT_FLAG ) {KityClass.__KityConstructor.apply(this, arguments);}this.__KityClassName = KityClass.__KityClassName;})");KityClass.__KityConstructor=a;KityClass.prototype=new c(KITY_INHERIT_FLAG);for(var e in c.prototype)c.prototype.hasOwnProperty(e)&&0!==e.indexOf("__Kity")&&(KityClass.prototype[e]=c.prototype[e]);return KityClass.prototype.constructor=KityClass}function e(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   c){if(!1===c instanceof Array)return a;var b,e=c.length,f,d;a.__KityMixins={constructor:[]};for(b=0;b<e;b++)for(d in f=c[b].prototype,f)!1===f.hasOwnProperty(d)||0===d.indexOf("__Kity")||("constructor"===d?a.__KityMixins.constructor.push(f[d]):a.prototype[d]=a.__KityMixins[d]=f[d]);return a}function h(a,c){c.__KityClassName&&(c=c.prototype);for(var b in c)if(c.hasOwnProperty(b)&&b.indexOf("__Kity")&&"constructor"!=b){var e=a.prototype[b]=c[b];e.__KityMethodClass=a;e.__KityMethodName=b}return a}Function.prototype.bind=
    Function.prototype.bind||function(a){var c=Array.prototype.slice.call(arguments,1);return this.apply(a,c)};d.Class=g;g.__KityClassName="Class";g.prototype.base=function(a){return arguments.callee.caller.__KityMethodClass.__KityBaseClass.prototype[a].apply(this,Array.prototype.slice.call(arguments,1))};g.prototype.callBase=function(){var a=arguments.callee.caller;return a.__KityMethodClass.__KityBaseClass.prototype[a.__KityMethodName].apply(this,arguments)};g.prototype.mixin=function(a){var c=arguments.callee.caller.__KityMethodClass.__KityMixins;
    return c?c[a].apply(this,Array.prototype.slice.call(arguments,1)):this};g.prototype.callMixin=function(){var a=arguments.callee.caller,c=a.__KityMethodName,a=a.__KityMethodClass.__KityMixins;if(!a)return this;a=a[c];if("constructor"==c){for(var c=0,b=a.length;c<b;c++)a[c].call(this);return this}return a.apply(this,arguments)};g.prototype.pipe=function(a){"function"==typeof a&&a.call(this,this);return this};g.prototype.getType=function(){return this.__KityClassName};g.prototype.getClass=function(){return this.constructor};
    eval('var KITY_INHERIT_FLAG = "__KITY_INHERIT_FLAG_" + +new Date();');d.createClass=function(a,b){var d,p,n;1===arguments.length&&(b=arguments[0],a="AnonymousClass");n=b.base||g;b.hasOwnProperty("constructor")?(d=b.constructor,n!=g&&f(d,a)):d=function(){this.callBase.apply(this,arguments);this.callMixin.apply(this,arguments)};p=c(d,n,a);p=e(p,b.mixins);p.__KityClassName=d.__KityClassName=a;p.__KityBaseClass=d.__KityBaseClass=n;p.__KityMethodName=d.__KityMethodName="constructor";p.__KityMethodClass=
        d.__KityMethodClass=p;delete b.mixins;delete b.constructor;delete b.base;return p=h(p,b)};d.extendClass=h}},12:{value:function(){var a={each:function(a,b,f){if(null!==a)if(a.length===+a.length)for(var c=0,e=a.length;c<e;c++){if(!1===b.call(f,a[c],c,a))return!1}else for(c in a)if(a.hasOwnProperty(c)&&!1===b.call(f,a[c],c,a))return!1},extend:function(a){for(var b=arguments,f=this.isBoolean(b[b.length-1])?b[b.length-1]:!1,c=this.isBoolean(b[b.length-1])?b.length-1:b.length,e=1;e<c;e++){var h=b[e],k;
    for(k in h)f&&a.hasOwnProperty(k)||(a[k]=h[k])}return a},deepExtend:function(a,b){for(var f=arguments,c=this.isBoolean(f[f.length-1])?f[f.length-1]:!1,e=this.isBoolean(f[f.length-1])?f.length-1:f.length,h=1;h<e;h++){var k=f[h],l;for(l in k)c&&a.hasOwnProperty(l)||(this.isObject(a[l])&&this.isObject(k[l])?this.deepExtend(a[l],k[l],c):a[l]=k[l])}return a},clone:function(a){var b={},f;for(f in a)a.hasOwnProperty(f)&&(b[f]=a[f]);return b},copy:function(a){return"object"!==typeof a?a:"function"===typeof a?
    null:JSON.parse(JSON.stringify(a))},queryPath:function(a,b){for(var f=a.split("."),c=0,e=b,h=f.length;c<h;)if(f[c]in e){if(e=e[f[c]],c++,c>=h||void 0===e)return e}else break},getValue:function(a,b){return void 0!==a?a:b},flatten:function(d){var g=[],f=d.length,c;for(c=0;c<f;c++)d[c]instanceof Array?g=g.concat(a.flatten(d[c])):g.push(d[c]);return g},paralle:function(d,g,f){var c,e,h;if(d instanceof Array){h=[];for(c=0;c<d.length;c++)h.push(a.paralle(d[c],g[c],f));return h}if(d instanceof Object){if((c=
    d.getClass&&d.getClass())&&c.parse)d=d.valueOf(),g=g.valueOf(),h=a.paralle(d,g,f),h=c.parse(h);else for(e in h={},d)d.hasOwnProperty(e)&&g.hasOwnProperty(e)&&(h[e]=a.paralle(d[e],g[e],f));return h}return!1===isNaN(parseFloat(d))?f(d,g):h},parallelize:function(d){return function(g,f){return a.paralle(g,f,d)}}};a.each("String Function Array Number RegExp Object Boolean".split(" "),function(d){a["is"+d]=function(a){return Object.prototype.toString.apply(a)=="[object "+d+"]"}});return a}},13:{value:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 d,g){var f=a.r(16),c=a.r(12),e=a.r(11).createClass("ColorMatrixEffect",{base:f,constructor:function(a,b){this.callBase(f.NAME_COLOR_MATRIX);this.set("type",c.getValue(a,e.TYPE_MATRIX));this.set("in",c.getValue(b,f.INPUT_SOURCE_GRAPHIC))}});c.extend(e,{TYPE_MATRIX:"matrix",TYPE_SATURATE:"saturate",TYPE_HUE_ROTATE:"hueRotate",TYPE_LUMINANCE_TO_ALPHA:"luminanceToAlpha",MATRIX_ORIGINAL:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0",MATRIX_EMPTY:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"});return e}},14:{value:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   d,g){var f=a.r(16),c=a.r(12),e=a.r(11).createClass("CompositeEffect",{base:f,constructor:function(a,b,d){this.callBase(f.NAME_COMPOSITE);this.set("operator",c.getValue(a,e.OPERATOR_OVER));b&&this.set("in",b);d&&this.set("in2",d)}});c.extend(e,{OPERATOR_OVER:"over",OPERATOR_IN:"in",OPERATOR_OUT:"out",OPERATOR_ATOP:"atop",OPERATOR_XOR:"xor",OPERATOR_ARITHMETIC:"arithmetic"});return e}},15:{value:function(b,d,g){var f=a.r(16),c=a.r(12),e=a.r(11).createClass("ConvolveMatrixEffect",{base:f,constructor:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  b){this.callBase(f.NAME_CONVOLVE_MATRIX);this.set("edgeMode",c.getValue(a,e.MODE_DUPLICATE));this.set("in",c.getValue(b,f.INPUT_SOURCE_GRAPHIC))}});c.extend(e,{MODE_DUPLICATE:"duplicate",MODE_WRAP:"wrap",MODE_NONE:"none"});return e}},16:{value:function(b,d,g){var f=a.r(68);b=a.r(11).createClass("Effect",{constructor:function(a){this.node=f.createNode(a)},getId:function(){return this.node.id},setId:function(a){this.node.id=a;return this},set:function(a,b){this.node.setAttribute(a,b);return this},get:function(a){return this.node.getAttribute(a)},
    getNode:function(){return this.node},toString:function(){return this.node.getAttribute("result")||""}});a.r(12).extend(b,{NAME_GAUSSIAN_BLUR:"feGaussianBlur",NAME_OFFSET:"feOffset",NAME_COMPOSITE:"feComposite",NAME_COLOR_MATRIX:"feColorMatrix",NAME_CONVOLVE_MATRIX:"feConvolveMatrix",INPUT_SOURCE_GRAPHIC:"SourceGraphic",INPUT_SOURCE_ALPHA:"SourceAlpha",INPUT_BACKGROUND_IMAGE:"BackgroundImage",INPUT_BACKGROUND_ALPHA:"BackgroundAlpha",INPUT_FILL_PAINT:"FillPaint",INPUT_STROKE_PAINT:"StrokePaint"});return b}},
    17:{value:function(b,d,g){var f=a.r(16),c=a.r(12);return a.r(11).createClass("GaussianblurEffect",{base:f,constructor:function(a,b){this.callBase(f.NAME_GAUSSIAN_BLUR);this.set("stdDeviation",c.getValue(a,1));this.set("in",c.getValue(b,f.INPUT_SOURCE_GRAPHIC))}})}},18:{value:function(b,d,g){var f=a.r(16),c=a.r(12);return a.r(11).createClass("OffsetEffect",{base:f,constructor:function(a,b,d){this.callBase(f.NAME_OFFSET);this.set("dx",c.getValue(a,0));this.set("dy",c.getValue(b,0));this.set("in",c.getValue(d,
        f.INPUT_SOURCE_GRAPHIC))}})}},19:{value:function(b){return a.r(11).createClass("EffectContainer",{base:a.r(29),addEffect:function(a,b){return this.addItem.apply(this,arguments)},prependEffect:function(){return this.prependItem.apply(this,arguments)},appendEffect:function(){return this.appendItem.apply(this,arguments)},removeEffect:function(a){return this.removeItem.apply(this,arguments)},addEffects:function(){return this.addItems.apply(this,arguments)},setEffects:function(){return this.setItems.apply(this,
        arguments)},getEffect:function(){return this.getItem.apply(this,arguments)},getEffects:function(){return this.getItems.apply(this,arguments)},getFirstEffect:function(){return this.getFirstItem.apply(this,arguments)},getLastEffect:function(){return this.getLastItem.apply(this,arguments)},handleAdd:function(a,b){var f=this.getEffects().length,c=this.getItem(b+1);f===b+1?this.node.appendChild(a.getNode()):this.node.insertBefore(a.getNode(),c.getNode())}})}},20:{value:function(b,d,g){var f=a.r(68);b=
        a.r(11);d=b.createClass("Filter",{mixins:[a.r(19)],constructor:function(a,b,d,g){this.node=f.createNode("filter");void 0!==a&&this.set("x",a);void 0!==b&&this.set("y",b);void 0!==d&&this.set("width",d);void 0!==g&&this.set("height",g)},getId:function(){return this.id},setId:function(a){this.node.id=a;return this},set:function(a,b){this.node.setAttribute(a,b);return this},get:function(a){return this.node.getAttribute(a)},getNode:function(){return this.node}});g=a.r(61);b.extendClass(g,{applyFilter:function(a){(a=
        a.get("id"))&&this.node.setAttribute("filter","url(#"+a+")");return this}});return d}},21:{value:function(b,d,g){var f=a.r(17);return a.r(11).createClass("GaussianblurFilter",{base:a.r(20),constructor:function(a){this.callBase();this.addEffect(new f(a))}})}},22:{value:function(b,d,g){var f=a.r(17),c=a.r(16),e=a.r(13),h=a.r(28),k=a.r(12),l=a.r(14),m=a.r(18);return a.r(11).createClass("ProjectionFilter",{base:a.r(20),constructor:function(a,b,d){this.callBase();this.gaussianblurEffect=new f(a,c.INPUT_SOURCE_ALPHA);
        this.gaussianblurEffect.set("result","gaussianblur");this.addEffect(this.gaussianblurEffect);this.offsetEffect=new m(b,d,this.gaussianblurEffect);this.offsetEffect.set("result","offsetBlur");this.addEffect(this.offsetEffect);this.colorMatrixEffect=new e(e.TYPE_MATRIX,this.offsetEffect);this.colorMatrixEffect.set("values",e.MATRIX_ORIGINAL);this.colorMatrixEffect.set("result","colorOffsetBlur");this.addEffect(this.colorMatrixEffect);this.compositeEffect=new l(l.OPERATOR_OVER,c.INPUT_SOURCE_GRAPHIC,
            this.colorMatrixEffect);this.addEffect(this.compositeEffect)},setColor:function(a){var c=null,b=[];k.isString(a)&&(a=h.parse(a));if(!a)return this;c=e.MATRIX_EMPTY.split(" ");b.push(a.get("r"));b.push(a.get("g"));b.push(a.get("b"));for(var f=0,d=b.length;f<d;f++)c[5*f+3]=b[f]/255;c[18]=a.get("a");this.colorMatrixEffect.set("values",c.join(" "));return this},setOpacity:function(a){var c=this.colorMatrixEffect.get("values").split(" ");c[18]=a;this.colorMatrixEffect.set("values",c.join(" "));return this},
        setOffset:function(a,c){this.setOffsetX(a);this.setOffsetY(c)},setOffsetX:function(a){this.offsetEffect.set("dx",a)},setOffsetY:function(a){this.offsetEffect.set("dy",a)},setDeviation:function(a){this.gaussianblurEffect.set("stdDeviation",a)}})}},23:{value:function(b,d,g){return a.r(11).createClass("Bezier",{mixins:[a.r(52)],base:a.r(47),constructor:function(a){this.callBase();a=a||[];this.changeable=!0;this.setBezierPoints(a)},getBezierPoints:function(){return this.getPoints()},setBezierPoints:function(a){return this.setPoints(a)},
        onContainerChanged:function(){this.changeable&&this.update()},update:function(){var a=null,c=this.getBezierPoints();if(!(2>c.length)){a=this.getDrawer();a.clear();var b=c[0].getVertex(),d=null,g=null;a.moveTo(b.x,b.y);for(var l=1,m=c.length;l<m;l++)b=c[l].getVertex(),g=c[l].getBackward(),d=c[l-1].getForward(),a.bezierTo(d.x,d.y,g.x,g.y,b.x,b.y);return this}}})}},24:{value:function(b,d,g){var f=a.r(64),c=a.r(74),e=a.r(11).createClass("BezierPoint",{constructor:function(a,c,b){this.vertex=new f(a,c);
        this.forward=new f(a,c);this.backward=new f(a,c);this.setSmooth(void 0===b||b);this.setSymReflaction(!0)},clone:function(){var a=new e,c=null,c=this.getVertex();a.setVertex(c.x,c.y);c=this.getForward();a.setForward(c.x,c.y);c=this.getBackward();a.setBackward(c.x,c.y);a.setSymReflaction(this.isSymReflaction);a.setSmooth(this.isSmooth());return a},setVertex:function(a,c){this.vertex.setPoint(a,c);this.update();return this},moveTo:function(a,c){var b=this.forward.getPoint(),e=this.backward.getPoint(),
        f=this.vertex.getPoint(),d=a-f.x,f=c-f.y;this.forward.setPoint(b.x+d,b.y+f);this.backward.setPoint(e.x+d,e.y+f);this.vertex.setPoint(a,c);this.update()},setForward:function(a,c){this.forward.setPoint(a,c);this.smooth&&this.updateAnother(this.forward,this.backward);this.update();this.lastControlPointSet=this.forward;return this},setBackward:function(a,c){this.backward.setPoint(a,c);this.smooth&&this.updateAnother(this.backward,this.forward);this.update();this.lastControlPointSet=this.backward;return this},
        setSymReflaction:function(a){this.symReflaction=a;this.smooth&&this.setSmooth(!0);return this},isSymReflaction:function(){return this.symReflaction},updateAnother:function(a,b){var e=this.getVertex(),f=c.fromPoints(a.getPoint(),e),d=c.fromPoints(e,b.getPoint()),d=f.normalize(this.isSymReflaction()?f.length():d.length());b.setPoint(e.x+d.x,e.y+d.y);return this},setSmooth:function(a){var c;(this.smooth=!!a)&&(c=this.lastControlPointSet)&&this.updateAnother(c,c==this.forward?this.backward:this.forward);
            return this},isSmooth:function(){return this.smooth},getVertex:function(){return this.vertex.getPoint()},getForward:function(){return this.forward.getPoint()},getBackward:function(){return this.backward.getPoint()},update:function(){if(!this.container)return this;this.container.update&&this.container.update(this)}});return e}},25:{value:function(b,d,g){var f=a.r(11).createClass("Box",{constructor:function(a,b,f,d){var g=a;g&&"object"===typeof g&&(a=g.x,b=g.y,f=g.width,d=g.height);0>f&&(a-=f=-f);0>
        d&&(b-=d=-d);this.x=a||0;this.y=b||0;this.width=f||0;this.height=d||0;this.left=this.x;this.right=this.x+this.width;this.top=this.y;this.bottom=this.y+this.height;this.cx=this.x+this.width/2;this.cy=this.y+this.height/2},getRangeX:function(){return[this.left,this.right]},getRangeY:function(){return[this.top,this.bottom]},merge:function(a){if(this.isEmpty())return new f(a.x,a.y,a.width,a.height);var b=Math.min(this.left,a.left),d=Math.max(this.right,a.right),g=Math.min(this.top,a.top);a=Math.max(this.bottom,
        a.bottom);return new f(b,g,d-b,a-g)},intersect:function(a){var b=Math.max(this.left,a.left),d=Math.min(this.right,a.right),g=Math.max(this.top,a.top);a=Math.min(this.bottom,a.bottom);return b>d||g>a?new f:new f(b,g,d-b,a-g)},expand:function(a,b,d,g){if(1>arguments.length)return new f(this);2>arguments.length&&(b=a);3>arguments.length&&(d=a);4>arguments.length&&(g=b);return new f(this.left-g,this.top-a,this.width+b,this.height+a)},valueOf:function(){return[this.x,this.y,this.width,this.height]},toString:function(){return this.valueOf().join(" ")},
        isEmpty:function(){return!this.width||!this.height}});f.parse=function(a){return"string"==typeof a?f.parse(a.split(/[\s,]+/).map(parseFloat)):a instanceof Array?new f(a[0],a[1],a[2],a[3]):"x"in a?new f(a):null};return f}},26:{value:function(b,d,g){return a.r(11).createClass("Circle",{base:a.r(33),constructor:function(a,c,b){this.callBase(a,a,c,b)},getRadius:function(){return this.getRadiusX()},setRadius:function(a){return this.callBase(a,a)}})}},27:{value:function(b,d,g){b=a.r(11);d=a.r(61);g=b.createClass("Clip",
        {base:d,mixins:[a.r(62)],constructor:function(){this.callBase("clipPath")},clip:function(a){a.getNode().setAttribute("clip-path","url(#"+this.getId()+")");return this}});b.extendClass(d,{clipWith:function(a){a.clip(this);return this}});return g}},28:{value:function(b,d,g){var f=a.r(12),c=a.r(65),e={},h=a.r(11).createClass("Color",{constructor:function(a,c,b,d){var g=null;"string"===typeof a?(g=e.parseToValue(a),null===g&&(g={r:0,g:0,b:0,h:0,s:0,l:0,a:1})):(g={r:a|0,g:c|0,b:b|0,a:parseFloat(d)||1},
        g=e.overflowFormat(g),g=f.extend(g,e.rgbValueToHslValue(g)));this._color=g},set:function(a,c){if(!h._MAX_VALUE[a])throw Error("Color set(): Illegal parameter");"a"!==a&&(c=Math.floor(c));"h"==a&&(c=(c+360)%360);this._color[a]=Math.max(h._MIN_VALUE[a],Math.min(h._MAX_VALUE[a],c));-1!=="rgb".indexOf(a)?this._color=f.extend(this._color,e.rgbValueToHslValue(this._color)):-1!=="hsl".indexOf(a)&&(this._color=f.extend(this._color,e.hslValueToRGBValue(this._color)));return this},inc:function(a,c){c=this.get(a)+
        c;"h"==a?c=(c+360)%360:(c=Math.min(h._MAX_VALUE[a],c),c=Math.max(h._MIN_VALUE[a],c));return this.clone().set(a,c)},dec:function(a,c){return this.inc(a,-c)},clone:function(){return new h(this.toRGBA())},get:function(a){return h._MAX_VALUE[a]?this._color[a]:null},getValues:function(){return f.clone(this._color)},valueOf:function(){return this.getValues()},toRGB:function(){return e.toString(this._color,"rgb")},toRGBA:function(){return e.toString(this._color,"rgba")},toHEX:function(){return e.toString(this._color,
        "hex")},toHSL:function(){return e.toString(this._color,"hsl")},toHSLA:function(){return e.toString(this._color,"hsla")},toString:function(){return 1===this._color.a?this.toRGB():this.toRGBA()}});f.extend(h,{_MAX_VALUE:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},_MIN_VALUE:{r:0,g:0,b:0,h:0,s:0,l:0,a:0},R:"r",G:"g",B:"b",H:"h",S:"s",L:"l",A:"a",parse:function(a){var c;f.isString(a)&&(c=e.parseToValue(a));f.isObject(a)&&"r"in a&&(c=a);return null===c?new h:new h(c.r,c.g,c.b,c.a)},createHSL:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           c,b){return h.createHSLA(a,c,b,1)},createHSLA:function(a,c,b,e){var f=null,f=["hsla("+a,c+"%",b+"%",e+")"];return h.parse(f.join(", "))},createRGB:function(a,c,b){return h.createRGBA(a,c,b,1)},createRGBA:function(a,c,b,e){return new h(a,c,b,e)}});f.extend(e,{parseToValue:function(a){var b={};a=c.EXTEND_STANDARD[a]||c.COLOR_STANDARD[a]||a;if(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a))b=e.hexToValue(a);else if(/^(rgba?)/i.test(a))b=e.rgbaToValue(a);else if(/^(hsla?)/i.test(a))b=e.hslaToValue(a);else return null;
        return e.overflowFormat(b)},hexToValue:function(a){var c={},b=["r","g","b"];return/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a)?(a=RegExp.$1.split(""),f.each(b,function(b,f){c[b]=3===a.length?e.toNumber(a[f]+a[f]):e.toNumber(a[2*f]+a[2*f+1])}),c=f.extend(c,e.rgbValueToHslValue(c)),c.a=1,c):null},rgbaToValue:function(a){var c={},b=!1,d=["r","g","b"];return/^(rgba?)/i.test(a)?(b=4===RegExp.$1.length,a=a.replace(/^rgba?/i,"").replace(/\s+/g,"").replace(/[^0-9,.]/g,"").split(","),f.each(d,function(b,e){c[b]=
        a[e]|0}),c=f.extend(c,e.rgbValueToHslValue(c)),c.a=b?parseFloat(a[3]):1,c):null},hslaToValue:function(a){var c={},b=!1;return/^(hsla?)/i.test(a)?(b=4===RegExp.$1.length,a=a.replace(/^hsla?/i,"").replace(/\s+/g,"").replace(/[^0-9,.]/g,"").split(","),c.h=a[0]|0,c.s=a[1]|0,c.l=a[2]|0,c=f.extend(c,e.hslValueToRGBValue(c)),c=e.hslValueToRGBValue(c),c.a=b?parseFloat(a[3]):1,c):null},hslValueToRGBValue:function(a){function c(a,b,e){0>e?e+=1:1<e&&(e-=1);return 1>6*e?a+6*(b-a)*e:1>2*e?b:2>3*e?a+6*(b-a)*(2/
        3-e):a}var b=null,e=null,d={};a=f.extend({},a);a.h/=360;a.s/=100;a.l/=100;0===a.s?d.r=d.g=d.b=a.l:(b=.5>a.l?a.l*(1+a.s):a.l+a.s-a.l*a.s,e=2*a.l-b,d.r=c(e,b,a.h+1/3),d.g=c(e,b,a.h),d.b=c(e,b,a.h-1/3));d.r=Math.min(Math.round(255*d.r),255);d.g=Math.min(Math.round(255*d.g),255);d.b=Math.min(Math.round(255*d.b),255);return d},rgbValueToHslValue:function(a){var c=null,b=null,e={};a=f.extend({},a);a.r/=255;a.g/=255;a.b/=255;c=Math.max(a.r,a.g,a.b);b=Math.min(a.r,a.g,a.b);c===b?e.h=0:c===a.r?e.h=a.g>=a.b?
        60*(a.g-a.b)/(c-b):60*(a.g-a.b)/(c-b)+360:c===a.g?e.h=60*(a.b-a.r)/(c-b)+120:c===a.b&&(e.h=60*(a.r-a.g)/(c-b)+240);e.l=(c+b)/2;e.s=0===e.l||c===b?0:0<e.l&&.5>=e.l?(c-b)/(c+b):(c-b)/(2-c-b);e.h=Math.round(e.h);e.s=Math.round(100*e.s);e.l=Math.round(100*e.l);return e},toString:function(a,c){var b=[];a=f.extend({},a);-1!==c.indexOf("hsl")&&(a.s+="%",a.l+="%");if("hex"!==c)return f.each(c.split(""),function(c){b.push(a[c])}),(c+"("+b.join(", ")+")").toLowerCase();b.push(e.toHexValue(+a.r));b.push(e.toHexValue(+a.g));
        b.push(e.toHexValue(+a.b));return("#"+b.join("")).toLowerCase()},toNumber:function(a){return Number("0x"+a)|0},toHexValue:function(a){a=a.toString(16);return 1===a.length?"0"+a:a},overflowFormat:function(a){var c=f.extend({},a);f.each(["r","g","b","a"],function(a){c.hasOwnProperty(a)&&(c[a]=Math.min(h._MAX_VALUE[a],c[a]),c[a]=Math.max(h._MIN_VALUE[a],c[a]))});return c}});return h}},29:{value:function(b,d,g){function f(){this.container.removeItem(this);return this}return a.r(11).createClass("Container",
        {getItems:function(){return this.items||(this.items=[])},getItem:function(a){return this.getItems()[a]},getFirstItem:function(){return this.getItem(0)},getLastItem:function(){return this.getItem(this.getItems().length-1)},indexOf:function(a){return this.getItems().indexOf(a)},eachItem:function(a){var b=this.getItems(),f=b.length,d;for(d=0;d<f;d++)a.call(this,d,b[d]);return this},addItem:function(a,b,d){var g=this.getItems(),l=g.length;if(~g.indexOf(a))return this;0<=b&&b<l||(b=l);g.splice(b,0,a);
            "object"===typeof a&&(a.container=this,a.remove=f);this.handleAdd(a,b);if(!d)this.onContainerChanged("add",[a]);return this},addItems:function(a){for(var b=0,f=a.length;b<f;b++)this.addItem(a[b],-1,!0);this.onContainerChanged("add",a);return this},setItems:function(a){return this.clear().addItems(a)},appendItem:function(a){return this.addItem(a)},prependItem:function(a){return this.addItem(a,0)},removeItem:function(a,b){if("number"!==typeof a)return this.removeItem(this.indexOf(a));var f=this.getItems(),
            d=f[a];if(void 0===d)return this;f.splice(a,1);d.container&&delete d.container;d.remove&&delete d.remove;this.handleRemove(d,a);if(!b)this.onContainerChanged("remove",[d]);return this},clear:function(){for(var a=[],b;b=this.getFirstItem();)a.push(b),this.removeItem(0,!0);this.onContainerChanged("remove",a);return this},onContainerChanged:function(a,b){},handleAdd:function(a,b){},handleRemove:function(a,b){}})}},30:{value:function(b,d,g){var f=a.r(12),c={getCurvePanLines:function(a,b){var f=c.getCenterPoints(a),
        f=c.getPanLine(a.length,f);return c.getMovedPanLines(a,f,b)},getCenterPoints:function(a){for(var c={},b=null,f=0,d=0,g=a.length;f<g;f++)d=f===g-1?0:f+1,b=f+","+d,c[b]={x:(a[f].x+a[d].y)/2,y:(a[f].x+a[d].y)/2};return c},getPanLine:function(a,c){for(var b={},f=null,d=0,g;d<a;d++){var n=null,f=g=(d+1)%a,n=c[d+","+g],d=g;g=(d+1)%a;g=c[d+","+g];b[f]={points:[{x:n.x,y:n.y},{x:g.x,y:g.y}],center:{x:(n.x+g.x)/2,y:(n.y+g.y)/2}};d=(f+a-1)%a}return b},getMovedPanLines:function(a,c,b){var d={};f.each(a,function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 e){var g=c[e],u=g.center,t=u.x-a.x,s=u.y-a.y,v=d[e]={points:[],center:{x:a.x,y:a.y}};f.each(g.points,function(a,c){var e={x:a.x-t,y:a.y-s},f=v.center,d=e.y-f.y;e.x=f.x+b*(e.x-f.x);e.y=f.y+b*d;v.points.push(e)})});return d}};return a.r(11).createClass("Curve",{base:a.r(47),mixins:[a.r(52)],constructor:function(a,c){this.callBase();this.setPoints(a||[]);this.closeState=!!c;this.changeable=!0;this.smoothFactor=1;this.update()},onContainerChanged:function(){this.changeable&&this.update()},setSmoothFactor:function(a){this.smoothFactor=
        0>a?0:a;this.update();return this},getSmoothFactor:function(){return this.smoothFactor},update:function(){var a=this.getPoints(),b=null,f=this.getDrawer(),d=null,g=null,p=null;f.clear();if(0===a.length)return this;f.moveTo(a[0]);if(1===a.length)return this;if(2===a.length)return f.lineTo(a[1]),this;for(var b=c.getCurvePanLines(a,this.getSmoothFactor()),n=1,u=a.length;n<u;n++)d=b[n].center,g=this.closeState||n!=u-1?b[n].points[0]:b[n].center,p=this.closeState||1!=n?b[n-1].points[1]:b[n-1].center,f.bezierTo(p.x,
        p.y,g.x,g.y,d.x,d.y);this.closeState&&(d=b[0].center,g=b[0].points[0],p=b[a.length-1].points[1],f.bezierTo(p.x,p.y,g.x,g.y,d.x,d.y));return this},close:function(){this.closeState=!0;return this.update()},open:function(){this.closeState=!1;return this.update()},isClose:function(){return!!this.closeState}})}},31:{value:function(b,d,g){return a.r(11).createClass("Data",{constructor:function(){this._data={}},setData:function(a,c){this._data[a]=c;return this},getData:function(a){return this._data[a]},
        removeData:function(a){delete this._data[a];return this}})}},32:{value:function(b,d,g){return a.r(11).createClass("GradientBrush",{base:a.r(59),constructor:function(a){this.callBase(a)}})}},33:{value:function(b,d,g){a.r(12);var f=a.r(51);return a.r(11).createClass("Ellipse",{base:a.r(47),constructor:function(a,b,f,d){this.callBase();this.rx=a||0;this.ry=b||0;this.cx=f||0;this.cy=d||0;this.update()},update:function(){var a=this.rx,b=this.ry,f=this.cx+a,d=this.cx-a,g=this.cy,m=this.getDrawer();m.clear();
        m.moveTo(f,g);m.arcTo(a,b,0,1,1,d,g);m.arcTo(a,b,0,1,1,f,g);return this},getRadius:function(){return{x:this.rx,y:this.ry}},getRadiusX:function(){return this.rx},getRadiusY:function(){return this.ry},getCenter:function(){return new f(this.cx,this.cy)},getCenterX:function(){return this.cx},getCenterY:function(){return this.cy},setRadius:function(a,b){this.rx=a;this.ry=b;return this.update()},setRadiusX:function(a){this.rx=a;return this.update()},setRadiusY:function(a){this.ry=a;return this.update()},
        setCenter:function(a,b){if(1==arguments.length){var d=f.parse(arguments[0]);a=d.x;b=d.y}this.cx=a;this.cy=b;return this.update()},setCenterX:function(a){this.cx=a;return this.update()},setCenterY:function(a){this.cy=a;return this.update()}})}},34:{value:function(b,d,g){function f(a,c,b){b=!!b;l.isString(a)&&(a=a.match(/\S+/g));l.each(a,function(a){e.call(this,this.node,a,c,b)},this);return this}function c(a,c){var b=null,e=this._EVNET_UID,f=void 0===c;try{b=n[e][a]}catch(d){return}f||(f=!0,l.each(b,
        function(a,e){a===c?delete b[e]:f=!1}));f&&(k(this.node,a,p[e][a]),delete n[e][a],delete p[e][a]);return this}function e(a,c,b,e){var f=this._EVNET_UID,d=this;p[f]||(p[f]={});p[f][c]||(p[f][c]=function(a){a=new m(a||window.event);l.each(n[f][c],function(b){var f;b&&(f=b.call(d,a),e&&d.off(c,b));return f},d)});n[f]||(n[f]={});n[f][c]?n[f][c].push(b):(n[f][c]=[b],a&&h(a,c,p[f][c]))}function h(a,c,b){a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent("on"+c,b)}function k(a,c,b){a.removeEventListener?
        a.removeEventListener(c,b,!1):a.detachEvent(c,b)}(function(){function a(c,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");e.initCustomEvent(c,b.bubbles,b.cancelable,b.detail);return e}a.prototype=window.Event.prototype;window.CustomEvent=a})();var l=a.r(12),m=a.r(63),p={},n={},u=0;return a.r(11).createClass("EventHandler",{constructor:function(){this._EVNET_UID=++u},addEventListener:function(a,c){return f.call(this,a,c,!1)},addOnceEventListener:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             c){return f.call(this,a,c,!0)},removeEventListener:function(a,b){return c.call(this,a,b)},on:function(a,c){return this.addEventListener.apply(this,arguments)},once:function(a,c){return this.addOnceEventListener.apply(this,arguments)},off:function(){return this.removeEventListener.apply(this,arguments)},fire:function(a,c){return this.trigger.apply(this,arguments)},trigger:function(a,c){if(this.node){var b=this.node,e=new CustomEvent(a,{bubbles:!0,cancelable:!0});e._kityParam=c;b.dispatchEvent(e)}else a:{e=
        null;try{if(e=p[this._EVNET_UID][a],!e)break a}catch(f){break a}b=l.extend({type:a,target:this},c||{});e.call(this,b)}return this}})}},35:{value:function(b){function d(a){var c,b,e,f,d;c=[];for(b=0;b<a.length;b++)for(f=a[b],c.push(d=[]),e=0;e<f.length;e++)d.push(f[e]);a.isUniform&&(c.isUniform=!0);a.isAbsolute&&(c.isAbsolute=!0);a.isCurve&&(c.isCurve=!0);return c}function g(a,c,b){function e(){var f=Array.prototype.slice.call(arguments,0),d=f.join("\u2400"),g=e.cache=e.cache||{},h=e.count=e.count||
        [];if(g.hasOwnProperty(d)){var f=h,h=d,k=0,l=f.length;a:for(;k<l;k++)if(f[k]===h){f.push(f.splice(k,1)[0]);break a}return b?b(g[d]):g[d]}1E3<=h.length&&delete g[h.shift()];h.push(d);g[d]=a.apply(c,f);return b?b(g[d]):g[d]}return e}function f(a,c,b,e,d,g,h,k,l,m){var p=Math,n=p.PI,u=Math.abs,t=120*n/180,s=n/180*(+d||0),G=[],y,K=function(a,c,b){var e=a*p.cos(b)-c*p.sin(b);a=a*p.sin(b)+c*p.cos(b);return{x:e,y:a}},D,B,J;m?(B=m[0],y=m[1],g=m[2],D=m[3]):(y=K(a,c,-s),a=y.x,c=y.y,y=K(k,l,-s),k=y.x,l=y.y,
        p.cos(n/180*d),p.sin(n/180*d),y=(a-k)/2,B=(c-l)/2,D=y*y/(b*b)+B*B/(e*e),1<D&&(D=p.sqrt(D),b*=D,e*=D),D=b*b,J=e*e,D=(g==h?-1:1)*p.sqrt(u((D*J-D*B*B-J*y*y)/(D*B*B+J*y*y))),g=D*b*B/e+(a+k)/2,D=D*-e*y/b+(c+l)/2,B=p.asin(((c-D)/e).toFixed(9)),y=p.asin(((l-D)/e).toFixed(9)),B=a<g?n-B:B,y=k<g?n-y:y,0>B&&(B=2*n+B),0>y&&(y=2*n+y),h&&B>y&&(B-=2*n),!h&&y>B&&(y-=2*n));u(y-B)>t&&(G=y,n=k,u=l,y=B+t*(h&&y>B?1:-1),k=g+b*p.cos(y),l=D+e*p.sin(y),G=f(k,l,b,e,d,0,h,n,u,[y,G,g,D]));u=y-B;d=p.cos(B);t=p.sin(B);h=p.cos(y);
        n=p.sin(y);u=p.tan(u/4);b=4/3*b*u;u=4/3*u*e;e=[a,c];a=[a+b*t,c-u*d];c=[k+b*n,l-u*h];k=[k,l];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(m)return[a,c,k].concat(G);G=[a,c,k].concat(G).join().split(",");m=[];k=0;for(l=G.length;k<l;k++)m[k]=k%2?K(G[k-1],G[k],s).y:K(G[k],G[k+1],s).x;return m}function c(a,c,b,e,f,d){var g=1/3,h=2/3;return[g*a+h*b,g*c+h*e,g*f+h*b,g*d+h*e,f,d]}function e(a,c){var b=function(a){return function(c,b){return c+a*(b-c)}}(c||.5),e=a[0],f=a[1],d=a[2],g=a[3],h=a[4],k=a[5],l=a[6],m=a[7],
        p=b(e,d),n=b(f,g),u=b(d,h),t=b(g,k),h=b(h,l),k=b(k,m),g=b(p,u),d=b(n,t),u=b(u,h),t=b(t,k),s=b(g,u),b=b(d,t);return[[e,f,p,n,g,d,s,b],[s,b,u,t,h,k,l,m]]}var h=a.r(12),k=a.r(51),l=a.r(74);b=a.r(44);var m={},p=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?\s*)+)/gi,n=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/gi,u={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0};m.pathToString=function(a){a=a||this;if("string"==typeof a)return a;if(a instanceof Array)return a=h.flatten(a),a.join(",").replace(/,?([achlmqrstvxz]),?/gi,
        "$1")};m.parsePathString=g(function(a){var c=[];a.replace(p,function(a,b,e){var f=[];a=b.toLowerCase();e.replace(n,function(a,c){c&&f.push(+c)});"m"==a&&2<f.length&&(c.push([b].concat(f.splice(0,2))),a="l",b="m"==b?"l":"L");if("r"==a)c.push([b].concat(f));else for(;f.length>=u[a]&&(c.push([b].concat(f.splice(0,u[a]))),u[a]););});c.isUniform=!0;c.toString=m.pathToString;return c});m.pathToAbsolute=g(function(a){a=a.isUniform?a:m.parsePathString(m.pathToString(a));var c=[],b=0,e=0,f=0,d=0,g=0,h,k,l,
        p,n;"M"==a[0][0]&&(b=+a[0][1],e=+a[0][2],f=b,d=e,g++,c[0]=["M",b,e]);h;k;for(p=a.length;g<p;g++){c.push(h=[]);k=a[g];if(k[0]!=k[0].toUpperCase())switch(h[0]=k[0].toUpperCase(),h[0]){case "A":h[1]=k[1];h[2]=k[2];h[3]=k[3];h[4]=k[4];h[5]=k[5];h[6]=+(k[6]+b);h[7]=+(k[7]+e);break;case "V":h[1]=+k[1]+e;break;case "H":h[1]=+k[1]+b;break;case "M":f=+k[1]+b;d=+k[2]+e;break;default:for(l=1,n=k.length;l<n;l++)h[l]=+k[l]+(l%2?b:e)}else for(l=0,n=k.length;l<n;l++)h[l]=k[l];switch(h[0]){case "Z":b=f;e=d;break;
        case "H":b=h[1];break;case "V":e=h[1];break;case "M":f=h[h.length-2];d=h[h.length-1];break;default:b=h[h.length-2],e=h[h.length-1]}}c.isUniform=!0;c.isAbsolute=!0;c.toString=m.pathToString;return c});m.pathToCurve=g(function(a){var b,e,d,g,h,k,l,p,n,u,t,s=[];a.isAbsolute||(a=m.pathToAbsolute(a));for(b=0;b<a.length;b++)if(d=a[b][0],g=a[b].slice(1),"M"==d)h=p=e=g,s.push(a[b]);else{"Z"==d&&(l=!0,d="L",g=h);k=g.slice(g.length-2);"H"==d&&(k=[g[0],e[1]],d="L");"V"==d&&(k=[e[0],g[0]],d="L");if("S"==d||"T"==
        d)n=[e[0]+(e[0]-p[0]),e[1]+(e[1]-p[1])];switch(d){case "L":u=e;t=k;break;case "C":u=g.slice(0,2);t=g.slice(2,4);break;case "S":u=n.slice();t=g.slice(0,2);break;case "Q":p=g.slice(0,2);g=c.apply(null,e.concat(g));u=g.slice(0,2);t=g.slice(2,4);break;case "T":g=c.apply(null,e.concat(n).concat(g));u=g.slice(0,2);t=g.slice(2,4);break;case "A":for(g=f.apply(null,e.concat(g)),e=0;e in g;)u=g.slice(e,e+2),t=g.slice(e+2,e+4),k=g.slice(e+4,e+6),s.push(["C"].concat(u).concat(t).concat(k)),e+=6}"A"!=d&&s.push(["C"].concat(u).concat(t).concat(k));
        e=k;"Q"!=d&&(p=t);l&&(s.push(["Z"]),l=!1)}s.isUniform=!0;s.isAbsolute=!0;s.isCurve=!0;s.toString=m.pathToString;return s});m.cutBezier=g(e);m.subBezier=function(a,c,b){a=e(a,c)[0];return b?e(a,b/c)[1]:a};m.pointAtBezier=function(a,c){var b=e(a,c)[0],f=k.parse(b.slice(6)),b=k.parse(b.slice(4,2)),b=l.fromPoints(b,f);f.tan=0===c?m.pointAtBezier(a,.01).tan:b.normalize();return f};m.bezierLength=g(function(a){function c(a){a=h*Math.pow(a,4)+k*Math.pow(a,3)+l*Math.pow(a,2)+m*a+p;0>a&&(a=0);return Math.pow(a,
        .5)}var b,e,f,d,g,h,k,l,m,p;b=-3*a[0]+9*a[2]-9*a[4]+3*a[6];e=6*a[0]-12*a[2]+6*a[4];f=-3*a[0]+3*a[2];d=-3*a[1]+9*a[3]-9*a[5]+3*a[7];g=6*a[1]-12*a[3]+6*a[5];a=-3*a[1]+3*a[3];h=Math.pow(b,2)+Math.pow(d,2);k=2*(b*e+d*g);l=2*(b*f+d*a)+Math.pow(e,2)+Math.pow(g,2);m=2*(e*f+g*a);p=Math.pow(f,2)+Math.pow(a,2);return(c(0)+c(1)+4*(c(.125)+c(.375)+c(.625)+c(.875))+2*(c(.25)+c(.5)+c(.75)))/24});var t=g(function(a){var c,b,e,f,d,g;d=[];c=g=0;for(b=a.length;c<b;c++)e=a[c],"M"==e[0]?(f=e.slice(1),d.push(null)):"Z"==
        e[0]?d.push(null):(f=m.bezierLength(f.concat(e.slice(1))),d.push([g,g+f]),g+=f,f=e.slice(4));d.totalLength=g;return d});m.subPath=function(a,c,b){var e;b=b||0;e=c-b;b-=b|0;c=b+(e-(e|0));if(1<c)return m.subPath(a,1,b).concat(m.subPath(a,c-1));a.isCurve||(a=m.pathToCurve(a));e=t(a);var f=e.totalLength;c*=f;b=f*(b||0);var f=[],d,g,h,k,l,p,n;d=0;for(g=a.length;d<g;d++)if("M"==a[d][0])p=a[d].slice(1),n&&f.push(a[d].slice());else if("Z"!=a[d][0]){h=e[d][0];k=e[d][1];l=k-h;p=p.concat(a[d].slice(1));if(!(b>
        k))if(b>=h)h=m.subBezier(p,Math.min((c-h)/l,1),(b-h)/l),n=!0,h.slice(0,2),f.push(["M"].concat(h.slice(0,2))),f.push(["C"].concat(h.slice(2)));else if(c>=k)f.push(a[d].slice());else if(c>=h)h=m.subBezier(p,(c-h)/l),f.push(["C"].concat(h.slice(2))),n=!1;else break;p=p.slice(p.length-2)}f.isAbsolute=!0;f.isCurve=!0;f.isUniform=!0;f.toString=m.pathToString;return f};m.pointAtPath=function(a,c){a.isCurve||(a=m.pathToCurve(a));var b=m.subPath(a,c),e="Z"==b[b.length-1][0]?b[b.length-2]:b[b.length-1],e=e.slice(1),
        b=k.parse(e.slice(4)),e=k.parse(e.slice(2,4));b.tan=l.fromPoints(e,b).normalize();return b};m.pathLength=g(function(a){a.isCurve||(a=m.pathToCurve(a));return t(a).totalLength});m.pathKeyPoints=g(function(a){var c,b,e;a.isCurve||(a=m.pathToCurve(a));e=[];c=0;for(b=a.length;c<b;c++)"z"!=a[c][0]&&e.push(a[c].slice(a[c].length-2));return e});var s=g(function(a,c){function b(a,c){return a[c||a.i]&&a[c||a.i][0]}function e(a,c){var b=a[c||a.i]&&a[c||a.i].slice(1);return b&&b.slice(-2)}function f(a){return"Z"==
        b(a)?(a.splice(a.i,1),!0):!1}function g(a){return"M"==b(a)?(a.o.splice(a.o.i,0,["M"].concat(e(a.o,a.o.i-1))),a.i++,a.o.i++,!0):!1}function h(a){for(var c,b=1;!c;)c=e(a,a.length-b++);for(a.o.i=a.i;a.length<a.o.length;)f(a.o)||g(a.o)||(a.push(["C"].concat(c).concat(c).concat(c)),a.i++,a.o.i++)}a.isCurve||(a=m.pathToCurve(a));c.isCurve||(c=m.pathToCurve(c));var k=d(a),l=d(c);k.i=0;l.i=0;k.o=l;for(l.o=k;k.i<k.length&&l.i<l.length;)f(k)||f(l)||(b(k)==b(l)?(k.i++,l.i++):g(k)||g(l)||(k.i++,l.i++));k.i==
        k.length&&h(k);l.i==l.length&&h(l);delete k.i;delete k.o;delete l.i;delete l.o;return[k,l]});m.alignCurve=s;m.pathTween=function(a,c,b){if(0===b)return a;if(1===b)return c;c=s(a,c);var e=[],f,d,g;a=c[0];c=c[1];for(d=0;d<a.length;d++)for(e.push(f=[]),f.push(a[d][0]),g=1;g<a[d].length;g++)f.push(a[d][g]+b*(c[d][g]-a[d][g]));e.isUniform=e.isCurve=e.isAbsolute=!0;return e};m.transformPath=g(function(a,c){var b,e,f,d,g;a.isCurve||(a=m.pathToCurve(a));d=[];b=0;for(e=a.length;b<e;b++)for(d.push([a[b][0]]),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  f=1;f<a[b].length;f+=2)g=a[b].slice(f,f+2),g=c.transformPoint(k.parse(g)),d.push(g);return d});a.r(11).extendClass(b,{transformPath:function(a){return m.transformPath(a,this)}});return m}},36:{value:function(b,d,g){var f=a.r(68);b=a.r(32);var c=a.r(28);return a.r(11).createClass("GradientBrush",{base:b,constructor:function(a){this.callBase(a);this.stops=[]},addStop:function(a,b,d){var g=f.createNode("stop");b instanceof c||(b=c.parse(b));void 0===d&&(d=b.get("a"));g.setAttribute("offset",a);g.setAttribute("stop-color",
        b.toRGB());1>d&&g.setAttribute("stop-opacity",d);this.node.appendChild(g);return this}})}},37:{value:function(b,d,g){b=a.r(62);return a.r(11).createClass("Group",{mixins:[b],base:a.r(61),constructor:function(){this.callBase("g")}})}},38:{value:function(b,d,g){b=a.r(62);return a.r(11).createClass("HyperLink",{mixins:[b],base:a.r(61),constructor:function(a){this.callBase("a");this.setHref(a)},setHref:function(a){this.node.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);return this},getHref:function(){return this.node.getAttributeNS("xlink:href")},
        setTarget:function(a){this.node.setAttribute("target",a);return this},getTarget:function(){return this.node.getAttribute("target")}})}},39:{value:function(b,d,g){return a.r(11).createClass("Image",{base:a.r(61),constructor:function(a,c,b,d,g){this.callBase("image");this.url=a;this.width=c||0;this.height=b||0;this.x=d||0;this.y=g||0;this.update()},update:function(){this.node.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.url);this.node.setAttribute("x",this.x);this.node.setAttribute("y",
        this.y);this.node.setAttribute("width",this.width);this.node.setAttribute("height",this.height);return this},setUrl:function(a){this.url=""===a?null:a;return this.update()},getUrl:function(){return this.url},setWidth:function(a){this.width=a;return this.update()},getWidth:function(){return this.width},setHeight:function(a){this.height=a;return this.update()},getHeight:function(){return this.height},setX:function(a){this.x=a;return this.update()},getX:function(){return this.x},setY:function(a){this.y=
        a;return this.update()},getY:function(){return this.y}})}},40:{value:function(b,d,g){return a.r(11).createClass("Line",{base:a.r(47),constructor:function(a,c,b,d){this.callBase();this.point1={x:a||0,y:c||0};this.point2={x:b||0,y:d||0};this.update()},setPoint1:function(a,c){this.point1.x=a;this.point1.y=c;return this.update()},setPoint2:function(a,c){this.point2.x=a;this.point2.y=c;return this.update()},getPoint1:function(){return{x:this.point1.x,y:this.point1.y}},getPoint2:function(){return{x:this.point2.x,
        y:this.point2.y}},update:function(){var a=this.getDrawer();a.clear();a.moveTo(this.point1.x,this.point1.y);a.lineTo(this.point2.x,this.point2.y);return this}})}},41:{value:function(b,d,g){a.r(68);b=a.r(36);return a.r(11).createClass("LinearGradientBrush",{base:b,constructor:function(a){this.callBase("linearGradient");this.setStartPosition(0,0);this.setEndPosition(1,0);"function"==typeof a&&a.call(this,this)},setStartPosition:function(a,c){this.node.setAttribute("x1",a);this.node.setAttribute("y1",
        c);return this},setEndPosition:function(a,c){this.node.setAttribute("x2",a);this.node.setAttribute("y2",c);return this},getStartPosition:function(){return{x:+this.node.getAttribute("x1"),y:+this.node.getAttribute("y1")}},getEndPosition:function(){return{x:+this.node.getAttribute("x2"),y:+this.node.getAttribute("y2")}}})}},42:{value:function(b,d,g){var f=a.r(51);b=a.r(11).createClass("Marker",{base:a.r(59),mixins:[a.r(62),a.r(76)],constructor:function(){this.callBase("marker");this.setOrient("auto")},
        setRef:function(a,b){1===arguments.length&&(b=a.y,a=a.x);this.node.setAttribute("refX",a);this.node.setAttribute("refY",b);return this},getRef:function(){return new f(+this.node.getAttribute("refX"),+this.node.getAttribute("refY"))},setWidth:function(a){this.node.setAttribute("markerWidth",this.width=a);return this},setOrient:function(a){this.node.setAttribute("orient",this.orient=a);return this},getOrient:function(){return this.orient},getWidth:function(){return+this.width},setHeight:function(a){this.node.setAttribute("markerHeight",
            this.height=a);return this},getHeight:function(){return+this.height}});d=a.r(47);a.r(11).extendClass(d,{setMarker:function(a,b){b=b||"end";a?this.node.setAttribute("marker-"+b,a.toString()):this.node.removeAttribute("marker-"+b);return this}});return b}},43:{value:function(b,d,g){b=a.r(11);d=a.r(61);g=b.createClass("Mask",{base:d,mixins:[a.r(62)],constructor:function(){this.callBase("mask")},mask:function(a){a.getNode().setAttribute("mask","url(#"+this.getId()+")");return this}});b.extendClass(d,
        {maskWith:function(a){a.mask(this);return this}});return g}},44:{value:function(b,d,g){function f(a,c){return{a:c.a*a.a+c.c*a.b,b:c.b*a.a+c.d*a.b,c:c.a*a.c+c.c*a.d,d:c.b*a.c+c.d*a.d,e:c.a*a.e+c.c*a.f+c.e,f:c.b*a.e+c.d*a.f+c.f}}var c=a.r(12),e=a.r(25),h=/matrix\s*\((.+)\)/i,k=a.r(51),l=a.r(11).createClass("Matrix",{constructor:function(){arguments.length?this.setMatrix.apply(this,arguments):this.setMatrix(1,0,0,1,0,0)},translate:function(a,c){this.m=f(this.m,{a:1,c:0,e:a,b:0,d:1,f:c});return this},
        rotate:function(a){var c=a*Math.PI/180;a=Math.sin(c);c=Math.cos(c);this.m=f(this.m,{a:c,c:-a,e:0,b:a,d:c,f:0});return this},scale:function(a,c){void 0===c&&(c=a);this.m=f(this.m,{a:a,c:0,e:0,b:0,d:c,f:0});return this},skew:function(a,c){void 0===c&&(c=a);var b=Math.tan(a*Math.PI/180),e=Math.tan(c*Math.PI/180);this.m=f(this.m,{a:1,c:b,e:0,b:e,d:1,f:0});return this},inverse:function(){var a=this.m,c=a.a,b=a.b,e=a.c,f=a.d,d=a.e,a=a.f,g;g=c*f-b*e;return new l(f/g,-b/g,-e/g,c/g,(e*a-d*f)/g,(b*d-c*a)/g)},
        setMatrix:function(a,b,e,f,d,g){this.m=1===arguments.length?c.clone(arguments[0]):{a:a,b:b,c:e,d:f,e:d,f:g};return this},getMatrix:function(){return c.clone(this.m)},getTranslate:function(){var a=this.m;return{x:a.e/a.a,y:a.f/a.d}},mergeMatrix:function(a){return new l(f(this.m,a.m))},merge:function(a){return this.mergeMatrix(a)},toString:function(){return this.valueOf().join(" ")},valueOf:function(){var a=this.m;return[a.a,a.b,a.c,a.d,a.e,a.f]},equals:function(a){var c=this.m;a=a.m;return c.a==a.a&&
            c.b==a.b&&c.c==a.c&&c.d==a.d&&c.e==a.e&&c.f==a.f},transformPoint:function(){return l.transformPoint.apply(null,[].slice.call(arguments).concat([this.m]))},transformBox:function(a){return l.transformBox(a,this.m)},clone:function(){return new l(this.m)}});l.parse=function(a){var c=parseFloat;if(a instanceof Array)return new l({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]});if(a=h.exec(a)){var b=a[1].split(",");6!=b.length&&(b=a[1].split(" "));return new l({a:c(b[0]),b:c(b[1]),c:c(b[2]),d:c(b[3]),e:c(b[4]),
        f:c(b[5])})}return new l};l.transformPoint=function(a,c,b){2===arguments.length&&(b=c,c=a.y,a=a.x);return new k(b.a*a+b.c*c+b.e,b.b*a+b.d*c+b.f)};l.transformBox=function(a,b){for(var f=Number.MAX_VALUE,d=-Number.MAX_VALUE,g=Number.MAX_VALUE,h=-Number.MAX_VALUE,k=[[a.x,a.y],[a.x+a.width,a.y],[a.x,a.y+a.height],[a.x+a.width,a.y+a.height]],r,q=[];r=k.pop();)r=l.transformPoint(r[0],r[1],b),q.push(r),f=Math.min(f,r.x),d=Math.max(d,r.x),g=Math.min(g,r.y),h=Math.max(h,r.y);a=new e({x:f,y:g,width:d-f,height:h-
        g});c.extend(a,{closurePoints:q});return a};l.getCTM=function(a,c){var b={a:1,b:0,c:0,d:1,e:0,f:0},e=a.shapeNode||a.node;c=c||"parent";switch(c){case "screen":b=e.getScreenCTM();break;case "doc":case "paper":b=e.getCTM();break;case "view":case "top":a.getPaper()&&(b=e.getTransformToElement(a.getPaper().shapeNode));break;case "parent":a.node.parentNode&&(b=e.getTransformToElement(a.node.parentNode));break;default:c.node&&(b=e.getTransformToElement(c.shapeNode||c.node))}return b?new l(b.a,b.b,b.c,b.d,
        b.e,b.f):new l};return l}},45:{value:function(b,d,g){var f=a.r(65),c=a.r(28);b=a.r(12);d=a.r(11).createClass("Palette",{constructor:function(){this.color={}},get:function(a){return(a=this.color[a]||f.EXTEND_STANDARD[a]||f.COLOR_STANDARD[a]||"")?new c(a):null},getColorValue:function(a){return this.color[a]||f.EXTEND_STANDARD[a]||f.COLOR_STANDARD[a]||""},add:function(a,b){this.color[a]="string"===typeof b?(new c(b)).toRGBA():b.toRGBA();return b},remove:function(a){return this.color.hasOwnProperty(a)?
        (delete this.color[a],!0):!1}});b.extend(d,{getColor:function(a){return(a=f.EXTEND_STANDARD[a]||f.COLOR_STANDARD[a])?new c(a):null},getColorValue:function(a){return f.EXTEND_STANDARD[a]||f.COLOR_STANDARD[a]||""},addColor:function(a,b){f.EXTEND_STANDARD[a]="string"===typeof b?(new c(b)).toRGBA():b.toRGBA();return b},removeColor:function(a){return f.EXTEND_STANDARD.hasOwnProperty(a)?(delete f.EXTEND_STANDARD[a],!0):!1}});return d}},46:{value:function(b,d,g){b=a.r(11);var f=a.r(12),c=a.r(68),e=a.r(29);
        d=a.r(62);g=a.r(76);var h=a.r(34),k=a.r(67),l=a.r(44),m=b.createClass("Paper",{mixins:[d,h,k,g],constructor:function(a){this.callBase();this.node=this.createSVGNode();this.node.paper=this;this.node.appendChild(this.resourceNode=c.createNode("defs"));this.node.appendChild(this.shapeNode=c.createNode("g"));this.resources=new e;this.setWidth("100%").setHeight("100%");a&&this.renderTo(a);this.callMixin()},renderTo:function(a){f.isString(a)&&(a=document.getElementById(a));this.container=a;a.appendChild(this.node)},
            createSVGNode:function(){var a=c.createNode("svg");a.setAttribute("xmlns","http://www.w3.org/2000/svg");a.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");return a},getNode:function(){return this.node},getContainer:function(){return this.container},getWidth:function(){return this.node.clientWidth},setWidth:function(a){this.node.setAttribute("width",a);return this},getHeight:function(){return this.node.clientHeight},setHeight:function(a){this.node.setAttribute("height",a);return this},setViewPort:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    c,b){var e,f;1==arguments.length&&(e=arguments[0],a=e.center.x,c=e.center.y,b=e.zoom);b=b||1;f=this.getViewBox();e=new l;var d=f.x+f.width/2-a;f=f.y+f.height/2-c;e.translate(-a,-c);e.scale(b);e.translate(a,c);e.translate(d,f);this.shapeNode.setAttribute("transform","matrix("+e+")");this.viewport={center:{x:a,y:c},offset:{x:d,y:f},zoom:b};return this},getViewPort:function(){if(!this.viewport){var a=this.getViewBox();return{zoom:1,center:{x:a.x+a.width/2,y:a.y+a.height/2},offset:{x:0,y:0}}}return this.viewport},
            getViewPortMatrix:function(){return l.parse(this.shapeNode.getAttribute("transform"))},getViewPortTransform:function(){var a=this.shapeNode.getCTM();return new l(a.a,a.b,a.c,a.d,a.e,a.f)},getTransform:function(){return this.getViewPortTransform().reverse()},addResource:function(a){this.resources.appendItem(a);a.node&&this.resourceNode.appendChild(a.node);return this},removeResource:function(a){a.remove&&a.remove();a.node&&this.resourceNode.removeChild(a.node);return this},getPaper:function(){return this}});
        d=a.r(61);b.extendClass(d,{getPaper:function(){for(var a=this.container;a&&!1===a instanceof m;)a=a.container;return a},isAttached:function(){return!!this.getPaper()},whenPaperReady:function(a){function c(){var e=b.getPaper();e&&a&&a.call(b,e);return e}var b=this;if(!c())this.on("add treeadd",function s(){c()&&(b.off("add",s),b.off("treeadd",s))});return this}});return m}},47:{value:function(b,d,g){a.r(12);b=a.r(11).createClass;d=a.r(61);var f=a.r(68),c=a.r(35),e=Array.prototype.slice,h=b("PathDrawer",
        {constructor:function(a){this.segment=[];this.path=a;this.__clear=!1},getPath:function(){return this.path},redraw:function(){this._transation=this._transation||[];return this.clear()},done:function(){var a=this._transation;this._transation=null;this.push(a);return this},clear:function(){this._transation?this._transation=[]:this.path.setPathData("M 0 0");this._clear=!0;return this},push:function(){var a=e.call(arguments),b;if(this._transation)return this._transation.push(a),this;this._clear?(b="",
            this._clear=!1):b=this.path.getPathData();this.path.setPathData((b||"")+c.pathToString(a));return this},moveTo:function(a,c){return this.push("M",e.call(arguments))},moveBy:function(a,c){return this.push("m",e.call(arguments))},lineTo:function(a,c){return this.push("L",e.call(arguments))},lineBy:function(a,c){return this.push("l",e.call(arguments))},arcTo:function(a,c,b,f,d,g,h){return this.push("A",e.call(arguments))},arcBy:function(a,c,b,e,f,d,g){return this.push("a",arguments)},carcTo:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  c,b,f,d){return this.push("A",[a,a,0].concat(e.call(arguments,1)))},carcBy:function(a,c,b,f,d){return this.push("a",[a,a,0].concat(e.call(arguments,1)))},bezierTo:function(a,c,b,f,d,g){return this.push("C",e.call(arguments))},bezierBy:function(a,c,b,f,d,g){return this.push("c",e.call(arguments))},close:function(){return this.push("z")}});return b("Path",{base:d,constructor:function(a){this.callBase("path");a&&this.setPathData(a);this.node.setAttribute("fill",f.defaults.fill);this.node.setAttribute("stroke",
        f.defaults.stroke)},setPathData:function(a){this.pathdata=c.pathToString(a||"M0,0");this.node.setAttribute("d",this.pathdata);this.trigger("shapeupdate",{type:"pathdata"});return this},getPathData:function(){return this.pathdata||""},getDrawer:function(){return new h(this)},isClosed:function(){var a=this.getPathData();return!!~a.indexOf("z")||!!~a.indexOf("Z")}})}},48:{value:function(b,d,g){b=a.r(32);d=a.r(62);a.r(68);return a.r(11).createClass("PatternBrush",{base:b,mixins:[d],constructor:function(){this.callBase("pattern");
        this.node.setAttribute("patternUnits","userSpaceOnUse")},setX:function(a){this.x=a;this.node.setAttribute("x",a);return this},setY:function(a){this.y=a;this.node.setAttribute("y",a);return this},setWidth:function(a){this.width=a;this.node.setAttribute("width",a);return this},setHeight:function(a){this.height=a;this.node.setAttribute("height",a);return this},getWidth:function(){return this.width},getHeight:function(){return this.height}})}},49:{value:function(b,d,g){var f=a.r(28);return a.r(11).createClass("Pen",
        {constructor:function(a,b){this.brush=a;this.width=b||1;this.dashArray=this.linejoin=this.linecap=null;this.opacity=1},getBrush:function(){return this.brush},setBrush:function(a){this.brush=a;return this},setColor:function(a){return this.setBrush(a)},getColor:function(){return this.brush instanceof f?this.brush:null},getWidth:function(){return this.width},setWidth:function(a){this.width=a;return this},getOpacity:function(){return this.opacity},setOpacity:function(a){this.opacity=a},getLineCap:function(){return this.linecap},
            setLineCap:function(a){this.linecap=a;return this},getLineJoin:function(){return this.linejoin},setLineJoin:function(a){this.linejoin=a;return this},getDashArray:function(){return this.dashArray},setDashArray:function(a){this.dashArray=a;return this},stroke:function(a){a=a.node;a.setAttribute("stroke",this.brush.toString());a.setAttribute("stroke-width",this.getWidth());1>this.getOpacity()&&a.setAttribute("stroke-opacity",this.getOpacity());this.getLineCap()&&a.setAttribute("stroke-linecap",this.getLineCap());
            this.getLineJoin()&&a.setAttribute("stroke-linejoin",this.getLineJoin());this.getDashArray()&&a.setAttribute("stroke-dasharray",this.getDashArray())}})}},50:{value:function(b,d,g){return a.r(11).createClass({base:a.r(69),constructor:function(a,b,e){this.callBase([0,a],b,e)},getRadius:function(){return this.getSectionArray()[1]},setRadius:function(a){this.setSectionArray([0,a])}})}},51:{value:function(b,d,g){var f=a.r(11).createClass("Point",{constructor:function(a,b){this.x=a||0;this.y=b||0},offset:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             b){1==arguments.length&&(b=a.y,a=a.x);return new f(this.x+a,this.y+b)},valueOf:function(){return[this.x,this.y]},toString:function(){return this.valueOf().join(" ")},spof:function(){return new f((this.x|0)+.5,(this.y|0)+.5)},round:function(){return new f(this.x|0,this.y|0)},isOrigin:function(){return 0===this.x&&0===this.y}});f.fromPolar=function(a,b,d){"rad"!=d&&(b=b/180*Math.PI);return new f(a*Math.cos(b),a*Math.sin(b))};f.parse=function(a){if(!a)return new f;if(a instanceof f)return a;if("string"==
        typeof a)return f.parse(a.split(/\s*[\s,]\s*/));if("0"in a&&"1"in a)return new f(a[0],a[1])};return f}},52:{value:function(b,d,g){return a.r(11).createClass("PointContainer",{base:a.r(29),constructor:function(){this.callBase()},addPoint:function(a,b){return this.addItem.apply(this,arguments)},prependPoint:function(){return this.prependItem.apply(this,arguments)},appendPoint:function(){return this.appendItem.apply(this,arguments)},removePoint:function(a){return this.removeItem.apply(this,arguments)},
        addPoints:function(){return this.addItems.apply(this,arguments)},setPoints:function(){return this.setItems.apply(this,arguments)},getPoint:function(){return this.getItem.apply(this,arguments)},getPoints:function(){return this.getItems.apply(this,arguments)},getFirstPoint:function(){return this.getFirstItem.apply(this,arguments)},getLastPoint:function(){return this.getLastItem.apply(this,arguments)}})}},53:{value:function(b,d,g){a.r(12);return a.r(11).createClass("Poly",{base:a.r(47),mixins:[a.r(52)],
        constructor:function(a,b){this.callBase();this.closeable=!!b;this.setPoints(a||[]);this.changeable=!0;this.update()},onContainerChanged:function(){this.changeable&&this.update()},update:function(){var a=this.getDrawer(),b=this.getPoints();a.clear();if(!b.length)return this;a.moveTo(b[0]);for(var e=1,d,g=b.length;e<g;e++)d=b[e],a.lineTo(d);this.closeable&&2<b.length&&a.close();return this}})}},54:{value:function(b,d,g){return a.r(11).createClass("Polygon",{base:a.r(53),constructor:function(a){this.callBase(a,
        !0)}})}},55:{value:function(b,d,g){return a.r(11).createClass("Polyline",{base:a.r(53),constructor:function(a){this.callBase(a)}})}},56:{value:function(b,d,g){b=a.r(36);return a.r(11).createClass("RadialGradientBrush",{base:b,constructor:function(a){this.callBase("radialGradient");this.setCenter(.5,.5);this.setFocal(.5,.5);this.setRadius(.5);"function"==typeof a&&a.call(this,this)},setCenter:function(a,b){this.node.setAttribute("cx",a);this.node.setAttribute("cy",b);return this},getCenter:function(){return{x:+this.node.getAttribute("cx"),
        y:+this.node.getAttribute("cy")}},setFocal:function(a,b){this.node.setAttribute("fx",a);this.node.setAttribute("fy",b);return this},getFocal:function(){return{x:+this.node.getAttribute("fx"),y:+this.node.getAttribute("fy")}},setRadius:function(a){this.node.setAttribute("r",a);return this},getRadius:function(){return+this.node.getAttribute("r")}})}},57:{value:function(b,d,g){var f={};b=a.r(12);var c=a.r(51),e=a.r(25);b.extend(f,{formatRadius:function(a,b,c){a=Math.floor(Math.min(a/2,b/2));return Math.min(a,
        c)}});return a.r(11).createClass("Rect",{base:a.r(47),constructor:function(a,b,c,e,d){this.callBase();this.x=c||0;this.y=e||0;this.width=a||0;this.height=b||0;this.radius=f.formatRadius(this.width,this.height,d||0);this.update()},update:function(){var a=this.x,b=this.y,c=this.width,e=this.height,f=this.radius,d=this.getDrawer().redraw();f?(c-=2*f,e-=2*f,d.push("M",a+f,b),d.push("h",c),d.push("a",f,f,0,0,1,f,f),d.push("v",e),d.push("a",f,f,0,0,1,-f,f),d.push("h",-c),d.push("a",f,f,0,0,1,-f,-f),d.push("v",
        -e),d.push("a",f,f,0,0,1,f,-f)):(d.push("M",a,b),d.push("h",c),d.push("v",e),d.push("h",-c));d.push("z");d.done();return this},setWidth:function(a){this.width=a;return this.update()},setHeight:function(a){this.height=a;return this.update()},setSize:function(a,b){this.width=a;this.height=b;return this.update()},setBox:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this.update()},getBox:function(){return new e(this.x,this.y,this.width,this.height)},getRadius:function(){return this.radius},
        setRadius:function(a){this.radius=a;return this.update()},getPosition:function(){return new c(this.x,this.y)},setPosition:function(a,b){if(1==arguments.length){var e=c.parse(arguments[0]);b=e.y;a=e.x}this.x=a;this.y=b;return this.update()},getWidth:function(){return this.width},getHeight:function(){return this.height},getPositionX:function(){return this.x},getPositionY:function(){return this.y},setPositionX:function(a){this.x=a;return this.update()},setPositionY:function(a){this.y=a;return this.update()}})}},
    58:{value:function(b,d,g){var f=a.r(51);return a.r(11).createClass("RegularPolygon",{base:a.r(47),constructor:function(a,b,d,g){this.callBase();this.radius=b||0;this.side=Math.max(a||3,3);2<arguments.length&&3==arguments.length&&(g=d.y,d=d.x);this.center=new f(d,g);this.draw()},getSide:function(){return this.side},setSide:function(a){this.side=a;return this.draw()},getRadius:function(){return this.radius},setRadius:function(a){this.radius=a;return this.draw()},draw:function(){var a=this.radius,b=
        this.side,d=2*Math.PI/b,g=this.getDrawer(),l;g.clear();g.moveTo(f.fromPolar(a,Math.PI/2,"rad").offset(this.center));for(l=0;l<=b;l++)g.lineTo(f.fromPolar(a,d*l+Math.PI/2,"rad").offset(this.center));g.close();return this}})}},59:{value:function(b,d,g){var f=a.r(68);return a.r(11).createClass("Resource",{constructor:function(a){this.callBase();this.node=f.createNode(a)},toString:function(){return"url(#"+this.node.id+")"}})}},60:{value:function(b,d,g){return a.r(11).createClass({base:a.r(69),constructor:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           b){this.callBase([a,b],360,0)},getInnerRadius:function(){return this.getSectionArray()[0]},getOuterRadius:function(){return this.getSectionArray()[1]},setInnerRadius:function(a){this.setSectionArray([a,this.getOuterRadius()])},setOuterRadius:function(a){this.setSectionArray([this.getInnerRadius(),a])}})}},61:{value:function(b,d,g){var f=a.r(68),c=a.r(12);b=a.r(34);d=a.r(67);g=a.r(31);var e=a.r(44);a.r(49);var h=Array.prototype.slice,k=a.r(25);return a.r(11).createClass("Shape",{mixins:[b,d,g],constructor:function(a){this.node=
        f.createNode(a);this.node.shape=this;this.transform={translate:null,rotate:null,scale:null,matrix:null};this.callMixin()},getId:function(){return this.node.id},setId:function(a){this.node.id=a;return this},getNode:function(){return this.node},getBoundaryBox:function(){var a;try{a=this.node.getBBox()}catch(b){a={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}return new k(a)},getRenderBox:function(a){var b=this.getBoundaryBox();return this.getTransform(a).transformBox(b)},
        getWidth:function(){return this.getRenderBox().width},getHeight:function(){return this.getRenderBox().height},getSize:function(){var a=this.getRenderBox();delete a.x;delete a.y;return a},setOpacity:function(a){this.node.setAttribute("opacity",a);return this},getOpacity:function(){var a=this.node.getAttribute("opacity");return a?+a:1},setVisible:function(a){a?this.node.removeAttribute("display"):this.node.setAttribute("display","none");return this},getVisible:function(){this.node.getAttribute("display")},
        hasAncestor:function(a){for(var b=this.container;b;){if(b===a)return!0;b=b.container}return!1},getTransform:function(a){return e.getCTM(this,a)},clearTransform:function(){this.node.removeAttribute("transform");this.transform={translate:null,rotate:null,scale:null,matrix:null};this.trigger("shapeupdate",{type:"transform"});return this},_applyTransform:function(){var a=this.transform,b=[];a.translate&&b.push(["translate(",a.translate,")"]);a.rotate&&b.push(["rotate(",a.rotate,")"]);a.scale&&b.push(["scale(",
            a.scale,")"]);a.matrix&&b.push(["matrix(",a.matrix,")"]);this.node.setAttribute("transform",c.flatten(b).join(" "));return this},setMatrix:function(a){this.transform.matrix=a;return this._applyTransform()},setTranslate:function(a){this.transform.translate=null!==a&&h.call(arguments)||null;return this._applyTransform()},setRotate:function(a){this.transform.rotate=null!==a&&h.call(arguments)||null;return this._applyTransform()},setScale:function(a){this.transform.scale=null!==a&&h.call(arguments)||
            null;return this._applyTransform()},translate:function(a,b){var c=this.transform.matrix||new e;void 0===b&&(b=0);this.transform.matrix=c.translate(a,b);return this._applyTransform()},rotate:function(a){var b=this.transform.matrix||new e;this.transform.matrix=b.rotate(a);return this._applyTransform()},scale:function(a,b){var c=this.transform.matrix||new e;void 0===b&&(b=a);this.transform.matrix=c.scale(a,b);return this._applyTransform()},skew:function(a,b){var c=this.transform.matrix||new e;void 0===
            b&&(b=a);this.transform.matrix=c.skew(a,b);return this._applyTransform()},stroke:function(a,b){a&&a.stroke?a.stroke(this):a?(this.node.setAttribute("stroke",a.toString()),b&&this.node.setAttribute("stroke-width",b)):null===a&&this.node.removeAttribute("stroe");return this},fill:function(a){a&&this.node.setAttribute("fill",a.toString());null===a&&this.node.removeAttribute("fill");return this},setAttr:function(a,b){var e=this;c.isObject(a)&&c.each(a,function(a,b){e.setAttr(b,a)});void 0===b||null===
            b||""===b?this.node.removeAttribute(a):this.node.setAttribute(a,b);return this},getAttr:function(a){return this.node.getAttribute(a)}})}},62:{value:function(b,d,g){b=a.r(29);var f=a.r(12);b=a.r(11).createClass("ShapeContainer",{base:b,isShapeContainer:!0,handleAdd:function(a,b){var f=this.getShapeNode();f.insertBefore(a.node,f.childNodes[b]||null);a.trigger("add",{container:this});a.notifyTreeModification&&a.notifyTreeModification("treeadd",this)},handleRemove:function(a,b){this.getShapeNode().removeChild(a.node);
        a.trigger("remove",{container:this});a.notifyTreeModification&&a.notifyTreeModification("treeremove",this)},notifyTreeModification:function(a,b){this.eachItem(function(f,d){d.notifyTreeModification&&d.notifyTreeModification(a,b);d.trigger(a,{container:b})})},getShape:function(a){return this.getItem(a)},addShape:function(a,b){return this.addItem(a,b)},put:function(a){this.addShape(a);return a},appendShape:function(a){return this.addShape(a)},prependShape:function(a){return this.addShape(a,0)},replaceShape:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b){var f=this.indexOf(b);if(-1!==f)return this.removeShape(f),this.addShape(a,f),this},addShapeBefore:function(a,b){var f=this.indexOf(b);return this.addShape(a,f)},addShapeAfter:function(a,b){var f=this.indexOf(b);return this.addShape(a,-1===f?void 0:f+1)},addShapes:function(a){return this.addItems(a)},removeShape:function(a){return this.removeItem(a)},getShapes:function(){return this.getItems()},getShapesByType:function(a){function b(g){a.toLowerCase()==g.getType().toLowerCase()&&d.push(g);g.isShapeContainer&&
    f.each(g.getShapes(),function(a){b(a)})}var d=[];b(this);return d},getShapeById:function(a){return this.getShapeNode().getElementById(a).shape},arrangeShape:function(a,b){return this.removeShape(a).addShape(a,b)},getShapeNode:function(){return this.shapeNode||this.node}});d=a.r(61);a.r(11).extendClass(d,{bringTo:function(a){this.container.arrangeShape(this,a);return this},bringFront:function(){return this.bringTo(this.container.indexOf(this)+1)},bringBack:function(){return this.bringTo(this.container.indexOf(this)-
        1)},bringTop:function(){this.container.removeShape(this).addShape(this);return this},bringRear:function(){return this.bringTo(0)},bringRefer:function(a,b){a.container&&(this.remove&&this.remove(),a.container.addShape(this,a.container.indexOf(a)+(b||0)));return this},bringAbove:function(a){return this.bringRefer(a)},bringBelow:function(a){return this.bringRefer(a,1)},replaceBy:function(a){this.container&&(a.bringAbove(this),this.remove());return this}});return b}},63:{value:function(b,d,g){var f=a.r(44),
        c=a.r(12),e=a.r(51);return a.r(11).createClass("ShapeEvent",{constructor:function(a){var b=null;c.isObject(a.target)?c.extend(this,a):(this.type=a.type,b=a.target,b.correspondingUseElement&&(b=b.correspondingUseElement),this.originEvent=a,this.targetShape=b.shape||b.paper||a.currentTarget&&(a.currentTarget.shape||a.currentTarget.paper),a._kityParam&&c.extend(this,a._kityParam))},preventDefault:function(){var a=this.originEvent;if(!a)return!0;if(a.preventDefault)return a.preventDefault(),a.cancelable;
        a.returnValue=!1;return!0},getPosition:function(a,b){if(!this.originEvent)return null;var c=this.originEvent.touches?this.originEvent.touches[b||0]:this.originEvent,d=this.targetShape,g=d.shapeNode||d.node,c=new e(c&&c.clientX||0,c&&c.clientY||0),g=f.transformPoint(c,g.getScreenCTM().inverse());return f.getCTM(d,a||"view").transformPoint(g)},stopPropagation:function(){var a=this.originEvent;if(!a)return!0;a.stopPropagation?a.stopPropagation():a.cancelBubble=!1}})}},64:{value:function(b,d,g){return a.r(11).createClass("ShapePoint",
        {base:a.r(51),constructor:function(a,b){this.callBase(a,b)},setX:function(a){return this.setPoint(a,this.y)},setY:function(a){return this.setPoint(this.x,a)},setPoint:function(a,b){this.x=a;this.y=b;this.update();return this},getPoint:function(){return this},update:function(){this.container&&this.container.update&&this.container.update();return this}})}},65:{value:{COLOR_STANDARD:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",
        black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",
        darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",
        hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",
        lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",
        orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",
        snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00"},EXTEND_STANDARD:{}}},66:{value:function(b,d,g){var f={3:.2,5:.38196601125,6:.57735026919,8:.541196100146,10:.726542528005,12:.707106781187},c=a.r(51);return a.r(11).createClass("Star",{base:a.r(47),constructor:function(a,b,f,d,g){this.callBase();this.vertex=a||3;this.radius=
        b||0;this.shrink=f;this.offset=d||new c(0,0);this.angleOffset=g||0;this.draw()},getVertex:function(){return this.vertex},setVertex:function(a){this.vertex=a;return this.draw()},getRadius:function(){return this.radius},setRadius:function(a){this.radius=a;return this.draw()},getShrink:function(){return this.shrink},setShrink:function(a){this.shrink=a;return this.draw()},getOffset:function(){return this.offset},setOffset:function(a){this.offset=a;return this.draw()},getAngleOffset:function(){return this.angleOffset},
        setAngleOffset:function(a){this.angleOffset=a;return this.draw()},draw:function(){var a=this.radius,b=this.radius*(this.shrink||f[this.vertex]||.5),d=this.vertex,g=this.offset,m=180/d,p=this.angleOffset,n=this.getDrawer(),u,t;n.clear();n.moveTo(c.fromPolar(b,90));for(u=1;u<=2*d;u++)t=90+m*u,u%2?n.lineTo(c.fromPolar(a,t+p).offset(g)):n.lineTo(c.fromPolar(b,t));n.close()}})}},67:{value:function(b,d,g){function f(a){a.classList||(a.classList=new c(a));return a.classList}var c=a.r(11).createClass("ClassList",
        {constructor:function(a){this._node=a;this._list=a.className.toString().split(" ")},_update:function(){this._node.className=this._list.join(" ")},add:function(a){this._list.push(a);this._update()},remove:function(a){a=this._list.indexOf(a);~a&&this._list.splice(a,1);this._update()},contains:function(a){return!!~this._list.indexOf(a)}});return a.r(11).createClass("Styled",{addClass:function(a){f(this.node).add(a);return this},removeClass:function(a){f(this.node).remove(a);return this},hasClass:function(a){return f(this.node).contains(a)},
        setStyle:function(a){if(2==arguments.length)return this.node.style[arguments[0]]=arguments[1],this;for(var b in a)a.hasOwnProperty(b)&&(this.node.style[b]=a[b]);return this}})}},68:{value:function(a,d,g){var f=document,c=0,e={createNode:function(a){var b=f.createElementNS(e.ns,a);b.id="kity_"+a+"_"+c++;return b},defaults:{stroke:"none",fill:"none"},xlink:"http://www.w3.org/1999/xlink",ns:"http://www.w3.org/2000/svg"};return e}},69:{value:function(b,d,g){var f=a.r(51);return a.r(11).createClass("Sweep",
        {base:a.r(47),constructor:function(a,b,f){this.callBase();this.sectionArray=a||[];this.angle=b||0;this.angleOffset=f||0;this.draw()},getSectionArray:function(){return this.sectionArray},setSectionArray:function(a){this.sectionArray=a;return this.draw()},getAngle:function(){return this.angle},setAngle:function(a){this.angle=a;return this.draw()},getAngleOffset:function(){return this.angleOffset},setAngleOffset:function(a){this.angleOffset=a;return this.draw()},draw:function(){var a=this.sectionArray,
            b;for(b=0;b<a.length;b+=2)this.drawSection(a[b],a[b+1]);return this},drawSection:function(a,b){var d=this.angle&&(this.angle%360?this.angle%360:360),g=this.angleOffset,l=g+d/2,m=g+d,p=0>d?0:1,n=this.getDrawer();n.redraw();0!==d&&(n.moveTo(f.fromPolar(a,g)),n.lineTo(f.fromPolar(b,g)),b&&(n.carcTo(b,0,p,f.fromPolar(b,l)),n.carcTo(b,0,p,f.fromPolar(b,m))),n.lineTo(f.fromPolar(a,m)),a&&(n.carcTo(a,0,p,f.fromPolar(a,l)),n.carcTo(a,0,p,f.fromPolar(a,g))),n.close());n.done()}})}},70:{value:function(b,d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             g){function f(a){var b=a._cachedFontHash;if(h[b])return h[b];var c=a.getContent();a.setContent("\u767e\u5ea6Fex");var d=a.getBoundaryBox(),f=a.getY()-d.y+ +a.node.getAttribute("dy"),d=f-d.height;a.setContent(c);return h[b]={top:f,bottom:d,middle:(f+d)/2}}b=a.r(71);d=a.r(62);var c=a.r(68),e=a.r(12),h={};return a.r(11).createClass("Text",{base:b,mixins:[d],constructor:function(a){this.callBase("text");void 0!==a&&this.setContent(a);this._buildFontHash()},_buildFontHash:function(){var a=window.getComputedStyle(this.node);
        this._cachedFontHash=[a.fontFamily,a.fontSize,a.fontStretch,a.fontStyle,a.fontVariant,a.fontWeight].join("-")},_fontChanged:function(a){var b=this._lastFont,c=e.extend({},b,a);if(!b)return this._lastFont=a,!0;a=b.family!=c.family||b.size!=c.size||b.style!=c.style||b.weight!=c.weight;this._lastFont=c;return a},setX:function(a){this.node.setAttribute("x",a);return this},setPosition:function(a,b){return this.setX(a).setY(b)},setY:function(a){this.node.setAttribute("y",a);return this},getX:function(){return+this.node.getAttribute("x")||
        0},getY:function(){return+this.node.getAttribute("y")||0},setFont:function(a){this.callBase(a);this._fontChanged(a)&&(this._buildFontHash(),this.setVerticalAlign(this.getVerticalAlign()));return this},setTextAnchor:function(a){this.node.setAttribute("text-anchor",a);return this},getTextAnchor:function(){return this.node.getAttribute("text-anchor")||"start"},setVerticalAlign:function(a){this.whenPaperReady(function(){var b;switch(a){case "top":b=f(this).top;break;case "bottom":b=f(this).bottom;break;
        case "middle":b=f(this).middle;break;default:b=0}this.node.setAttribute("dy",b)});this.verticalAlign=a;return this},getVerticalAlign:function(){return this.verticalAlign||"baseline"},setStartOffset:function(a){this.shapeNode!=this.node&&this.shapeNode.setAttribute("startOffset",100*a+"%")},addSpan:function(a){this.addShape(a);return this},setPath:function(a){var b=this.shapeNode;if(this.shapeNode==this.node){for(b=this.shapeNode=c.createNode("textPath");this.node.firstChild;)this.shapeNode.appendChild(this.node.firstChild);
        this.node.appendChild(b)}b.setAttributeNS(c.xlink,"xlink:href","#"+a.node.id);this.setTextAnchor(this.getTextAnchor());return this}})}},71:{value:function(b,d,g){b=a.r(61);return a.r(11).createClass("TextContent",{base:b,constructor:function(a){this.callBase(a);this.shapeNode=this.shapeNode||this.node;this.shapeNode.setAttribute("text-rendering","geometricPrecision")},clearContent:function(){for(;this.shapeNode.firstChild;)this.shapeNode.removeChild(this.shapeNode.firstChild);return this},setContent:function(a){this.shapeNode.textContent=
        a;return this},getContent:function(){return this.shapeNode.textContent},appendContent:function(a){this.shapeNode.textContent+=a;return this},setSize:function(a){return this.setFontSize(a)},setFontSize:function(a){return this.setFont({size:a})},setFontFamily:function(a){return this.setFont({family:a})},setFontBold:function(a){return this.setFont({weight:a?"bold":"normal"})},setFontItalic:function(a){return this.setFont({style:a?"italic":"normal"})},setFont:function(a){var b=this.node;["family","size",
        "weight","style"].forEach(function(d){null===a[d]?b.removeAttribute("font-"+d):a[d]&&b.setAttribute("font-"+d,a[d])});return this},getExtentOfChar:function(a){return this.node.getExtentOfChar(a)},getRotationOfChar:function(a){return this.node.getRotationOfChar(a)},getCharNumAtPosition:function(a,b){return this.node.getCharNumAtPosition(this.node.viewportElement.createSVGPoint(a,b))}})}},72:{value:function(b,d,g){b=a.r(71);d=a.r(67);return a.r(11).createClass("TextSpan",{base:b,mixins:[d],constructor:function(a){this.callBase("tspan");
        this.setContent(a)}})}},73:{value:function(b,d,g){var f=a.r(68);b=a.r(11);var c=b.createClass("Use",{base:a.r(61),constructor:function(a){this.callBase("use");this.ref(a)},ref:function(a){if(!a)return this.node.removeAttributeNS(f.xlink,"xlink:href"),this;var b=a.getId();b&&this.node.setAttributeNS(f.xlink,"xlink:href","#"+b);"none"===a.node.getAttribute("fill")&&a.node.removeAttribute("fill");"none"===a.node.getAttribute("stroke")&&a.node.removeAttribute("stroke");return this}});d=a.r(61);b.extendClass(d,
        {use:function(){return new c(this)}});return c}},74:{value:function(b,d,g){var f=a.r(51),c=a.r(44),e=a.r(11).createClass("Vector",{base:f,constructor:function(a,b){this.callBase(a,b)},square:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.square())},add:function(a){return new e(this.x+a.x,this.y+a.y)},minus:function(a){return new e(this.x-a.x,this.y-a.y)},dot:function(a){return this.x*a.x+this.y*a.y},project:function(a){return a.multipy(this.dot(a)/a.square())},
        normalize:function(a){void 0===a&&(a=1);return this.multipy(a/this.length())},multipy:function(a){return new e(this.x*a,this.y*a)},rotate:function(a,b){"rad"==b&&(a=a/Math.PI*180);var d=(new c).rotate(a).transformPoint(this);return new e(d.x,d.y)},vertical:function(){return new e(this.y,-this.x)},reverse:function(){return this.multipy(-1)},getAngle:function(){var a=this.length();if(0===a)return 0;a=Math.acos(this.x/a);return 180*(0<this.y?1:-1)*a/Math.PI}});e.fromPoints=function(a,b){return new e(b.x-
        a.x,b.y-a.y)};e.fromPolar=function(){var a=f.fromPolar.apply(f,arguments);return new e(a.x,a.y)};a.r(11).extendClass(f,{asVector:function(){return new e(this.x,this.y)}});return e}},75:{value:function(b,d,g){b=a.r(62);d=a.r(76);return a.r(11).createClass("View",{mixins:[b,d],base:a.r(75),constructor:function(){this.callBase("view")}})}},76:{value:function(b,d,g){return a.r(11).createClass("ViewBox",{getViewBox:function(){var a=this.node.getAttribute("viewBox");if(null===a)return{x:0,y:0,width:this.node.clientWidth||
        this.node.parentNode.clientWidth,height:this.node.clientHeight||this.node.parentNode.clientHeight};a=a.split(" ");return{x:+a[0],y:+a[1],width:+a[2],height:+a[3]}},setViewBox:function(a,b,d,g){this.node.setAttribute("viewBox",[a,b,d,g].join(" "));return this}})}},77:{value:function(b,d,g){b={};d=a.r(12);b.version="2.0.0";d.extend(b,{createClass:a.r(11).createClass,extendClass:a.r(11).extendClass,Utils:d,Browser:a.r(10),Box:a.r(25),Bezier:a.r(23),BezierPoint:a.r(24),Circle:a.r(26),Clip:a.r(27),Color:a.r(28),
        Container:a.r(29),Curve:a.r(30),Ellipse:a.r(33),GradientBrush:a.r(36),Group:a.r(37),HyperLink:a.r(38),Image:a.r(39),Line:a.r(40),LinearGradientBrush:a.r(41),Mask:a.r(43),Matrix:a.r(44),Marker:a.r(42),Palette:a.r(45),Paper:a.r(46),Path:a.r(47),PatternBrush:a.r(48),Pen:a.r(49),Point:a.r(51),PointContainer:a.r(52),Polygon:a.r(54),Polyline:a.r(55),Pie:a.r(50),RadialGradientBrush:a.r(56),Rect:a.r(57),RegularPolygon:a.r(58),Ring:a.r(60),Shape:a.r(61),ShapePoint:a.r(64),ShapeContainer:a.r(62),Sweep:a.r(69),
        Star:a.r(66),Text:a.r(70),TextSpan:a.r(72),Use:a.r(73),Vector:a.r(74),g:a.r(35),Animator:a.r(0),Easing:a.r(1),OpacityAnimator:a.r(4),RotateAnimator:a.r(6),ScaleAnimator:a.r(7),Timeline:a.r(8),TranslateAnimator:a.r(9),PathAnimator:a.r(5),MotionAnimator:a.r(3),requestFrame:a.r(2).requestFrame,releaseFrame:a.r(2).releaseFrame,Filter:a.r(20),GaussianblurFilter:a.r(21),ProjectionFilter:a.r(22),ColorMatrixEffect:a.r(13),CompositeEffect:a.r(14),ConvolveMatrixEffect:a.r(15),Effect:a.r(16),GaussianblurEffect:a.r(17),
        OffsetEffect:a.r(18)});return window.kity=b}}};a.r([77])})();var exports=exports||window,kc={version:"1.0.1",fx:!0};exports.kc=kc;kc.align=function(a,b,d){var g=0<a?a-a%b:a-a%b-b;b=g+b;return"left"==d?g:"right"==d?b:a-g<b-a?g:b};kc.parallel=function parallel(b,d,g){var f,c;if(b&&d&&"object"==typeof b&&"object"==typeof d){f={};for(c in b)b.hasOwnProperty(c)&&d.hasOwnProperty(c)&&(f[c]=parallel(b[c],d[c],g));return f}return g(b,d)};
kc.parallelize=function(a){return function(b,d){return kc.parallel(b,d,a)}};
var Query=kc.Query=kity.createClass("Query",function(){function a(a){return function(b){return b[a]}}function b(b){switch(typeof b){case "string":return a(b);case "function":return b;default:return function(a){return a}}}return{constructor:function(a){this.dataSet=a},where:function(a){var b=[],f,c;for(c=0;c<this.dataSet.length;c++)f=this.dataSet[c],a.call(f,f,c)&&b.push(f);return new Query(b)},count:function(a){return a?this.where(a).count():this.dataSet.length},map:function(a){var g=[],f,c;a=b(a);
        for(c=0;c<this.dataSet.length;c++)f=this.dataSet[c],g.push(a.call(this,f,c));return new Query(g)},max:function(a){var g=null,f,c,e,h;a=b(a);for(c=0;c<this.dataSet.length;c++)if(f=this.dataSet[c],h=a.call(f,f,c),null===g||h>e)g=f,e=h;return g},min:function(a){a=b(a);return this.max(function(b,f){return-a.call(b,b,f)})},sum:function(a){var g=0,f,c;a=b(a);for(c=0;c<this.dataSet.length;c++)f=this.dataSet[c],f=a.call(f,f,c),g+=f;return g},average:function(){return this.sum()/this.count()},list:function(){return this.dataSet},
        groupBy:function(a){var g={},f,c,e,h=this.dataSet,k=b(k),l=this.distinct(a),m;for(f in l)for(m=l[f],g[m]=[],c=0;c<h.length;c++)m==h[c][a]&&(e=k.call(h[c],h[c],a),g[m].push(e));return g},distinct:function(a){var b={},f=[];for(i=0;i<this.dataSet.length;i++)b[this.dataSet[i][a]]=1;for(i in b)f.push(i);return f},select:function(a){a="string"===typeof a?[a]:a;var b=[],f={},c,e,h;for(c=0;c<this.dataSet.length;c++){f={};for(e=0;e<a.length;e++)h=a[e],f[h]=this.dataSet[c][h];b.push(f)}return new Query(b)}}}()),
    Ruler=kc.Ruler=kity.createClass("Ruler",{constructor:function(a,b){this.ref_grid=[];this.map_grid=[];this.ref(a,b);this.map(a,b)},ref:function(a,b){if(!arguments.length)return this._ref;this._ref={from:+a,to:+b,dur:+b-+a};return this},map:function(a,b){if(!arguments.length)return this._map;this._map={from:+a,to:+b,dur:+b-+a};return this},reverse:function(){var a=this._ref,b=this._map;return(new Ruler(b.from,b.to)).map(a.from,a.to)},measure:function(a){if(0===this._ref.dur)return 0;var b=this._ref,
        d=this._map;return d.from+(a-b.from)/b.dur*d.dur},grid:function(a,b,d){for(var g=this._ref,f=[],c=[];a<g.to+b;a+=b)f.push(a);this.ref_grid=f;d&&this.ref(f[0],f[f.length-1]);for(b=0;b<f.length;b++)c.push(this.measure(f[b]));this.map_grid=c;return{ref:f,map:c}},gridBySize:function(a){var b=kc.sugar.snap(this._ref.from,a,"right");return this.grid(b,a)},fagm:function(a){a=this._ref.dur/a;for(var b=1;10<a;)a/=10,b*=10;for(;1>a;)a*=10,b/=10;switch(Math.floor(a)){case 1:a=1;break;case 2:case 3:a=2;break;
        case 4:case 5:case 6:a=5;break;case 7:case 8:case 9:a=1,b*=10}return a*b},align:function(a,b,d){var g=0<a?a-a%b:a-a%b-b;b=g+b;return"left"==d?g:"right"==d?b:a-g<b-a?g:b},gridByCount:function(a,b,d,g){b=b||this.fagm(a);var f=this._ref;g=kity.Utils.isNumber(g)?g:this.align(f.from,b,"left");for(var c=b;c*a<f.dur;)c+=b;return this.grid(g,c,d)},gridByCategories:function(a){var b=[],d=[],g;for(g=0;g<a;g++)b.push(g);this.ref_grid=b;for(g=0;g<b.length;g++)d.push(this.measure(b[g]));this.map_grid=d;return{ref:b,
        map:d}},checkOverflow:function(a){return a<this._ref.from?-1:a>this._ref.to?1:0},leanTo:function(a,b){var d="map"==b?this.map_grid:this.ref_grid;if(!d||0==d.length)return null;if(1==d.length)return{value:d[0],index:0};var g=d[0];if(a<g)return{value:g,index:0};g=d[d.length-1];if(a>g)return{value:g,index:d.length-1};g=d[1]-d[0];d=this.align(a,g);g=Math.round(d/g);return{value:d,index:g}}});Ruler.from=function(a){return{to:function(b){return new Ruler(a,b)}}};
kc.sharpen=function(a){if("number"==typeof a)return(a|0)+.5;if("x"in a&&"y"in a)return{x:(a.x|0)+.5,y:(a.y|0)+.5}};kc.Tools={arraySum:function(a){for(var b=0,d=0;d<a.length;d++)b+=a[d];return b}};
var ChartEvent=kc.ChartEvent=kity.createClass("ChartEvent",{constructor:function(a,b){b&&(this.kityEvent=b);this.target=a},getTargetChartElement:function(){for(var a=this.kityEvent.targetShape;a&&!a.host;)a=a.container;return a.host}}),EventHandler=kc.EventHandler=kity.createClass("EventHandler",function(){function a(a,b){return function(f){a.call(b,new kc.ChartEvent(b,f))}}var b="click dblclick mousedown contextmenu mouseup mouseout mouseover mouseenter mouseleave mousemove mousewheel touchstart touchmove touchend".split(" ");
    return{constructor:function(){this._initEvents()},on:function(d,g){for(var f=this._eventCallbacks,c=d.split(" "),e=0;e<c.length;e++)if(f[c[e]]||(f[c[e]]=[]),~b.indexOf(c[e])&&this.canvas)this.canvas.on(c[e],a(g,this));else f[c[e]].push(g)},off:function(a,b){},trigger:function(a,g){~b.indexOf(a)&&this.canvas?this.canvas.fire(a,g):this._fire(a,g)},_fire:function(a,b){var f;"string"===typeof a?(f=new kc.ChartEvent(this),f.name=a):f=a;f.data=b;var c=this._eventCallbacks[f.name];if(!c)return!1;for(var e=
        0;e<c.length;e++)c[e].call(this,f)},_initEvents:function(){this._eventCallbacks={}},_resetEvents:function(){this._bindEvents()}}}()),Data=kc.Data=kity.createClass("Data",{mixins:[kc.EventHandler],constructor:function(a){this.origin=a||{};this.callMixin()},format:function(){return this.origin},update:function(a){this.origin=kity.Utils.extend(this.origin,a);this.trigger("update")},clear:function(){this.origin={};this.trigger("update")},reset:function(a){this.origin=a}});
function getCamelName(a){return a.replace(/_(\w)/ig,function(a){return a[1].toUpperCase()})}
var elementUUID=0,ChartElement=kc.ChartElement=kity.createClass("ChartElement",{mixins:[kc.EventHandler],constructor:function(a){this.canvas=new kity.Group;this.canvas.host=this;this.visible=!0;this.param=a||{};this._bindData();this.elements={};this.callMixin()},addElement:function(a,b){1===arguments.length&&(b=a,a="ChartElement_"+elementUUID++);this.elements[a]=b;this.canvas.addShape(b.canvas);b.container=this;return b},getElement:function(a){return this.elements[a]||null},removeElement:function(a){var b=
    this.elements[a];if(b)delete b.container,this.canvas.removeShape(b.canvas),delete this.elements[a];else if(void 0===a)for(var d in this.elements)b=this.elements[d],delete b.container,this.canvas.removeShape(b.canvas),delete this.elements[d]},setVisible:function(a){void 0!==a&&(this.visible=a,this.canvas.setStyle({display:a?"inline":"none"}));return this},isVisible:function(){return this.visible},setPosition:function(a,b){"object"==typeof a&&"x"in a&&"y"in a&&(b=a.y||0,a=a.x||0);a=a||0;b=b||0;var d=
    a-(this.x||0),g=b-(this.y||0);this.x=a;this.y=b;this.canvas.translate(d,g)},getPosition:function(){return{x:this.param.x||0,y:this.param.y||0}},getInterestPoint:function(){return this.getPosition()},registerUpdateRules:function(){return{setPosition:["x","y"],setOpacity:["opacity"],setVisible:["visible"]}},updateByRule:function(a,b,d,g,f){var c,e,h,k;e=this.param;for(h=0;h<b.length;h++)if(k=b[h],k in d&&(!this._firstUpdate||e[k]!==d[k])){c=!0;break}c&&(b=b.map(function(a){return a in d?d[a]:e[a]}),
    b=b.concat([g,f]),this[a].apply(this,b))},update:function(a,b,d){var g,f,c,e;this._bindData();this._updateRules||(this._updateRules=this.registerUpdateRules(),a=kity.Utils.extend(this.param,a));f=this._updateRules;a||(a=this.param);e=[];for(c in f)this.updateByRule(c,f[c],a,b,d),e=e.concat(f[c]);a&&a!=this.param&&kity.Utils.extend(this.param,a);for(g in a)!~e.indexOf(g)&&this.elements[g]&&this.elements[g].update(a[g]);this._firstUpdate=this._firstUpdate||+new Date;this.trigger("update");return this},
    getBoundaryBox:function(){return this.canvas.getBoundaryBox()},getSize:function(){var a=this.getBoundaryBox();return{width:a.width,height:a.height}},flipX:function(){this.canvas.scale(-1,1)},flipY:function(){this.canvas.scale(1,-1)},getParam:function(a){return this.param[a]},setParam:function(a,b){this.param[a]=b},setOpacity:function(a){this.canvas.setOpacity(a)},_bindData:function(){void 0!==this.param.bind&&(this.canvas.bind=this.param.bind)},setBindData:function(a){this.canvas.bind=a},getBindData:function(){return this.canvas.bind},
    getPaper:function(){for(var a=this.canvas;a&&a.container&&!(a=a.container,a instanceof kity.Paper););return a}});
(function(a,b){a.AnimatedChartElement=b.createClass("AnimatedChartElement",{base:a.ChartElement,getAnimatedParam:function(){throw Error("\u8bf7\u5b9e\u73b0\u63a5\u53e3: getAnimatedParam()");},fxEnabled:function(){return a.fx&&"off"!=this.param.fx},stop:function(){this.timeline&&this.timeline.stop();return this},animate:function(a,g,f,c){if(!this.fxEnabled())return this.update(a);var e=this.getAnimatedParam(),h=this.param,k=b.Utils.copy(h),l={},m={},p={};e.push("x");e.push("y");for(var n in a)n in
    h&&~e.indexOf(n)?(l[n]=h[n],m[n]=a[n]):p[n]=a[n];this.update(p);a=new b.Animator({beginValue:l,finishValue:m,setter:function(a,b,c){c=c.getValueProportion();1<c&&(c=1);a.update(b,k,c)}});this.timeline&&this.timeline.stop();this.timeline=a.start(this,g||this.param.fxTiming||this.fxTiming||500,f||this.param.fxEasing||this.fxEasing||"ease",c);return this}})})(kc,kity);
var Chart=kc.Chart=kity.createClass("Chart",{base:kc.AnimatedChartElement,constructor:function(a,b){this.callBase(b);this.setData({});"string"==typeof a&&(a=document.getElementById(a));a.setAttribute("onselectstart","return false");this.paper=new kity.Paper(a);this.paper.addShape(this.canvas);this.container=a;a.paper=this.paper},getWidth:function(){return this.paper.getContainer().clientWidth},getHeight:function(){return this.paper.getContainer().clientHeight},setData:function(a){this._dataBind&&
this.data.off("update",this._dataBind);this.data=a instanceof kc.Data?a:new kc.Data(a);this.data.on("update",this._dataBind=function(){this.update()}.bind(this))},getData:function(){return this.data},update:function(a){var b=this.data.format();this.callBase(a,b);this.updateChart&&this.updateChart(this.param,b)}}),ConfigHandler=kc.ConfigHandler=kity.createClass("ConfigHandler",{constructor:function(a){},getConfig:function(){return this.config},getOption:function(a){return kity.Utils.queryPath(a,this.config)},
    setOption:function(a,b){function d(a,b){for(var c=[],e=0;e<=a;e++)c.push(b[e]);return c.join(".")}var g=a.split(".");g.unshift("config");for(var f=1,c,e;f<g.length;)e=g[f],c=d(f-1,g),c=eval('"'+e+'" in this.'+c)?"this."+c+"."+e+" = value":"this."+c+"."+e+" = "+(f==g.length-1?"value":"{}"),eval(c),f++}}),Arrow=kity.Arrow=kity.createClass("Arrow",{base:kity.Path,constructor:function(a){this.callBase();this.option=kity.Utils.extend({w:100,h:20,a:40,b:20,c:20,d:20,t:0},a);this.draw()},draw:function(a){a=
    this.option=kity.Utils.extend(this.option,a);var b=a.w,d=a.h,g=d/2,f=a.a,c=a.b,e=a.c,h=a.t,k=[0,-g],l=[b,-g],m=[b-c,-g-e],p,n=[b+f,0];a=[a.d,0];switch(h){case 0:p=m;break;case 1:p=[b+f-c-c*g/e,-g-e];break;case 2:p=b-c-.5*e*(c*d+f*e)/(c*c+e*e);p=[p,e*(p-b-f)/c];break;case 3:p=[b-c,-e*(f+c)/c];break;default:h instanceof Array&&(p=[m[0]+h[0],m[1]+h[1]])}b=[k[0],-k[1]];f=[l[0],-l[1]];c=[m[0],-m[1]];e=[p[0],-p[1]];d=[];d.push(["M",k]);d.push(["L",l]);d.push(["L",m]);d.push(["L",p]);d.push(["L",n]);d.push(["L",
    e]);d.push(["L",c]);d.push(["L",f]);d.push(["L",b]);d.push(["L",a]);d.push(["L",k]);d.push("z");this.setPathData(d)}}),Pie=kity.Pie=kity.createClass("Pie",{base:kity.Path,constructor:function(a,b,d,g){this.callBase();this.outerRadius=a||100;this.pieAngle=b||90;this.startAngle=d||0;this.innerRadius=g||0;this.draw()},draw:function(){var a=this.getDrawer().clear(),b=this.innerRadius,d=this.outerRadius,g=this.startAngle,f=this.pieAngle;0<f&&0===f%360&&(f=359.99);0>f&&0===f%360&&(f=-359.99);var c=kity.Point.fromPolar(b,
    g),e=kity.Point.fromPolar(d,g),h=kity.Point.fromPolar(d,g+f%360),g=kity.Point.fromPolar(b,g+f%360),k=180<Math.abs(f)?1:0,f=0<f?1:0;a.moveTo(c.x,c.y);a.lineTo(e.x,e.y);a.carcTo(d,k,f,h.x,h.y);a.lineTo(g.x,g.y);a.carcTo(b,k,f?0:1,c.x,c.y);a.close()}}),RegularPolygon=kity.RegularPolygon=kity.createClass("RegularPolygon",function(){return{base:kity.Path,constructor:function(a,b){this.callBase();this.radius=b||100;this.side=Math.max(a||3,3);this.draw()},draw:function(){var a=this.radius,b=this.side,d=
    2*Math.PI/b,g=[];g.push(["M",[a*Math.cos(Math.PI/2),-a*Math.sin(Math.PI/2)]]);for(var f=1;f<=b;f++)g.push(["L",[a*Math.cos(d*f+Math.PI/2),-a*Math.sin(d*f+Math.PI/2)]]);g.push("z");this.setPathData(g)}}}()),Star=kity.Star=kity.createClass("Star",function(){var a={3:.2,5:.38196601125,6:.57735026919,8:.541196100146,10:.726542528005,12:.707106781187};return{base:kity.Path,constructor:function(b,d,g,f,c){this.callBase();this.vertex=b||3;this.outerRadius=d||100;this.innerRadius=g||this.outerRadius*(a[this.vertex]||
    .5);this.innerOffset=f||{x:0,y:0};this.angleOffset=this.angleOffset=c||0;this.draw()},draw:function(){var a=this.innerRadius,d=this.outerRadius,g=this.vertex,f=this.innerOffset,c=Math.PI/g,e=Math.PI*this.angleOffset/180,h=[],k,l,m=Math.PI/2;h.push(["M",[d*Math.cos(m),-d*Math.sin(m)]]);for(k=1;k<=2*g;k++)k%2?(l=[a*Math.cos(c*k+m+e),-a*Math.sin(c*k+m+e)],l[0]+=f.x,l[1]+=f.y):l=[d*Math.cos(c*k+m),-d*Math.sin(c*k+m)],h.push(["L",l]);h.push("z");this.setPathData(h)}}}()),Line=kc.Line=kity.createClass("Line",
    {base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({x1:0,y1:0,x2:100,y2:0,bound:null,width:1,color:"black",dash:null},a));this.line=new kity.Path;this.canvas.addShape(this.line)},getAnimatedParam:function(){return["x1","y1","x2","y2","width"]},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{draw:["x1","y1","x2","y2","bound"],stroke:["color","width","dash"]})},draw:function(a,b,d,g,f){var c=this.line.getDrawer(),e=kc.sharpen;f&&(f=this.boundTo(a,
        b,d,g,f));f=f||[[a,b],[d,g]];c.clear();c.moveTo(e(f[0][0]),e(f[0][1]));c.lineTo(e(f[1][0]),e(f[1][1]))},stroke:function(a,b,d){var g=new kity.Pen;g.setWidth(b);g.setColor(a);d&&g.setDashArray(d);this.line.stroke(g)},boundTo:function(a,b,d,g,f){function c(a,b,c){return b<=a&&a<=c||b>=a&&a>=c}var e=f.x1,h=f.y1,k=f.x2,l=f.y2,m;if(a==d)return[[a,f.y1],[d,f.y2]];if(b==g)return[[f.x1,b],[f.x2,g]];m=(a-d)/(b-g);g=1/m;d=g*(e-a)+b;g=g*(k-a)+b;f=m*(h-b)+a;a=m*(l-b)+a;b=[];c(d,h,l)&&b.push([e,d]);c(g,h,l)&&
    b.push([k,g]);c(f,e,k)&&b.push([f,h]);c(a,e,k)&&b.push([a,l]);if(1<b.length)return b}}),Polyline=kc.Polyline=kity.createClass("Polyline",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({points:[[0,0],[0,0]],width:3,color:"black",dash:null,animatedDir:"y",fxEasing:"ease",factor:0,close:!1,fill:null},a));this.polyline=new kity.Path;this.canvas.addShape(this.polyline)},getAnimatedParam:function(){return["factor"]},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),
    {draw:["points","factor","close","fill"],stroke:["color","width","dash"]})},parsePoint:function(a,b,d){return d&&d[a]?d[a][b]:0},draw:function(a,b,d,g,f,c){b=this.polyline.getDrawer();var e=kc.sharpen;if(0<a.length){b.clear();var h=this.param.animatedDir,k,l;"x"!=h&&"both"!=h||(k=!0);"y"!=h&&"both"!=h||(l=!0);if(f){f=f.points;var h=this.parsePoint(0,0,f),m=this.parsePoint(0,1,f),p,n;b.moveTo(k?e((a[0][0]-h)*c+h):e(a[0][0]),l?e((a[0][1]-m)*c+m):e(a[0][1]));for(h=1;h<a.length;h++)k&&(p=this.parsePoint(h,
    0,f)),l&&(n=this.parsePoint(h,1,f)),b.lineTo(k?e((a[h][0]-p)*c+p):e(a[h][0]),l?e((a[h][1]-n)*c+n):e(a[h][1]))}else for(b.moveTo(e(a[0][0]),e(a[0][1])),h=1;h<a.length;h++)b.lineTo(e(a[h][0]),e(a[h][1]));d&&(b.close(),this.polyline.fill(g))}},stroke:function(a,b,d){var g=new kity.Pen;g.setWidth(b);g.setColor(a);d&&g.setDashArray(d);this.polyline.stroke(g)}}),ConnectLine=kc.ConnectLine=kity.createClass("ConnectLine",{base:kc.ChartElement,constructor:function(a){this.callBase(kity.Utils.extend({x1:0,
    y1:0,x2:100,y2:0,bound:null,width:1,color:"black",dash:null},a));this.line=new kity.Path;this.canvas.addShape(this.line)},getAnimatedParam:function(){return["x1","y1","x2","y2","width"]},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{draw:["x1","y1","x2","y2","bound"],stroke:["color","width","dash"]})},draw:function(a,b,d,g,f){var c=this.line.getDrawer(),e=kc.sharpen;f&&(f=this.boundTo(a,b,d,g,f));f=f||[[a,b],[d,g]];c.clear();c.moveTo(e(f[0][0]),e(f[0][1]));c.lineTo(e(f[1][0]),
    e(f[1][1]))},stroke:function(a,b,d){var g=new kity.Pen;g.setWidth(b);g.setColor(a);d&&g.setDashArray(d);this.line.stroke(g)},boundTo:function(a,b,d,g,f){function c(a,b,c){return b<=a&&a<=c||b>=a&&a>=c}var e=f.x1,h=f.y1,k=f.x2,l=f.y2,m;if(a==d)return[[a,f.y1],[d,f.y2]];if(b==g)return[[f.x1,b],[f.x2,g]];m=(a-d)/(b-g);g=1/m;d=g*(e-a)+b;g=g*(k-a)+b;f=m*(h-b)+a;a=m*(l-b)+a;b=[];c(d,h,l)&&b.push([e,d]);c(g,h,l)&&b.push([k,g]);c(f,e,k)&&b.push([f,h]);c(a,e,k)&&b.push([a,l]);if(1<b.length)return b}}),Bezier=
    kc.Bezier=kity.createClass("Bezier",{base:kc.ChartElement,constructor:function(a){this.callBase(kity.Utils.extend({x1:0,x2:0,y1:0,y2:0,cx:0,cy:0,width:1,color:"black"},a));this.line=new kity.Path;this.canvas.addShape(this.line)},getAnimatedParam:function(){return"x1 y1 x2 y2 cx cy width".split(" ")},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{draw:"x1 y1 x2 y2 cx cy".split(" "),stroke:["color","width","dash"]})},draw:function(a,b,d,g,f,c){a&&b&&d&&g&&f&&c&&this.line.getDrawer().clear().moveTo(a,
        b).bezierTo(f,c,f,c,d,g)},stroke:function(a,b,d){var g=new kity.Pen;g.setWidth(b);g.setColor(a);d&&g.setDashArray(d);this.line.stroke(g)}}),Label=kc.Label=kity.createClass("Label",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({text:"",at:"center",margin:0,style:{family:"Arial"},color:"black",rotate:0},a));this.text=(new kity.Text).setFont({size:12,family:"Arial"});this.canvas.addShape(this.text)},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),
    {updateText:["text"],updateAnchor:["at","margin","rotate"],updateColor:["color"],updateStyle:["style"]})},getAnimatedParam:function(){return[]},updateText:function(a){this.text.setContent(a);this.updateSize();this.updateAnchor(this.param.at,this.param.margin,this.param.rotate)},updateSize:function(){this.size=0;this.size=this.getSize();this.trigger("sizechanged")},getSize:function(){return this.size||this.callBase()},updateStyle:function(a){this.text.setStyle(a);this.updateSize();this.updateAnchor(this.param.at,
    this.param.margin,this.param.rotate)},updateAnchor:function(a,b,d){var g=this.size.height/2;switch(a){case "left":this.text.setTextAnchor("end").setPosition(b,g/1.5);break;case "right":this.text.setTextAnchor("start").setPosition(b,g/1.5);break;case "up":case "top":this.text.setTextAnchor("middle").setPosition(0,g-b);break;case "down":case "bottom":a="middle";0!==d&&(a="end");this.text.setTextAnchor(a).setPosition(0,g+b);break;default:this.text.setTextAnchor("middle").setPosition(0,.75*g)}0!==d&&
this.text.setRotate(d)},updateColor:function(a){this.text.fill(a)}});
(function(a,b){b.Bar=a.createClass("Bar",{base:b.AnimatedChartElement,constructor:function(d){this.callBase(a.Utils.extend({dir:-1,offset:0,color:"#000",width:10,height:0,rotate:0,label:{at:"bottom",color:"black",text:null}},d));this.rect=new a.Path;this.canvas.addShape(this.rect);this.addElement("label",new b.Label)},registerUpdateRules:function(){return a.Utils.extend(this.callBase(),{draw:["width","height","dir","offset","rotate"],fill:["color"]})},getAnimatedParam:function(){return["width","height",
    "offset"]},fill:function(a){this.rect.fill(a)},draw:function(a,b,f,c,e){a/=2;var h=[];h.push("M",-a,-c);h.push("L",-a,-c+f*b);h.push("L",a,-c+f*b);h.push("L",a,-c);h.push("L",a,-c);h.push("Z");this.rect.setPathData(h).setRotate(e);this.interestPoint={x:0,y:f*b}},getInterestPoint:function(){return this.canvas.getTransform().transformPoint(this.interestPoint)}})})(kity,kc);
var Coordinate=kc.Coordinate=kity.createClass("Coordinate",function(){return{base:kc.ChartElement}}()),XYCoordinate=kc.XYCoordinate=kity.createClass("XYCoordinate",function(){function a(a,d){return 1E3<a?a/1E3+"K":(10*a|0)/10}return{base:kc.Coordinate,constructor:function(a){this.callBase(kity.Utils.extend({dataSet:[],width:300,height:300,heading:20,unitX:null,unitY:null,meshX:!0,meshY:!0,formatX:null,formatY:null,rangeX:null,rangeY:null},a));this._initRulers();this._initElements()},_initRulers:function(){this.xRuler=
    new kc.Ruler;this.yRuler=new kc.Ruler},_initElements:function(){this.addElement("xMesh",new kc.Mesh({type:"vertical"}));this.addElement("yMesh",new kc.Mesh({type:"horizon",dir:1}));this.addElement("xCat",new kc.Categories({at:"bottom"}));this.addElement("yCat",new kc.Categories({at:"left"}));this.addElement("xAxis",new kc.Line({color:"#999"}));this.addElement("yAxis",new kc.Line({color:"#999"}));var a={w:0,h:1,a:7,b:2,c:3,d:0,t:0};this.canvas.addShape(this.xArrow=(new kity.Arrow(a)).fill("#999"));
    this.canvas.addShape(this.yArrow=(new kity.Arrow(a)).fill("#999"))},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateAll:"dataSet width height heading unitX unitY meshX meshY formatX formatY rangeX rangeY".split(" ")})},getXRuler:function(){return this.xRuler},getYRuler:function(){return this.yRuler},updateAll:function(b,d,g,f,c,e,h,k,l,m,p,n){var u=new kc.Query(b);b=this.getElement("xAxis");f=this.getElement("yAxis");k=this.xRuler;h=this.yRuler;c=this.getElement("xCat");
    e=this.getElement("yCat");l=l||a;m=m||a;var t=this.getElement("xMesh"),s=this.getElement("yMesh"),v,r,q;p&&n?(v=p[0],r=p[1],p=n[0],n=n[1]):(v=u.count()&&u.min("x").x||0,r=u.count()&&u.max("x").x||0,p=u.count()&&u.min("y").y||0,n=u.count()&&u.max("y").y||0,u=r-v||40,q=n-p||40,v-=u/4,p-=q/4,r+=u/4,n+=q/4);k.ref(v,r).map(0,d);h.ref(p,n).map(g,0);k.measure(0);h.measure(0);p=g/40|0;n=k.gridByCount(d/60|0);h=h.gridByCount(p);b.update({x1:0,y1:g,x2:d,y2:g});f.update({x1:0,y1:0,x2:0,y2:g});this.xArrow.setTranslate(d,
        g+.5);this.yArrow.setRotate(-90).setTranslate(.5,0);c.update({rules:n.map,labels:n.ref.map(l),y:g});e.update({rules:h.map,labels:h.ref.map(m),x:0});t.update({rules:n.map,length:g-h.map[h.map.length-1],y:g});s.update({rules:h.map,length:n.map[n.map.length-1],x:0,y:0})}}}()),CategoryCoordinate=kc.CategoryCoordinate=kity.createClass("CategoryCoordinate",function(){function a(a,b){return 1E3<a?a/1E3+"K":(10*a|0)/10}var b={w:0,h:1,a:7,b:2,c:3,d:0,t:0},d="xMesh yMesh xCat yCat xAxis yAxis".split(" "),g=
{xMesh:function(){!this.getElement("xMesh")&&this.addElement("xMesh",new kc.Mesh({type:"vertical"}))},yMesh:function(){!this.getElement("yMesh")&&this.addElement("yMesh",new kc.Mesh({type:"horizon",dir:1}))},xCat:function(){!this.getElement("xCat")&&this.addElement("xCat",new kc.Categories({at:"bottom",rotate:this.param.xLabelRotate}))},yCat:function(){!this.getElement("yCat")&&this.addElement("yCat",new kc.Categories({at:"left",rotate:this.param.yLabelRotate}))},xAxis:function(){!this.getElement("xAxis")&&
this.addElement("xAxis",new kc.Line({color:"#999"}));this.param.xAxisArrow&&!this.xArrow&&this.canvas.addShape(this.xArrow=(new kity.Arrow(b)).fill("#999"))},yAxis:function(){!this.getElement("yAxis")&&this.addElement("yAxis",new kc.Line({color:"#999"}));this.param.yAxisArrow&&!this.yArrow&&this.canvas.addShape(this.yArrow=(new kity.Arrow(b)).fill("#999"))}};return{base:kc.Coordinate,constructor:function(a){a=kity.Utils.extend({components:null,dataSet:[],margin:{top:20,right:20,bottom:90,left:100},
    padding:{top:20,right:20,bottom:0,left:0},unitX:null,unitY:null,meshX:!0,meshY:!0,formatX:null,formatY:null,rangeX:[0,100],rangeY:[0,100],minX:null,minY:null,xLabelsAt:null,yLabelsAt:null,labelMargin:10,xAxisArrow:null,yAxisArrow:null,xLabelRotate:0,yLabelRotate:0},a);this.callBase(a);this._initRulers()},_initRulers:function(){this.xRuler=new kc.Ruler;this.yRuler=new kc.Ruler},_initElements:function(a){a=a?a:d;this._processComponents(a)},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),
    {updateAll:"components dataSet margin padding unitX unitY meshX meshY formatX formatY rangeX rangeY minX minY xLabelsAt yLabelsAt labelMargin xAxisArrow yAxisArrow xLabelRotate yLabelRotate".split(" ")})},getXRuler:function(){return this.xRuler},getYRuler:function(){return this.yRuler},_processComponents:function(a){var b,e;for(b in d)e=d[b],~a.indexOf(e)?(func=g[e])&&func.bind(this)():this.removeElement(e)},getXLabels:function(){return this.xLabels},getYLabels:function(){return this.yLabels},measurePoint:function(a){var b=
    this.param,e=this.xRuler.measure(a[0])+b.margin.left;a=this.yRuler.measure(a[1])+b.margin.top+b.padding.top;return[e,a]},measurePointX:function(a){return this.xRuler.measure(a)+this.param.margin.left},measurePointY:function(a){return this.yRuler.measure(a)+this.param.margin.top+this.param.padding.top},measureValueRange:function(a,b){var e="x"==b?"measurePointX":"measurePointY";return this[e](a)-this[e](0)},updateAll:function(b,c,e,d,g,l,m,p,n,u,t,s,v,r,q,w,A,z,x,E,H){this._initElements(b);b=this.container.getWidth()-
    e.left-e.right;m=this.container.getHeight()-e.top-e.bottom;e=c.xAxis&&c.xAxis.categories;p=c.yAxis&&c.yAxis.categories;n=n||a;z=u||a;u=this.xRuler;x=this.yRuler;e&&(t=[0,e.length-1]);E=kity.Utils.isNumber(v)?v:t[0];H=t[1];p&&(s=[0,p.length-1]);t=kity.Utils.isNumber(r)?r:s[0];s=s[1];u.ref(E,H).map(d.left,b-d.right);v=e?u.gridByCategories(e.length):u.gridByCount(b/60|0,null,!0,v);x.ref(t,s).map(m-d.top-d.bottom,0);r=p?x.gridByCategories(p.length):x.gridByCount(m/40|0,null,!0,r);for(s=0;s<r.map.length;s++)r.map[s]+=
    d.top;E=this.getElement("xAxis");H=this.getElement("yAxis");x=this.getElement("xCat");d=this.getElement("yCat");s=this.getElement("xMesh");t=this.getElement("yMesh");E&&E.update({x1:0,y1:m,x2:b,y2:m});H&&H.update({x1:0,y1:0,x2:0,y2:m});g&&(this.unitXLabel=this.unitXLabel||this.addElement("unitXLabel",new kc.Label),this.unitXLabel.update({text:"("+g+")",at:"right",margin:0,x:b+10,y:m+16}));l&&(this.unitYLabel=this.unitYLabel||this.addElement("unitYLabel",new kc.Label),this.unitYLabel.update({text:"("+
    l+")",at:w,margin:0,x:-8,y:-14}));g=e?e:v.ref.map(n);x&&x.update({rules:v.map,labels:g,y:m,step:c.xAxis&&c.xAxis.step||1,at:q||"bottom"});e&&(this.xLabels=g);q=p?p:r.ref.map(z);d&&(e="right"==w?u._map.to+A:A,d.update({rules:r.map,labels:q,x:0,step:c.yAxis&&c.yAxis.step||1,at:w||"left",margin:e}));p&&(this.yLabels=q);s&&s.update({rules:v.map,length:m,y:m,step:c.xAxis&&c.xAxis.step||1});t&&t.update({rules:r.map,length:b,x:0,y:0,step:c.yAxis&&c.yAxis.step||1});this.xArrow&&this.xArrow.setTranslate(b,
    m+.5);this.yArrow&&this.yArrow.setRotate(-90).setTranslate(.5,0)},setCoordinateConf:function(a){var b={},e=[],d=a.xAxis,g=a.yAxis;d.axis.enabled&&e.push("xAxis");d.ticks.enabled&&e.push("xMesh");d.label.enabled&&e.push("xCat");g.axis.enabled&&e.push("yAxis");g.ticks.enabled&&e.push("yMesh");g.label.enabled&&e.push("yCat");b.components=e;var e=d.margin,l=g.margin;b.margin={left:e.left||0,right:e.right||0,top:l.top||0,bottom:l.bottom||0};e=d.padding;l=g.padding;b.padding={left:e.left||0,right:e.right||
    0,top:l.top||0,bottom:l.bottom||0};e=kity.Utils.queryPath("xAxis.min",a);kity.Utils.isNumber(e)&&(b.minX=e);e=kity.Utils.queryPath("yAxis.min",a);kity.Utils.isNumber(e)&&(b.minY=e);a.rangeX&&(b.rangeX=a.rangeX);a.rangeY&&(b.rangeY=a.rangeY);b.yLabelsAt=g.label.at||"left";b.labelMargin=g.label.margin||10;b.xLabelRotate=d.label.rotate;b.yLabelRotate=g.label.rotate;b.x=kity.Utils.queryPath("xAxis.margin.left",a)||0;b.y=kity.Utils.queryPath("yAxis.margin.top",a)||0;b.unitX=kity.Utils.queryPath("xAxis.unit.text",
    a)||"";b.unitY=kity.Utils.queryPath("yAxis.unit.text",a)||"";a=kity.Utils.copy(a);a.yAxis.inverted?(a.yAxis.categories=a.xAxis.categories,delete a.xAxis.categories,b.minX=e,delete b.minY):delete a.yAxis.categories;b.dataSet=a;return b}}}()),ElementList=kc.ElementList=kity.createClass("ElementList",{base:kc.ChartElement,constructor:function(a){this.callBase(kity.Utils.extend({list:[],fx:!0,common:{}},a));this.elementList=[];this.updateClass(this.param.elementClass);this.fxTimers=[]},getElementList:function(){return this.elementList},
    registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateClass:["elementClass"],updateCommon:["common"],updateList:["list"]})},updateCommon:function(a){this.elementList.forEach(function(b){b.update(a)})},updateList:function(a){function b(){l==k&&d.trigger("listupdatefinish")}var d=this,g=this.elementList,f=kc.fx&&this.param.fx,c=0,e=300/a.length,h=this.fxTimers;for(this.adjust(a.length-g.length);h.length;)clearTimeout(this.fxTimers.pop());var k=g.length,l=0,d=this;g.forEach(function(g,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  k){f&&"animate"in g?(h.push(setTimeout(function(){g.animate(a[k],d.param.animateDuration||300).timeline.on("finish",function(){l++;b()})},c)),c+=Math.random()*e):(l++,b(),g.update(a[k]))})},updateClass:function(a){a&&this.elementClass!=a&&(this.elementClass=a,this.shrink(this.elementList.lenght))},adjust:function(a){0<a?this.grow(a):0>a&&this.shrink(-a)},grow:function(a){for(var b;a--;)b=new this.elementClass,b.container=this,this.canvas.addShape(b.canvas),this.elementList.push(b),b.update(this.param.common),
        this.param.fx?b.canvas.setOpacity(0).fadeIn(500,"ease"):b.canvas.setOpacity(1)},shrink:function(a){for(a=this.elementList.splice(-a);a.length;)this.canvas.removeShape(a.pop().canvas)},find:function(a){for(var b=0,d=this.elementList.length;b<d;b++)if(this.elementList[b].param.id==a)return this.elementList[b]}});
(function(a,b){var d=b.Vector,g=a.Tooltip=b.createClass("Tooltip",{base:a.AnimatedChartElement,constructor:function(d){this.callBase(b.Utils.extend({target:null,content:{color:"#888"},contentClass:a.Label,background:"rgba(0,0,0,.8)",at:"up",padding:[6,12,6,12],borderRadius:6,anchorSize:6},d));this.canvas.addShape(this.outline=new b.Path);this.addElement("content",this.contentElement=new this.param.contentClass);this.contentElement.on("sizechanged",function(){var a=this.param;this.updateOutline(a.at,
    a.padding,a.borderRadius,a.anchorSize)}.bind(this))},registerUpdateRules:function(){return b.Utils.extend(this.callBase(),{updateBackground:["background"],updateOutline:["at","padding","borderRadius","anchorSize"]})},updateBackground:function(a){this.outline.fill(a)},updateOutline:function(a,b,e,g){var k=this.contentElement.getBoundaryBox();"number"==typeof b&&(b=[b,b,b,b]);var l=new d(k.x-b[3],k.y-b[0]),m=new d(k.x+k.width+b[1],l.y);b=new d(m.x,k.y+k.height+b[2]);k=new d(l.x,b.y);l.rp=[new d(l.x,
    l.y+e),new d(l.x+e,l.y)];m.rp=[new d(m.x-e,m.y),new d(m.x,m.y+e)];b.rp=[new d(b.x,b.y-e),new d(b.x-e,b.y)];k.rp=[new d(k.x+e,k.y),new d(k.x,k.y-e)];b={left:[m,b,k,l],right:[k,l,m,b],down:[l,m,b,k],up:[b,k,l,m]}[a];a=b[0];l=b[1];m=b[2];b=b[3];k=this.outline.getDrawer().clear();k.moveTo(a.rp[1].x,a.rp[1].y);if(0<g){var p=d.fromPoints(a,l),n=p.length()/2,n=a.add(p.normalize(n-g)),u=p.rotate(-90).normalize().add(p.normalize()),u=n.add(u.multipy(g));g=n.add(p.normalize(2*g));k.lineTo(n.x,n.y);k.lineTo(u.x,
    u.y);k.lineTo(g.x,g.y)}k.lineTo(l.rp[0].x,l.rp[0].y);k.carcTo(e,0,1,l.rp[1].x,l.rp[1].y);k.lineTo(m.rp[0].x,m.rp[0].y);k.carcTo(e,0,1,m.rp[1].x,m.rp[1].y);k.lineTo(b.rp[0].x,b.rp[0].y);k.carcTo(e,0,1,b.rp[1].x,b.rp[1].y);k.lineTo(a.rp[0].x,a.rp[0].y);k.carcTo(e,0,1,a.rp[1].x,a.rp[1].y);k.close();this.updatePosition()},updatePosition:function(){this.param.target&&this.setPosition(this.param.target.getInterestPoint())},getAnimatedParam:function(){return["x","y"]},show:function(){this.updatePosition();
    this.setVisible(!0)},hide:function(){this.setVisible(!1)}});b.extendClass(a.ChartElement,{tooltip:function(a){if(this._tooltip)return this._tooltip.update(a);a.target=this;a=new g(a);this.canvas.on("mouseover",a.show.bind(a));this.canvas.on("mouseout",a.hide.bind(a));this.canvas.container.addShape(a.canvas);this._tooltip=a}})})(kc,kity);
var PieDot=kc.PieDot=kity.createClass("PieDot",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({labelText:null,labelColor:"#62a9dd",labelPosition:"inside",innerRadius:0,outerRadius:0,angle:0,percent:0,showPercent:!0,collapsed:0,background:"#ccc",color:"#62a9dd"},a));this.bPie=new kity.Pie;this.fPie=new kity.Pie;this.canvas.addShapes([this.bPie,this.fPie]);this.addElement("label",new kc.Label);this.addElement("plabel",new kc.Label)},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),
        {updatePies:["innerRadius","outerRadius","angle","percent","collapsed"],updatePiesColor:["color","background"],updateLabel:"labelText labelColor labelPosition outerRadius showPercent collapsed".split(" "),updatePercentLabel:"labelColor innerRadius outerRadius percent showPercent collapsed".split(" ")})},getAnimatedParam:function(){return"labelColor innerRadius outerRadius angle percent collapsed".split(" ")},updatePiesColor:function(a,b){this.fPie.fill(a);this.bPie.fill(b)},updatePies:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           b,d,g,f){g/=100;this.bPie.innerRadius=this.fPie.innerRadius=a*(1-f);this.bPie.outerRadius=this.fPie.outerRadius=3.5+(b-3.5)*(1-f);this.bPie.startAngle=this.fPie.startAngle=d;this.bPie.pieAngle=-360*(1-g);this.fPie.pieAngle=360*g;this.bPie.draw();this.fPie.draw()},updateLabel:function(a,b,d,g,f,c){1>c&&this.getElement("label").update({visible:!0,opacity:1-c,text:a,color:b,at:f?"bottom":d,margin:g+10})},updatePercentLabel:function(a,b,d,g,f,c){var e=this.getElement("plabel");f&&1>c&&(f=e.getSize().width,
        e.update({visible:!0,opacity:1-c,at:f<1.8*b?"center":"top",color:a,margin:d+10,text:(g|0)+"%"}))}}),Pie=kc.Pie=kity.createClass("Pie",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({labelText:null,labelColor:"#62a9dd",labelPosition:"inside",connectLineWidth:1,connectLineColor:"#62a9dd",innerRadius:0,outerRadius:0,startAngle:0,pieAngle:0,strokeWidth:1,strokeColor:"#FFF",color:"#62a9dd"},a));this.pie=new kity.Pie;this.canvas.addShape(this.pie);this.label=this.addElement("label",
        new kc.Label);this.connectLine=this.addElement("connectLine",new kc.Line)},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updatePies:"innerRadius outerRadius startAngle pieAngle strokeWidth strokeColor".split(" "),updatePiesColor:["color"],updateLabel:"labelText labelColor labelPosition outerRadius startAngle pieAngle".split(" "),updateConnectLine:"labelText connectLineWidth connectLineColor labelPosition innerRadius outerRadius startAngle pieAngle".split(" ")})},getAnimatedParam:function(){return["startAngle",
        "pieAngle"]},updatePiesColor:function(a){this.pie.fill(a)},updatePies:function(a,b,d,g,f,c){this.pie.innerRadius=a;this.pie.outerRadius=b;this.pie.startAngle=d;this.pie.pieAngle=g;this.pie.draw();a=new kity.Pen;a.setWidth(f);a.setColor(c);this.pie.stroke(a)},updateLabel:function(a,b,d,g,f,c){"none"!=d&&(d="inside"==d?g-30:g+50,f=(f+c/2)/180*Math.PI,this.label.setVisible(!0),this.label.update({text:a,color:b,at:"bottom",margin:0,x:d*Math.cos(f),y:d*Math.sin(f)}))},updateConnectLine:function(a,b,d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       g,f,c,e,h){"outside"==g&&a&&(a=c+30,e=(e+h/2)/180*Math.PI,this.connectLine.update({x1:(f+2)*Math.cos(e),y1:(f+2)*Math.sin(e),x2:a*Math.cos(e),y2:a*Math.sin(e),width:b,color:d}))}}),CircleDot=kc.CircleDot=kity.createClass("CircleDot",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({label:{at:"bottom",color:"black",text:null},strokeColor:"#FFF",strokeWidth:0,color:"#62a9dd",radius:0,fxEasing:"ease",x:0,y:0},a));this.circle=new kity.Circle;this.canvas.addShapes([this.circle]);
        this.addElement("label",new kc.Label)},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateRadius:["radius"],updateStyle:["color","strokeColor","strokeWidth"],updateText:["labelText"]})},updateText:function(a){this.getElement("label").update({text:a})},updateRadius:function(a){this.circle.setRadius(a)},updateStyle:function(a,b,d){var g=new kity.Pen;g.setWidth(d);g.setColor(b);this.circle.stroke(g);this.circle.fill(a)},getAnimatedParam:function(){return["radius","x","y"]}}),
    ConnectCircleDot=kc.ConnectCircleDot=kity.createClass("ConnectCircleDot",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({label:{at:"bottom",color:"black",text:null},color:"#62a9dd",radius:0,fxEasing:"easeOutElastic"},a));this.circle=new kity.Circle;var b=this.param;this.canvas.addShapes([this.circle]);this.addElement("label",new kc.Label);this.getElement("label");this.on("click",function(a){b.chart.highlightBrand(a)});var d=this,g=document.createElement("div");
        g.setAttribute("class","tooltip");this.on("mouseover",function(a){d.hover();b.chart.paper.container.appendChild(g);g.innerHTML="<h1>"+b.label.text+"</h1>";if(b.tags&&0!==b.tags.length){a=b.tags;for(var c=0;c<a.length;c++)g.innerHTML+='<p><b style="color:#006dbe">'+a[c].name+":&nbsp;</b>"+a[c].value+"</p>"}else g.innerHTML+='<p><b style="color:#006dbe">\u6240\u5c5e\u7c7b\u522b\uff1a</b>'+b.brandclass+"</p>";g.style.left=b.x-b.radius+"px";g.style.top=b.y+b.radius+"px"});this.on("mouseout",function(a){d.hover(!1);
            a=b.chart.paper.container;try{a.removeChild(g)}catch(c){}})},hover:function(a){if(this.param.ishighlight)return!1;var b=this.param,d=this.getElement("label");void 0===a||a?(this.circle.stroke(new kity.Pen((new kity.Color(this.param.color)).dec("l",10),2)),d.canvas.setOpacity(1)):(this.circle.stroke(0),10>b.radius&&"circle"!==b.mode&&d.canvas.setOpacity(0))},highlight:function(a){var b=this.getElement("label"),d=this.param;void 0===a||a?(d.ishighlight=!0,this.circle.stroke(new kity.Pen((new kity.Color(this.param.color)).dec("l",
        10),2)),b.canvas.setOpacity(1)):(d.ishighlight=!1,this.circle.stroke(0),10>d.radius&&"circle"!==d.mode&&b.canvas.setOpacity(0))},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateRadius:["radius"],updateColor:["color"],updateText:["text"]})},updateText:function(a,b){this.getElement("label").update({text:a})},updateRadius:function(a){this.circle.setRadius(a)},updateColor:function(a){this.circle.fill(new kity.Color(a))},getAnimatedParam:function(){return["radius"]},animate:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          b,d,g){if(!this.fxEnabled())return this.update(a);var f=this.getAnimatedParam(),c=this.param,e={},h={},k={};f.push("x");f.push("y");for(var l in a)l in c&&~f.indexOf(l)?(e[l]=c[l],h[l]=a[l]):k[l]=a[l];this.update(k);f=new kity.Animator({beginValue:e,finishValue:h,setter:function(b,e){b.update(e);var d=!0,f;for(f in e)e[f]!==h[f]&&(d=!1);f=b.param.connectLines;for(var g=e.x||b.x,k=e.y||b.y,l=0;l<f.length;l++)"start"===f[l].position?f[l].line.update({x1:g,y1:k,cx:d&&"circle"===c.mode?c.cx:g,cy:d&&"circle"===
        c.mode?c.cy:k}):f[l].line.update({x2:g,y2:k,cx:d&&"circle"===c.mode?c.cx:g,cy:d&&"circle"===c.mode?c.cy:k});d=b.param;f=b.getElement("label");l=.8*d.originradius;12>l&&(l=12);f.text.setFontSize(l);if("circle"===d.mode){f.update({color:d.color});f.canvas.setOpacity(1);var g=g-d.Ox,k=k-d.Oy,r=Math.sqrt(g*g+k*k),l=g/r,r=k/r,q=180*d.sDelta/d.total;90<=q&&270>=q?(f.canvas.setRotate(q+180),f.text.setTextAnchor("end")):(f.canvas.setRotate(q),f.text.setTextAnchor("left"));f.canvas.setTranslate((d.R+20)*l-
        g,(d.R+20)*r-k)}else f.text.setTextAnchor("middle"),f.canvas.setTranslate(0,0),f.canvas.setRotate(0),10>a.radius?f.canvas.setOpacity(0):f.canvas.setOpacity(1)}});this.timeline&&this.timeline.stop();this.timeline=f.start(this,b||this.param.fxTiming||this.fxTiming||2E3,d||this.param.fxEasing||this.fxEasing||"ease",g);return this}}),Mesh=kc.Mesh=kity.createClass("Mesh",{base:kc.ChartElement,constructor:function(a){this.callBase(kity.Utils.extend({type:"vertical",dir:-1,length:0,width:1,color:"#CCC",
        rules:[],dash:[2,2],step:1,fx:!0},a));this.addElement("lines",new kc.ElementList({elementClass:kc.Line,list:[]}))},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateRules:["rules","type","dir","length","step"],updateLines:["width","color","dash"]})},updateRules:function(a,b,d,g,f){var c,e,h=[];for(c=0;c<a.length;c+=f)e=a[c],e="vertical"==b?{x1:e,x2:e,y1:0,y2:d*g}:{x1:0,x2:d*g,y1:e,y2:e},h.push(e);this.getElement("lines").update({list:h})},updateLines:function(a,b,d){this.getElement("lines").update({common:{width:a,
        color:b,dash:d}})}}),Categories=kc.Categories=kity.createClass("Categories",{base:kc.ChartElement,constructor:function(a){this.callBase(kity.Utils.extend({at:"bottom",rules:[],labels:[],color:"black",margin:10,step:1,rotate:0},a));this.addElement("labels",new kc.ElementList({elementClass:kc.Label}))},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateCategories:"rules labels at margin rotate step".split(" "),updateColor:"color",updateCommon:"common"})},updateCategories:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       b,d,g,f,c){var e,h,k,l,m=[];for(e=0;e<a.length;e+=c)h=a[e],"left"==d?(k=-g,l=h):"bottom"==d?(k=h,l=g):"right"==d&&(k=g,l=h),m.push({x:k,y:l,at:d,rotate:f,text:b[e]});this.getElement("labels").update({list:m,fx:!0})},updateColor:function(a){this.getElement("labels").update({common:{color:a}})}}),Marquee=kc.Marquee=kity.createClass("Marquee",{mixins:[kc.EventHandler],constructor:function(a){var b=a.paper;a.paper&&(this.bind(b),this.callMixin())},bind:function(a){function b(b){c=b.getPosition();e=kity.Vector.fromPoints(f,
        c);10<e.length()&&(h=!0,a.addShape(g),g.setSize(e.x|0,e.y|0))}function d(d){h&&k.trigger("marquee",{start:f,end:c,size:{width:e.x,height:e.y}});h=!1;f=null;a.removeShape(g);a.off("mousemove",b)}var g=(new kity.Rect).fill("rgba(240,240,255, 0.3)").stroke("#aaf"),f=null,c,e,h=!1,k=this;a.on("mousedown",function(c){if(null!==f)return d(c);f=kc.sharpen(c.getPosition());g.setPosition(f.x,f.y);a.on("mousemove",b)});a.on("mouseup",d)}}),MapBlock=kity.createClass("MapBlock",{base:kc.AnimatedChartElement,
        constructor:function(a){this.callBase(kity.Utils.extend({scale:1,color:new kity.Color("#EEE"),stroke:"#888",path:null}),a);this._shape=new kity.Path;this.canvas.addShape(this._shape)},getAnimatedParam:function(){return["scale","color"]},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{draw:["path","scale"],fill:["color","stroke"]})},draw:function(a,b){if(a){var d=(new kity.Matrix).scale(b).transformPath(a);this._shape.setPathData(d)}},fill:function(a,b){this._shape.fill(a).stroke(b,
            1)}}),Map=kc.Map=kity.createClass("Map",{base:kc.ChartElement,constructor:function(a,b){this.callBase(kity.Utils.extend({width:b.width,height:b.height},a));this._data=b||Map.CHINA_MAP;this._blocks=new kc.ElementList({elementClass:MapBlock});this.addElement("blocks",this._blocks)},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{resize:["width","height"]})},resize:function(a,b){var d=this._data.width/this._data.height;a/b>d?(b=a/d,d=b/this._data.height):(a=b*d,d=a/this._data.width);
        var g=[],f;for(f in this._data.blocks)this._data.blocks.hasOwnProperty(f)&&g.push({id:f,path:this._data.blocks[f],scale:d});this._blocks.update({list:g,fx:!1});this._lngRuler=(new kc.Ruler).ref(this._data.lng[0],this._data.lng[1]).map(0,a);this._latRuler=(new kc.Ruler).ref(this._data.lat[1],this._data.lat[0]).map(0,b);this._xRuler=this._lngRuler.reverse();this._yRuler=this._latRuler.reverse();this.renderWidth=a;this.renderHeight=b},findBlockById:function(a){return this._blocks.find(a)},findBlockByEvent:function(a){for(a=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        a.targetShape;a&&!a.host;){if(a.host instanceof MapBlock)return a.host;a=a.container}return null}});
Map.CHINA={width:565,height:475,lng:[73.66,135.05],lat:[3.86,53.55],blocks:{heilongjiang:"M464.838,96.639l6.787-1.19l2.854,5.241l4.285,3.095l2.856-1.188h2.386l4.285-2.501l3.094,3.094l2.024,0.357l5.357-2.023l3.813,2.023l1.666,4.288h2.857l1.43,1.904l3.689,4.049l1.426-0.833l-0.594-5.12l2.026-1.432l2.854,5.716l2.621,1.074l2.858,3.212l2.021-0.357l0.836-1.427l4.523-5.12l2.022,1.428l1.43-2.022l1.431,2.619l4.283,1.429h2.86l2.07,0.088l-1.238-2.113l-0.598-6.906l-5.115-7.978l2.855-2.857l2.616-4.883h9.646l1.785-1.665l-0.597-3.69l2.025-3.691l-0.596-2.024l0.832-3.451l-0.236-17.742l2.855-5.715l-3.214-3.692l0.595-2.261l-1.427-2.024l-3.69,1.429l-4.289,4.884l-4.283,2.023l-4.289,5.951l-10.598,3.692l-4.879-3.692l0.594-2.262l-2.5-3.689l-1.191-3.811l-4.047-0.239l-7.145-3.69l-2.859,1.071l-3.33-1.667l-4.887,0.834l-4.283-1.429l-2.621-3.69l-2.498-2.857l-0.951-2.857l-3.334-3.452l-2.026-3.099l-4.644-6.31l-1.428-3.69l-5.119-6.548l-1.432-3.454l-6.549-3.216l-4.287,1.429l-3.689-0.833l-8.336-1.668l-11.07,3.932l-2.024,1.786l2.262,3.096l-2.856,7.499l0.834,0.835l4.881,3.096l2.621-4.286l4.524,2.856l-0.235,2.022l1.664,5.119l2.854,3.218l5.717,0.833l1.668-1.787l3.451-0.477l6.547-5.476l8.576,6.31l-2.858,11.669l0.594,8.333v5.119l-2.26,1.191l-0.238,13.335l-0.597-0.476l-2.26-2.858h-1.192l-0.595,1.073c0,0-8.797,13.044-7.146,10.596c1.652-2.448-3.451,4.523-3.451,4.523l0.357,1.428l7.145,4.886l3.926-1.071l0.599,1.071l-0.834,1.189l-3.689,1.667l-0.359,3.214L464.838,96.639z",jilin:"M544.896,113.042l-2.07-0.088h-2.858l-4.285-1.431l-1.43-2.619l-1.431,2.024l-2.022-1.428l-4.523,5.12l-0.834,1.427l-2.022,0.357l-2.859-3.214l-2.621-1.072l-2.854-5.715l-2.027,1.431l0.594,5.12l-1.426,0.833l-3.689-4.05l-1.432-1.903h-2.854l-1.666-4.288l-3.813-2.023l-5.354,2.023l-2.025-0.357l-3.098-3.094l-4.285,2.5h-2.383l-2.857,1.191l-4.285-3.096l-2.854-5.24l-6.787,1.189l-2.621,3.099l-0.238,3.45l-7.502-2.023l-1.074,2.381l0.601,1.667l3.928,2.859v4.046l0.594,3.929l2.265,3.456l0.356,3.095l1.666,1.191l5.717-5.479l5.953,7.502v4.288l3.213,1.667l0.238-1.431l4.885,1.431l3.451,4.046l1.666-1.784l0.357-1.074l8.217,11.075l0.594,4.286l4.527,5.239l0.592,4.761l4.051-2.499l3.689-10.598l1.67-0.595l4.047,2.263l6.549-0.834l2.26-2.024l-3.092-4.763l0.832-1.191c0,0,7.84-2.611,6.072-2.022c-1.766,0.588,2.5-4.883,2.5-4.883l3.215-1.428l0.238-4.766l0.832-3.212l1.785-0.596l1.668,1.789l1.668,1.426l4.287-5.715l1.188-4.288L544.896,113.042z",
    liaoning:"M491.15,173.2l6.783-10.002l4.287-4.881l-0.595-4.763l-4.524-5.239l-0.594-4.286l-8.216-11.075l-0.358,1.074l-1.666,1.786l-3.453-4.05l-4.883-1.429l-0.236,1.429v2.264l-2.022,2.022l-4.047,4.05H467.1l-1.666,2.856h-1.789l-3.094,3.096h-1.787l-3.691,3.691l-2.262,0.596l-4.881,7.5l-3.096-4.644l-3.453-2.262l-1.666,1.667l1.903,10.002l-1.666,3.453l-1.668,5.12l4.763,3.215l2.621,0.238l3.45,4.881l2.5-1.429c0,0,2.857-2.881,4.05-4.882c1.192-2.002,4.049-6.788,4.049-6.788l6.787-1.429l4.287,4.286l-3.099,6.787l-4.049,6.311l3.688,2.62l-0.233,3.098l-2.857,2.855l0.597,1.19l4.881-2.619l7.143-9.407l10.836-6.072L491.15,173.2z",
    hebei:"M413.04,235.229l0.357-1.426l-1.783-3.453l6.902-12.5c0,0,8.725-7.9,6.313-5.718c-2.411,2.185,4.523-1.188,4.523-1.188l4.268-5.423l-1.647-1.125l-1.56-3.907l-3.319,1.286l-5.479-1.428l-0.237-1.428l-0.238-9.17l3.69-1.667l-0.419-1.563l-0.177-0.104l0.81-3.557l-5.094,2.128l0.832,1.905l0.178,1.424l0.18,1.433l-2.857,1.19l-1.785,1.667l-3.692-1.071l-4.881,0.834l-0.832-2.264l0.594-4.287l3.693-4.286l0.831-4.88l3.691-3.691l6.666,3.454h1.668l1.189,4.762l1.905,0.95l0.953,3.1l-0.356,2.024l4.047,2.854l0.594,2.264l3.338,1.428l8.332-4.523v-2.621l4.883-7.143l-3.45-4.881l-2.621-0.238l-4.763-3.218l1.668-5.118l-7.387-0.595l-3.213-4.765l0.357-2.619l-6.31-6.906l-4.051,2.026l-3.451,3.452l1.191,2.62l-0.834,1.667l-4.882,0.237l-2.264,2.022l-2.022-0.835l-2.021,2.026l-4.527,3.453l-2.024-1.43v-4.644l-1.666-0.832l-2.619,1.189l-3.096,6.547l-1.189,6.311l3.689,6.19l3.215,2.858v5.24l1.904,4.286l-0.834,4.764l-4.884,3.213l-2.26,7.382l4.049,4.645l2.857,5.717l-1.785,2.857l-0.477,3.928l-1.787,2.619l-0.834,2.859l2.621,3.446l11.43,1.431l4.524-1.787L413.04,235.229z",
    shandong:"M425.661,252.611l0.597-2.856l2.5-1.069l4.645,3.927h1.433l4.284-0.476l2.5-2.022l3.453,2.856l1.429-2.62l0.356-1.43l2.857-1.667l0.834-3.45l2.854-0.595l7.98-13.454l-1.429-2.264l1.429-1.427l1.666,0.595l2.619-1.429l1.432-3.094l6.545-6.073l5.121-1.666l2.381-2.266l-0.592-4.88l-3.457-0.355l-7.738,0.952l-5.356-2.62l-3.216,0.596l-7.977,10.239l-2.262,1.429l-5.117-2.263l-0.359-2.619l-1.069-4.523l-2.859-1.669l-4.643,1.073l-2.882-1.971l-4.266,5.423l-4.523,1.188c0,0-8.514,7.798-6.313,5.718c2.201-2.081-6.902,12.5-6.902,12.5l1.783,3.45l-0.357,1.431v1.666l0.957,1.429l2.261-1.669l3.69-0.834l-10.002,11.074v2.621l2.023,0.596l4.524,3.93l7.146-0.835L425.661,252.611z",
    jiangsu:"M483.646,282.616l-1.426,4.286l-1.898,2.251l-3.225,3.824l-4.879-0.835l-3.929-2.383l-2.383,1.19l-8.571-0.832l-0.238-3.454l-4.287-2.856l-1.428-2.618l2.02-2.264v-1.665v-2.267l5.121-0.594l0.24-2.023l-1.666-2.263l-2.621-0.355l-1.666,2.854l-4.287-0.831l-1.188-2.263l-2.857-1.666l0.955-6.074l-0.598-1.072l-2.859,0.479l-2.021-1.667l-5.118-1.429l-2.861-2.857l-6.307-2.621l0.592-2.856l2.5-1.069l4.645,3.927h1.433l4.284-0.476l2.5-2.022l3.453,2.856l1.427-2.62l0.358-1.43l2.857-1.667l0.834-3.45l2.854-0.597l7.148,4.881c0,0,3.365,0.754,5.117,2.025c1.754,1.271,9.766,16.313,9.766,16.313l-0.357,1.666l6.548,3.095l1.784,2.859l3.099,1.429l1.428,2.855l-2.023,0.951l-3.334-1.188h-4.645l-4.287-1.432l-1.666,1.432l3.932,1.188l3.813,1.669L483.646,282.616z",
    zhejiang:"M483.793,336.063l-6.455,2.276l-3.693-3.69l-2.498,3.215h-4.049l-1.666-3.454l-2.023-5.118l-3.692-0.596l-4.047-7.501l-2.619-3.69l1.903-1.818l0.716-0.685c0,0,6.241-8.84,4.286-6.07c-1.954,2.769-0.239-4.882-0.239-4.882l1.43-1.906l3.336-0.594l0.951-1.43l-1.189-2.263l1.666-2.382v-4.524l2.384-1.189l3.928,2.382l4.879,0.835l3.225-3.824l3.998,3.332l-1.744,1.324l-2.021,3.096l-3.217,0.952l-1.074,0.833l3.098,1.666l5.715-2.499l9.406,3.929l0.953,7.979h-3.809l-0.24,2.382l2.024,3.332l-1.784,2.024l2.022,3.214l-3.096,3.69l-1.43-1.787l-4.644,11.788L483.793,336.063z",
    anhui:"M423.637,253.208l2.024-0.597l6.312,2.621c0,0,1.768,2.299,2.861,2.856c1.092,0.557,5.118,1.43,5.118,1.43l2.021,1.667l2.858-0.479l0.599,1.072l-0.957,6.074l2.858,1.666l1.189,2.263l4.287,0.831l1.666-2.854l2.621,0.356l1.666,2.265l-0.24,2.021l-5.121,0.596v2.264v1.665l-2.021,2.265l1.43,2.618l4.287,2.856l0.237,3.454l8.572,0.832v4.525l-1.666,2.381l1.191,2.263l-0.951,1.43l-3.338,0.594l-1.428,1.906l0.235,4.882l-4.285,6.072l-0.715,0.683l-2.381-2.111H446.5l-2.498-2.855l-4.884,4.761l-1.786-0.834l2.026-3.69l-0.24-1.188l-1.786-0.479l-5.718,3.099l-5.356-10.241l1.666-3.214l-0.595-1.071l-2.858-0.952l-4.76-2.858l1.903-3.928l2.855-1.43l0.598-3.214l-1.07-5.716l-0.596-0.479l-2.856,2.86c0,0-5.978-4.647-4.287-3.453c1.69,1.192-3.217-4.049-3.217-4.049l3.217-2.261l0.834-4.05l2.021-1.431l-0.354-5.359l1.43-1.188l2.619,1.787l1.664,2.26l3.453-2.26l1.192-1.434l-0.598-2.617l-4.049-2.263L423.637,253.208z",
    henan:"M371.131,276.068l9.405,8.336l7.742,1.665l7.144-1.072l2.262,1.072l2.5-1.43l1.783,1.787l0.834,2.856l3.455,1.905h4.524l3.451,2.857l3.098-1.428l2.382,1.428l1.903-3.929l2.855-1.43l0.598-3.216l-1.07-5.715l-0.596-0.479l-2.856,2.86l-4.287-3.453l-3.218-4.049l3.218-2.263l0.834-4.048l2.021-1.431l-0.354-5.359l1.43-1.188l2.619,1.787l1.664,2.26l3.455-2.26l1.19-1.434l-0.598-2.617l-4.049-2.263l-0.834-2.619l-7.142,0.835l-4.524-3.93l-2.021-0.596v-2.621l10-11.074l-3.69,0.834l-2.261,1.669l-0.957-1.429v-1.666l-1.663-0.6l-4.525,1.785l-11.43-1.428l-0.597,9.408c0,0-6.604,5.169-5.479,4.287c1.129-0.884-7.381,1.429-7.381,1.429l-10.359,7.142l-8.215,2.264v1.43l7.738,11.666L371.131,276.068L371.131,276.068z",
    shanxi:"M363.393,259.519l8.217-2.265l10.357-7.142l7.381-1.431l5.477-4.287l0.599-9.405l-2.623-3.449l0.836-2.856l1.787-2.619l0.477-3.929l1.785-2.86l-2.859-5.713l-4.047-4.645l2.262-7.383l4.886-3.212l0.83-4.765l-1.904-4.286v-5.242l-3.215-2.854l-7.381,3.809l-1.191-1.189l-3.93,2.855l-3.213-0.235l-6.312,9.048h-1.906l-3.452,2.858l0.237,4.046l-1.67,3.452l-0.594,4.525l-3.096,4.884l3.334,6.905l-1.07,3.929l-2.619,4.286c0,0,4.146,18.996,3.689,16.903s-2.498,8.81-2.498,8.81L363.393,259.519z",shaanxi:"M363.393,259.519l-1.428-3.454l2.498-8.81l-3.689-16.903c0,0,3.262-5.777,2.619-4.286c-0.646,1.49,1.07-3.929,1.07-3.929l-3.334-6.905l3.096-4.884l0.594-4.525l1.67-3.452l-0.238-4.046l-1.432-1.074l-2.26,2.502l-6.072,0.356l-3.096,4.526l0.236,2.62l-0.593,1.665l-2.502,0.834l-9.406,13.454l-1.19-0.836l-2.617-0.594l-5.359,0.359l-1.789,2.499l-0.233,5.478l0.834,1.667l9.166,4.637l4.883,3.099l0.832,2.855l-2.619,3.691l1.431,4.286l-0.835,2.021l-6.784,0.6l-1.433,0.835l0.478,1.188v1.904l-5.355,0.596l-2.856-1.428h-3.691l-0.596,0.832l0.596,2.026l-1.789,2.022l-0.592,2.261l3.451,2.861l-2.5,5.117l1.071,2.619l-0.237,1.191h-4.052l-2.854,1.429l2.262,3.098l-1.43,4.048l2.383,0.478l0.238,2.617l2.021,0.237l7.386-1.427l1.43,0.593l0.354,2.025l3.099,0.835l6.547,3.216l3.69-1.434l8.097,2.857l1.666,2.26l4.051-0.829l-0.596-4.288l-0.834-1.191l0.834-3.451l4.286-2.021l1.068-1.668l-2.26-0.837l-2.5-0.593l-2.619-2.62l1.189-1.068h8.571h1.908l1.189,0.83l2.616-2.022v-3.454l-7.737-11.668L363.393,259.519L363.393,259.519z",
    gansu:"M196.462,200.108l-1.43-16.55l0.836-3.453l4.879-2.262c0,0,5.209-5.03,6.903-5.717c1.696-0.686,10.6-4.285,10.6-4.285l4.285-2.025v-4.047l1.905-2.262l1.788,0.237l7.144,1.192l-0.358,3.095l1.43,4.88l-0.834,7.978l6.072,8.929l3.097,2.026l4.883-3.812h10.237l2.623,0.953l1.429,2.264l-1.193,2.499l-5.714,4.645l0.597,2.261l6.549,4.882h2.618l0.834,1.07l-0.596,2.025l4.05,3.217l9.404,1.429l4.525-1.19l5.718-5.719l6.903,0.598l2.855,4.287l-1.664,3.929l0.475,2.382l-3.688,2.263l-1.668,2.024l0.596,4.763l6.545,4.646l2.875-0.653l7.725,9.458l1.668,7.145l-0.834,3.451l5.357,2.859v2.26l4.883,1.192h1.426v-4.05l3.693-0.595l0.951-4.763l-2.619-2.026l-2.025-2.021l0.834-9.166l2.023-1.071l3.453,1.43l1.432-0.598l0.834,1.667l9.166,4.639l4.883,3.1l0.832,2.856l-2.619,3.691l1.431,4.285l-0.834,2.021l-6.785,0.6l-1.433,0.833l0.478,1.191v1.903l-5.355,0.594l-2.856-1.428h-3.691l-0.596,0.834l0.596,2.024l-1.789,2.023l-0.592,2.262l3.449,2.857l-2.498,5.119l1.072,2.622l-0.238,1.188h-4.051l-2.854,1.435l2.26,3.091l-1.428,4.051l-4.287,1.07l0.357,2.023l-1.189,1.428l-7.383-0.596l-2.854-2.021l-0.601-4.525l-1.664-1.669l-2.62,1.669l-4.523-4.521l-3.455-2.385l-0.354-3.335l-1.074-2.619h-1.787l-7.144,3.096l0.356,3.454h-2.618l-4.287-4.288l-4.525-0.593l-1.786-2.499l1.431-2.86l2.617,2.5l3.097,0.954l2.62-2.025v-4.881l2.857-2.62l2.265-2.263l-1.073-2.856l5.716-4.522l0.832-7.147l-2.619-3.688l-1.429-6.071l-7.144-9.405l-3.692,1.431l-5.118-4.524l-6.907-4.287l-2.856-6.905l-5.359,2.023l-9.999-6.309l-4.883,2.616l-7.501-1.188l-5.714,3.452l-3.691,0.237l-5.715-3.451l-3.93-2.265L196.462,200.108z",
    hubei:"M356.486,329.29l1.787-4.048l5.119-4.287l4.881,2.026l3.096-2.026l-2.621-3.093l1.429-1.433l13.219,0.836l4.525,3.097l2.264,1.425l3.451-2.26l2.619-0.833l0.596,3.093h1.904l1.43-2.021l2.856-2.86l1.431,2.027v4.049l1.19,1.667l2.619,0.594l2.855-2.854l4.287-1.433l7.979-7.381l3.691,0.236l4.522-1.428l-5.358-10.24l1.668-3.214l-0.593-1.071l-2.862-0.952l-4.761-2.858l-2.381-1.427l-3.098,1.427l-3.451-2.854h-4.524l-3.455-1.907l-0.83-2.856l-1.787-1.786l-2.5,1.428L395.421,285c0,0-9.509,0.927-7.146,1.071c2.363,0.146-7.736-1.666-7.736-1.666l-9.407-8.334l-2.619,2.023l-1.188-0.831h-1.907h-8.572l-1.189,1.068l2.619,2.62l2.5,0.593l2.26,0.837l-1.067,1.668l-4.287,2.021l-0.834,3.451l0.834,1.191l0.596,4.288l2.5,0.238l2.619,3.452l1.07,6.548l-0.832,2.262l-1.666-0.594l-4.883,3.812l-8.336,1.429l-2.261,2.263l1.783,2.262l0.24,4.882l2.262,0.598L356.486,329.29z",
    jiangxi:"M408.279,325.242l3.336,6.549l0.355,3.452l-1.785,3.454l-2.502,2.024l-0.594,6.188l0.832,0.955l1.43-0.596l0.834,0.596v3.927l1.785,4.647l2.026,0.831l0.234,6.789l-1.193,4.642l1.193,2.021l2.266,2.265l5.474-1.429l1.071,2.022l-1.665,2.263l-2.859,4.287v1.07l1.67,1.192l11.43-4.525l4.047,2.263l1.191-1.19l-1.191-2.499l0.281-1.663l1.742-10.365l1.67-2.62l0.832-2.854l2.025-4.286l-1.072-1.668l0.238-3.691l4.881-5.475l-0.355-3.691l3.213-5.478l3.095,0.834l6.311-4.524l1.193-2.263l-4.049-7.501l-2.619-3.69l1.901-1.818l-2.381-2.111H446.5l-2.5-2.855l-4.884,4.762l-1.784-0.835l2.024-3.69l-0.24-1.188l-1.784-0.479l-5.716,3.099l-4.524,1.429l-3.689-0.238c0,0-9.709,9.669-7.979,7.381c1.731-2.287-4.287,1.433-4.287,1.433L408.279,325.242z",
    fujian:"M435.945,374.779c0,0,2.881-12.508,1.742-10.365c-1.137,2.144,1.672-2.62,1.672-2.62l0.83-2.854l2.023-4.286l-1.072-1.668l0.24-3.691l4.881-5.475l-0.357-3.691l3.215-5.478l3.095,0.834l6.311-4.524l1.193-2.26l3.69,0.593l2.025,5.118l1.666,3.454h4.047l2.498-3.215l3.693,3.69l6.454-2.276l-4.069,9.776l-2.385-1.192l-1.666,0.835l-0.238,0.954l2.262,2.501l-0.598,8.929l0.598,2.859l-0.598,0.834l-2.617-0.599l-1.668,1.667l1.191,2.384l-3.214,3.095l0.595,1.189l-3.097,1.665l0.478,2.264l-1.072,1.191h-4.285l-2.264,2.025l-0.357,0.832l2.023,1.428l-2.26,3.452l-2.859,3.691l-1.189-0.356l-3.1,3.216l-3.447-7.502l-3.098-3.929l-2.023,0.24l-1.43-1.072L435.945,374.779z",
    hunan:"M408.279,325.242l-2.619-0.594l-1.188-1.667v-4.05l-1.43-2.026l-2.857,2.86l-1.43,2.023h-1.904l-0.594-3.096l-2.621,0.833l-3.451,2.263l-2.264-1.428c0,0-2.666-2.521-4.525-3.097c-1.857-0.576-13.217-0.832-13.217-0.832l-1.43,1.429l2.62,3.093l-3.096,2.026l-4.883-2.026l-5.117,4.287l-1.787,4.05c0,0-0.19,6.479,0.357,9.405c0.551,2.926,2.5,10.002,2.5,10.002l-5.717,6.31l0.596,0.833l5.121-1.428l1.785,2.263l-1.429,7.144l2.857,5.121l2.856,0.832l2.857-3.931l1.43,3.099l0.834-0.238l4.523-4.288l1.191,0.24l2.021-1.073l3.693,1.073v4.048l2.856,0.595l-0.832,3.929l-2.623,4.29l-1.188,3.688h1.188l3.103-2.854l2.617,5.713l2.021-1.43h2.264l2.263-1.666v-3.45l1.188-1.072l2.859,0.235l4.879,2.264l0.834-1.667l-1.188-2.023l0.354-1.429l3.098-2.619l5.478,1.428l3.096-1.906l-1.193-2.021l1.193-4.642l-0.234-6.789l-2.026-0.831l-1.785-4.647v-3.927l-0.834-0.596l-1.43,0.596l-0.832-0.955l0.594-6.188l2.502-2.024l1.785-3.454l-0.355-3.452L408.279,325.242z",
    guizhou:"M313.622,349.296l-1.666,4.761l-2.856,0.951l-6.313-0.951l-1.43,1.429l-3.453-1.07l-3.094,4.286l1.428,1.43v2.856l1.431,2.501l6.309-1.906l1.908,1.667l-2.859,12.027l3.81,3.689l-1.188,6.907l3.688,0.238l4.051-3.695l1.668,1.073l7.737,3.216l1.429-0.832l0.235-2.622l1.433-1.429l10.955-7.144l1.903,2.265l6.668,2.021l3.689-4.883l1.668,1.192h2.619v-1.432l3.453-1.189v-1.071l1.43-1.428l0.832,0.237l3.453-3.452l-2.857-5.123l1.429-7.142l-1.785-2.263l-5.121,1.428l-0.596-0.834l5.717-6.309l-2.5-10.001l-3.81,2.855l-3.334-3.45l-3.215-4.29l-0.24-2.619l-2.26-0.477l-2.621,0.834l-4.287-2.024l-2.022,4.883l-3.691,0.239l-2.619,4.049l-1.666-0.834l-2.623,0.834l-3.928-2.266l-3.213,3.69v1.668l6.312,3.453l1.426,2.621c0,0-6.094,2.245-4.523,1.667C322.1,348.955,313.622,349.296,313.622,349.296z",
    sichuan:"M279.33,280.95l1.788-4.05l-2.025-2.261l-0.357-3.454l7.145-3.096h1.787l1.069,2.619l0.357,3.336l3.455,2.384l4.522,4.521l2.621-1.669l1.664,1.669l0.6,4.525l2.855,2.021l7.383,0.599l1.189-1.431l-0.357-2.023l4.287-1.07l2.381,0.478l0.238,2.617l2.024,0.237l7.382-1.427l1.43,0.593l0.354,2.026l3.099,0.834l6.549,3.214v7.47l-3.932,1.059l-1.351,7.671l-5.346,3.72l-1.014,5.811l-4.564-2.092l-5.58,2.092l-0.231,4.416l-0.464,4.53l6.507,4.07l2.28,6.977l-2.623,0.833l-3.928-2.263l-3.213,3.691v1.666l6.311,3.452l1.427,2.62l-4.523,1.666l-6.904-0.238l-0.831-2.855l-2.621-0.954l-4.285,2.623l-2.859-1.429l-0.238-3.694l-1.43-1.786v-1.903l-4.047-0.952l-1.072,1.188l0.599,2.858l-3.215,1.431l-0.836,2.021l0.836,2.504l-7.146,8.334l1.191,9.764l-3.453,2.855l-1.666-1.784l-6.906,4.049l-2.621-1.431l-10.001-19.17l-3.931-2.854l-3.216-0.835l-1.428-2.623l1.787-2.854l-2.857-2.264l-3.455,2.858l-3.45,0.595l-2.264-10.359l-0.597-2.499c0,0-2.04-22.568-0.594-16.55c1.446,6.017-3.099-8.336-3.099-8.336l2.267-1.665l-6.55-12.027l-7.977-6.311l1.069-3.692l0.953-1.188l11.669-1.666l7.738,2.262l4.523-1.431l1.785,2.859l5.717,5.715l4.524-0.833v-3.453l1.191-2.266l4.522-1.783l1.667,2.856l2.621-1.903l3.689,0.478v-0.241H279.33z",
    yunnan:"M313.622,349.296l-0.836-2.858l-2.618-0.954l-4.283,2.622l-2.859-1.432l-0.238-3.688l-1.43-1.79v-1.903l-4.049-0.952l-1.07,1.188l0.599,2.859l-3.217,1.43l-0.834,2.021l0.834,2.5l-7.146,8.336l1.191,9.766l-3.453,2.854l-1.666-1.784l-6.907,4.048l-2.618-1.431c0,0-11.535-22.106-10.002-19.172c1.533,2.938-3.931-2.854-3.931-2.854l-3.213-0.834l-1.432-2.619l1.787-2.859l-2.857-2.263l-3.455,2.859l-3.451,0.598l-2.263-10.363l-0.596-2.499l-3.454,4.286l-1.427,0.831l0.356,6.551l-0.834,1.431h-1.784l-1.43-1.431l-1.667,2.026l1.667,7.381h2.024l1.667,1.19c0,0,0.468,2.396,0.594,4.521c0.125,2.125-0.833,15.719-0.833,15.719l-10.837,9.766l-0.594,3.689l-2.024,1.787l-0.238,1.903l1.669,4.643l-1.431,3.454l0.834,0.478l5.478-1.433l7.738-0.476l-0.834,3.098l1.431,2.857l0.475,4.287l0.955,1.426l4.524,0.243l2.024,1.425l-2.264,2.856l-0.356,3.453l-1.667,4.05l1.068,1.43l2.86,0.238l4.881,1.784l-0.593,1.667l3.212,4.881h4.524l5.716-3.213l1.786,0.952v1.906l0.832,2.856l1.432,1.429l3.092-0.477l1.192,0.834l1.072-1.192v-4.525l-1.906-8.333l1.431-2.5h4.762h1.192l2.62-3.213l6.783,2.261l2.858-2.503l1.431,1.432l2.858-1.786l2.615,2.618h1.073l0.953-1.428l2.261-2.263l1.073,0.833l3.213-0.595l3.099-2.502l2.619-3.811l3.688-0.831l2.023,2.021l1.43-4.048l2.857-0.235l1.069-0.834l0.957-3.691l-1.192-2.023l-9.765-1.785l-1.668-2.857h-2.854h-2.619l-1.906-3.097l0.24-1.665l1.188-6.907l-3.809-3.689l2.859-12.027l-1.908-1.667l-6.309,1.906l-1.431-2.501v-2.856l-1.428-1.43l3.094-4.286l3.453,1.07l1.43-1.429l6.313,0.951l2.856-0.951L313.622,349.296z",
    qinghai:"M153.954,234.989l4.523,1.667l7.742-2.617l-1.193-1.429h-2.021l-0.834-2.259l0.594-2.024l3.692-1.668l2.617-4.286l-7.977-6.548l-0.356-6.906c0,0,2.08-2.545,3.689-2.856c1.609-0.313,26.317-5.119,26.317-5.119l1.783-1.428l3.931,0.594l13.215,3.095l3.93,2.265l5.714,3.451l3.692-0.237l5.714-3.452l7.501,1.188l4.882-2.616l9.999,6.309l5.36-2.023l2.856,6.903l6.907,4.286l5.119,4.527l3.691-1.431l7.146,9.405l1.426,6.071l2.619,3.688l-0.832,7.146l-5.715,4.524l1.073,2.856l-2.265,2.263l-2.856,2.62v4.879l-2.621,2.027l-3.097-0.954l-2.617-2.5l-1.431,2.859l1.787,2.499l4.524,0.594l4.287,4.288h2.618l2.024,2.265l-1.787,4.046v0.239l-3.688-0.479l-2.621,1.905l-1.666-2.856l-4.524,1.785l-1.19,2.264v3.451l-4.524,0.836l-5.715-5.716l-1.787-2.856l-4.524,1.428l-7.738-2.262l-11.67,1.666l-0.952,1.189l-1.071,3.69l-2.263,1.43l0.238,3.692l-6.906,8.931l-11.43-2.383l-0.833-4.285l-7.146-5.718l-15.717-2.498l-6.786-1.19l-2.621-0.238l-5.953-4.883l-12.384-2.857l-8.57-16.551l-0.238-4.642l3.451-1.672v-5.117l2.502-6.313l-2.858-2.856L153.954,234.989z",
    hainan:"M385.895,447.523l-5.119,8.93v3.929l-10.238,8.336l-10.598-3.689l-2.025-7.501l0.597-3.454c0,0,8.074-8.075,5.715-5.716c-2.357,2.358,2.025-1.665,2.025-1.665l9.403-1.668l4.289-0.358l1.426-1.666l3.103,0.832L385.895,447.523z",shanghai:"M484.32,292.485l-3.998-3.332c0,0,0.867-0.375,1.898-2.251c1.031-1.875,1.426-4.286,1.426-4.286l4.287,1.788l2.027,2.854l-1.433,2.024L484.32,292.485z",chongqing:"M318.986,317.871l5.58-2.092l4.564,2.092l1.014-5.811l5.346-3.72l1.351-7.671l3.932-1.059v-7.47l3.689-1.432l8.096,2.857l1.666,2.26l4.051-0.829l2.5,0.238l2.619,3.452l1.07,6.548l-0.832,2.262l-1.666-0.594c0,0-3.072,3.501-4.884,3.812c-1.809,0.311-8.336,1.429-8.336,1.429l-2.26,2.263l1.783,2.262l0.24,4.883l2.262,0.597l5.715,7.142l0.357,9.407l-3.218,2.412l-0.592,0.445l-3.334-3.451l-3.215-4.29l-0.24-2.619l-2.26-0.476l-2.621,0.834l-4.287-2.025l-2.022,4.883l-3.691,0.239l-2.619,4.049l-1.666-0.834l-2.28-6.977l-6.507-4.07L318.986,317.871z",
    tianjin:"M430.413,200.491c0,0-1.832,1.672-3.319,1.284c-1.49-0.388-5.479-1.428-5.479-1.428l-0.237-1.429l-0.238-9.169l3.69-1.667l-0.596-1.666l0.81-3.557l0.385-1.683l1.901,0.95l0.953,3.098l-0.356,2.022l4.047,2.858l0.594,2.263l-2.379,1.668l-0.834,3.809L430.413,200.491z",beijing:"M421.139,189.75l-0.357-2.856l-0.832-1.905l5.095-2.126l0.381-1.683l-1.189-4.767h-1.668l-6.666-3.449l-3.69,3.69c0,0-1.125,6.585-0.832,4.88c0.289-1.704-3.693,4.288-3.693,4.288l-0.594,4.286l0.832,2.263l4.881-0.834l3.693,1.071l1.784-1.667L421.139,189.75z",
    ningxia:"M329.934,230.111l0.24-5.476l1.785-2.499l-0.832-2.62l-9.168-3.454l0.594-3.691l2.858-4.049l-1.786-6.19l-0.835-0.952l-5.954,4.049l-2.855,9.168l-0.953,6.31l-4.762,3.93l-2.859,1.189l-3.438,0.779c0,0,9.184,11.236,7.729,9.458c-1.455-1.78,1.664,7.146,1.664,7.146l-0.834,3.449l5.357,2.859v2.262l4.881,1.19h1.43v-4.048l3.691-0.597l0.951-4.763l-2.619-2.026l-2.023-2.021l0.832-9.163l2.023-1.073l3.453,1.43L329.934,230.111z",neimongol:"M301.969,226.604l3.438-0.779l2.859-1.188l4.762-3.932l0.953-6.31l2.855-9.168l5.954-4.048l0.835,0.951l1.786,6.19l-2.858,4.049l-0.594,3.691l9.168,3.453l0.832,2.621l5.358-0.359l2.617,0.596l1.191,0.834l9.405-13.454l2.502-0.835l0.593-1.664l-0.236-2.623l3.096-4.523l6.072-0.358l2.262-2.5l1.431,1.074l3.452-2.86h1.904l6.312-9.046l3.215,0.235l3.93-2.855l1.191,1.189l7.381-3.809l-3.689-6.193l1.189-6.311l3.096-6.549l2.619-1.188l1.666,0.832v4.644l2.025,1.43l4.526-3.453l2.021-2.026l2.022,0.835l2.265-2.025l4.881-0.234l0.834-1.667l-1.191-2.622l3.453-3.452l4.049-2.024l6.31,6.908l-0.355,2.618l3.213,4.763l7.385,0.595l1.666-3.453l-1.903-10.002l1.666-1.667l3.453,2.262l3.096,4.644l4.881-7.5l2.264-0.596l3.689-3.692h1.787l3.094-3.095h1.787l1.666-2.856h4.527l4.047-4.051l2.021-2.021v-2.264l-3.213-1.667v-4.286l-5.953-7.502l-5.717,5.478l-1.666-1.19l-0.357-3.096l-2.264-3.453l-0.594-3.931v-4.046l-3.928-2.858l-0.601-1.667l1.074-2.382l7.502,2.022l0.238-3.452l2.621-3.099l-1.789-1.666l0.358-3.214l3.689-1.667l0.834-1.19l-0.598-1.07l-3.927,1.07l-7.145-4.882l-0.357-1.43l3.453-4.524l7.146-10.597l0.594-1.072h1.193l2.26,2.858l0.596,0.479l0.238-13.336l2.26-1.191v-5.121l-0.594-8.333l2.858-11.668l-8.575-6.312l-6.548,5.478l-3.45,0.476l-1.668,1.786l-5.718-0.832l-2.854-3.215l-1.664-5.122l0.236-2.021l-4.525-2.858l-2.621,4.289l-4.881-3.096l-0.834-0.835l2.856-7.5L433.4,7.223h-2.024l-5.119,3.688l-4.285,6.311l1.668,1.071l3.211,0.359l2.504,6.548l-1.43,2.618l-2.502,3.689l-4.644,17.147l1.785,2.856l-1.428,2.498l-10.599,7.742l-5.713-1.071l-3.215-1.191l-0.479,1.667l-4.642,18.577l-2.264,2.378l1.191,3.335l2.854,2.382l4.764-2.623l7.74,0.598l2.26-3.692l4.052-0.951l7.737,2.856l9.408,9.765v2.023l-2.024,1.429l-10.836,0.599l-3.691,2.854l-2.857-0.355l-2.022,3.214l-5.121,1.07l-3.457,5.12l-0.592,3.81l-7.379,4.763l-4.646,0.598l-5.119,6.904l-4.883,2.859l-9.408-2.025l-3.092-1.431l-3.692,3.694l-1.785,6.548l5.119,7.501l-3.335,3.451l-4.643,2.859c0,0-8.422,10.638-6.787,8.571c1.637-2.064-6.619,3.36-8.93,3.93c-2.31,0.568-14.525,1.429-14.525,1.429l-2.264-0.237l-16.906,7.144l-7.742,4.881l-2.262-1.19l-0.83-2.262l-10.36-0.597l-11.909-3.688l-3.211-3.69l-17.385-2.025l-3.217,1.43l-21.072-2.022l-0.358,3.095l1.43,4.883l-0.834,7.976l6.073,8.929l3.096,2.026l4.883-3.812h10.237l2.623,0.953l1.426,2.262l-1.19,2.5l-5.714,4.646l0.597,2.261l6.549,4.88h2.618l0.834,1.072l-0.596,2.023l4.05,3.217l9.403,1.429l4.527-1.19l5.716-5.719l6.903,0.598l2.857,4.289l-1.664,3.926l0.473,2.382l-3.688,2.263l-1.668,2.024l0.596,4.76l6.545,4.647L301.969,226.604z",
    guangxi:"M305.646,387.87l3.688,0.241l4.051-3.694l1.668,1.072l7.737,3.216l1.429-0.835l0.235-2.619l1.433-1.429l10.955-7.145l1.903,2.266l6.668,2.021l3.691-4.883l1.666,1.192h2.619v-1.431l3.453-1.192v-1.069l1.43-1.428l0.832,0.236l3.453-3.451l2.856,0.832l2.857-3.931l1.432,3.099l0.832-0.238l4.525-4.288l1.188,0.24l2.021-1.073l3.693,1.073v4.048l2.856,0.595l-0.832,3.929l-2.623,4.29l-1.188,3.688h1.188l3.101-2.854l2.616,5.713l2.025-1.43h2.26l1.666,5.717l-1.666,2.383l0.24,2.5l-5.119,6.547l0.355,6.905l-6.668,5.12l-0.476,4.285l-3.809,1.787l0.354,2.5l-3.694,0.831l-2.853,4.646l-7.502,1.071l-3.93-2.856l-4.049-1.669l-4.049,4.05l-4.158,0.241l-4.058,0.234c0,0-10.996-6.139-9.168-5.119c1.828,1.021-1.666-4.526-1.666-4.526l2.261-4.646l-2.617-1.902h-3.455l-0.832-0.952l-3.691,0.952l-3.692-2.62l1.432-4.048l2.855-0.235l1.069-0.834l0.957-3.69l-1.192-2.024l-9.765-1.785l-1.668-2.856h-2.854h-2.619l-1.906-3.099L305.646,387.87z",
    xinjiang:"M153.889,69.508l2.327-0.014l-1.428,4.525l2.025,2.38l0.236,1.666l4.525,4.524l1.191,3.453l5.953,0.357l2.62,2.265h1.429l3.453,7.379l3.451,8.931l-1.784,5.357l0.358,2.025l-3.215,5.477l0.833,4.286l11.192,4.763l12.025,1.788l12.503,8.571l4.049,1.429l0.237,2.261l2.619,5.478l2.619,7.146l3.333,5.953l-1.903,2.263v4.047l-4.286,2.026l-10.596,4.284l-6.907,5.719l-4.881,2.26l-0.834,3.453l1.43,16.55l-3.931-0.596l-1.783,1.431l-26.315,5.119l-3.691,2.856l0.358,6.906l7.978,6.548l-2.62,4.286l-3.69,1.668l-0.597,2.024l0.835,2.259h2.021l1.192,1.429l-7.738,2.617l-4.525-1.667l-2.382-1.424h-5.715l-10.24-4.642h-6.546l-5.121,1.428h-5.714l-8.931,4.879l-7.143-0.834l-7.145,2.5l-5.956-1.907l-3.689-3.211l-9.525-1.427l-6.191,4.28l-3.452-1.425l-2.858-2.263l-6.907-1.667l-1.07-1.189l-2.857-0.237l-9.782,5.945l-10.037-1.25l-0.822-0.359l1.113-8.623l-4.524-1.191l-9.406-6.902l-2.62-0.241l-2.023-4.525l1.427-4.643l-0.477-2.26l-3.451-2.266l-1.192-2.26l-7.143-4.049v-1.189l3.452-1.431l2.023,1.19l2.025-2.025l-0.598-6.785l0.598-5.716l-4.646-4.642l-3.095,0.833l-1.189-3.336l1.785-3.452l-0.952-3.214l3.038-2.749l1.248-1.182v-2.618l4.285-2.024l4.286-0.833l3.811-1.429l3.099,0.832l2.26-0.832l0.833,0.595l0.356,2.859l2.022,0.832l4.765-0.238c0,0,3.566-4.729,5.478-6.073c1.911-1.346,11.19,2.381,11.19,2.381l5.717-4.048l16.552-3.689l1.069-2.264l1.43-6.31l4.643-3.69h1.433v-1.906l0.236-15.836l0.833-3.212l-4.521-1.668l-0.24-1.191l4.762-1.428l12.384-1.073l1.905,2.501l4.287,0.952l1.192,0.239l1.665-2.262l-2.265-2.263l9.169-18.574l1.431-0.953l8.335,4.047h3.689l1.667,2.264l7.979-2.502l2.023-13.212l3.452-2.265l4.048-0.238l2.859-3.452l1.071-3.454l2.263-1.191L153.889,69.508z",
    xizang:"M152.525,339.529l6.787,0.834l2.265,3.216l1.189,0.477l10.239-1.904l0.594-1.787l2.023-1.07l4.884-4.05l4.285-0.594l3.93-2.501l7.74-4.286l0.832,1.428l5.716,1.904l8.334-4.285l2.618,1.787l-2.379,3.452l0.952,0.833h3.332l0.359,1.427l-2.857,5.121l0.833,0.834h1.666l8.336,2.265l3.691-3.099l5.478,4.289l1.667-2.026l1.43,1.431h1.784l0.834-1.431l-0.356-6.549l1.429-0.835l3.451-4.284l-0.594-16.549l-3.099-8.337l2.265-1.665l-6.548-12.027l-7.979-6.311l-2.26,1.43l0.238,3.692l-6.908,8.931l-11.428-2.384l-0.833-4.286l-7.146-5.716l-15.717-2.498l-6.787-1.188l-2.619-0.241l-5.952-4.883l-12.385-2.857l-8.57-16.551l-0.238-4.642l3.451-1.672v-5.117l2.502-6.311l-2.858-2.858l3.811-3.095l-2.383-1.425h-5.716l-10.238-4.644h-6.549l-5.118,1.43h-5.715l-8.931,4.879l-7.144-0.834l-7.146,2.5l-5.954-1.906l-3.688-3.212l-9.526-1.427l-6.192,4.28l-3.45-1.425l-2.859-2.263l-6.908-1.667l-1.065-1.189l-2.857-0.237l-9.782,5.945l-10.412-1.297l2.428,4.398l2.68,1.995l-0.821,3.842l-0.231,3.758l0.256,2.672l0,0l-0.193,3.208l3.451,3.454l0.239,4.884l-1.072,1.907l-5.119,0.591l-2.621-2.854l-2.619,0.355l-0.476,2.265l1.428,3.688l0.479,2.62v3.333l-0.833,2.381l0.354,1.909l3.336,0.356l1.785,3.094l7.739,6.071v1.906l5.716,6.311l1.902,2.262l1.79,0.595l3.451-3.451l3.096,2.856c0,0,15.395,13.684,13.098,11.193c-2.297-2.491,2.381,5.715,2.381,5.715h2.859l1.667-1.665l1.426,1.428v5.117l7.741,4.287l1.667-0.357l1.191,4.287l6.548,3.81l0.238,2.501l1.188,0.835l5.717-0.24h3.098l4.644,3.457l10.24-0.359l5.476-0.239l1.428,2.265l-1.188,4.883l1.427,1.664l5.715-4.761l7.146-5.239l5.12,0.95L152.525,339.529z",
    guangdong:"M391.37,382.632l2.265-1.666v-3.45l1.188-1.072l2.859,0.235l4.879,2.264l0.834-1.667l-1.188-2.025l0.354-1.427l3.098-2.619l5.478,1.427l3.096-1.905l2.264,2.265l5.478-1.429l1.07,2.021l-1.666,2.264l-2.859,4.288v1.069l1.67,1.192l11.43-4.525l4.048,2.264l1.19-1.191l-1.19-2.499l0.28-1.663l7.459,1.663l1.431,1.072l2.022-0.24l3.094,3.929l3.451,7.502l-2.26,1.667l-2.023,3.689l-1.786,0.596l-1.664,3.455l-5.716,2.854l-2.266-1.188l-1.426,2.382v0.833h-1.787h-3.098l-2.857,2.023l-2.021-1.188l-2.5,1.663l-6.314,2.619l-5.121-4.05l-0.354,3.217l1.788,4.882l-4.646,1.904l-2.498,3.452l-4.887,1.191l-2.617,1.073h-5.119c0,0-0.869,2.545-3.453,3.452c-2.584,0.904-9.168,3.213-9.168,3.213l-4.522,3.098l-2.265,2.263l4.287,6.903l-2.856,2.501l-3.451-0.238l-4.053-7.381l0.954-5.238v-2.501l2.854-4.646l3.695-0.831l-0.355-2.501l3.809-1.785l0.476-4.288l6.668-5.119l-0.355-6.905l5.119-6.547l-0.24-2.5l1.666-2.381L391.37,382.632z",
    hongkong:"M417.745,409.005l3.394,0.773l3.453-2.558l1.666,4.582c0,0-5.521,2.673-3.691,1.785c1.828-0.884-4.641-0.355-4.641-0.355l-0.834-3.454L417.745,409.005z",taiwan:"M505.438,371.203l-3.217,19.169l-1.664,6.07v5.123l-1.43,1.427l-3.451-5.119l-3.693-2.858l-3.215-8.571c0,0-0.451-5.62,0.357-7.74c0.809-2.118,5.356-14.05,5.356-14.05l6.313-5.357l4.051,1.904L505.438,371.203z",macau:"M412.032,413.183l-0.96,1.752c0,0,0.889,0.883,3.98,1.086s5.995-0.493,5.995-0.493L410.032,420.183z"},names:{heilongjiang:"\u9ed1\u9f99\u6c5f",
    jilin:"\u5409\u6797",liaoning:"\u8fbd\u5b81",hebei:"\u6cb3\u5317",shandong:"\u5c71\u4e1c",jiangsu:"\u6c5f\u82cf",zhejiang:"\u6d59\u6c5f",anhui:"\u5b89\u5fbd",henan:"\u6cb3\u5357",shanxi:"\u5c71\u897f",shaanxi:"\u9655\u897f",gansu:"\u7518\u8083",hubei:"\u6e56\u5317",jiangxi:"\u6c5f\u897f",fujian:"\u798f\u5efa",hunan:"\u6e56\u5357",guizhou:"\u8d35\u5dde",sichuan:"\u56db\u5ddd",yunnan:"\u4e91\u5357",qinghai:"\u9752\u6d77",hainan:"\u6d77\u5357",shanghai:"\u4e0a\u6d77",chongqing:"\u91cd\u5e86",tianjin:"\u5929\u6d25",
    beijing:"\u5317\u4eac",ningxia:"\u5b81\u590f",neimongol:"\u5185\u8499\u53e4",guangxi:"\u5e7f\u897f",xinjiang:"\u65b0\u7586",xizang:"\u897f\u85cf",guangdong:"\u5e7f\u4e1c",hongkong:"\u9999\u6e2f",taiwan:"\u53f0\u6e7e",macau:"\u6fb3\u95e8"}};
var Rectage=kc.Rectage=kity.createClass("Rectage",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({x:0,y:0,width:0,height:0,color:"rgba( 255, 255, 255, 0 )",strokeWidth:0,strokeColor:"#888",labelText:null,labelColor:"red",labelX:5,labelY:5},a));this.rect=new kity.Rect;this.canvas.addShape(this.rect);this.label=this.addElement("label",new kc.Label)},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{drawRect:["width","height","color"],stroke:["strokeWidth",
    "strokeColor"],drawText:"labelText labelColor labelX labelY width height".split(" ")})},getAnimatedParam:function(){return["width","height"]},drawRect:function(a,b,d){this.rect.setSize(a,b);this.rect.fill(d)},stroke:function(a,b){var d=new kity.Pen;d.setWidth(a);d.setColor(b);this.rect.stroke(d)},drawText:function(a,b,d,g,f,c){this.label.setVisible(!0);this.label.update({text:a,color:b,at:"bottom",x:d,y:g});0<f&&(a=this.label.getSize().width,b=a>f,this.label.text.setRotate(b?-90:0),this.label.direction=
    b?"vertical":"horizon",a>f&&a>c&&this.label.setVisible(!1))}}),CoffeeCup=kc.CoffeeCup=kity.createClass("CoffeeCup",{base:kc.AnimatedChartElement,constructor:function(a){var b=this;this.callBase(kity.Utils.extend({},a));this.callBase(kity.Utils.extend({},a));this.cup=new kity.Path;this.cup.setPathData("M184.158,118c0.519-1,0.606-1.575,0.842-1.741c16.145-11.406,22.017-28.092,22.454-46.841 c0.484-20.817,0.146-41.737,0.06-62.565C207.504,4.595,206.792,3,206.405,0H49.425c-1.923,1-3.806,1.529-5.775,1.795 C19.513,5.055,4.265,31.251,13.763,53.713c5.667,13.402,15.804,21.458,30.418,23.689c1.966,0.3,5.022,1.589,5.423,2.96 C53.962,95.245,60.549,109,74.142,118H0c0.696,5,2.934,7.513,7.985,6.847c6.871-0.906,13.14,0.395,18.539,5.164 c1.049,0.927,3.08,0.987,4.658,0.988c62.818,0.048,125.637,0.028,188.455-0.025c1.751-0.001,3.8-0.201,5.203-1.098 c6.733-4.303,14.007-5.675,21.859-4.731c5.234,0.629,7.416-2.145,8.657-7.145H184.158z M48,68.811 c-14,1.584-28.313-12.144-28.832-27.518C18.583,23.984,32,9.46,48,10.169V68.811z").fill("black");
    this.canvas.addShape(this.cup);this.name=(new kity.Text).setTextAnchor("middle").translate(128,160);this.canvas.addShape(this.name);this.stack=new kity.Group;this.canvas.addShape(this.stack.translate(54,6));a=(new kity.Path).translate(2,0).setPathData("M123.893,104.331c0.478-0.884,0.558-1.392,0.775-1.539c14.871-10.084,20.279-24.838,20.681-41.415 c0.446-18.406,0.135-36.902,0.055-55.317c-0.009-1.997-0.665-3.407-1.02-6.06H0.097L0,71.053 c4.014,13.159,10.043,25.321,22.562,33.278");this.inner=new kity.Clip;
    this.inner.addShape(a);this.ripple=new kity.Path;this.on("mouseover",function(a){this.canvas.addShape(this.ripple);this.ripple.getDrawer();a=this.stacktop.getAttr("fill");this.ripple.fill(a);b.chart.showTip(this._name)});this.on("mouseout",function(a){})},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateAll:["name","constituent","colors","chart"]})},updateAll:function(a,b,d,g){this.chart=g;this._name=a;g.paper.addResource(this.inner);this.name.setContent(a);a=this.stack.clear();
    for(var f=g=0,c,e,h,k=0;k<=b.length;k++){if(k===b.length)if(1===f)break;else c=110-g,e="white",h=null;else h=b[k],f+=h.percent,c=105*h.percent,e=d[h.name],h=(new kity.Text(h.name)).setTextAnchor("middle");var l=105-c-g;e=(new kity.Rect).setWidth(148).setHeight(c).translate(0,l).fill(e);a.addShape(e);0===k&&(this.stacktop=e);h&&(this.canvas.addShape(h),h.translate(128,l+c/2+h.getHeight()/2));g+=c}a.clipWith(this.inner)},getAnimatedParam:function(){return["x","y"]}}),HumanBody=kc.HumanBody=kity.createClass("HumanBody",
    {base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({},a));this.callBase(kity.Utils.extend({},a));this.name=(new kity.Text).setTextAnchor("middle").translate(128,160);this.canvas.addShape(this.name);this.stack=new kity.Group;this.canvas.addShape(this.stack.translate(-2,0));a=(new kity.Path).translate(2,0).setPathData("M66.413,33.82c2.6,1.759,3.775,2.555,6.02,4.074c-0.221-4.084,0.163-7.574-0.687-10.731 c-2.526-9.384,2.467-15.395,8.937-20.505c14.121-11.152,34.932-7.864,45.479,6.643c2.721,3.742,3,7.56,2.479,11.795 c-0.444,3.614-0.723,7.248-1.154,11.684c2.097-0.919,3.472-1.522,5.275-2.312c0,4.585,0.4,9.021-0.151,13.335 c-0.326,2.554-0.553,6.413-5.302,5.525c-0.53-0.099-1.872,1.786-2.111,2.905c-0.965,4.521-1.493,9.136-2.474,13.653 c-0.944,4.346,0.265,7.521,4.233,9.575c7.675,3.972,15.365,7.914,23.033,11.898c7.36,3.824,14.772,7.556,22.032,11.561 c9.874,5.447,13.075,14.752,13.179,25.185c0.079,7.958-1.065,15.92-1.353,23.892c-0.109,3.026,0.101,6.285,1.119,9.092 c4.399,12.131,9.725,23.955,13.54,36.255c2.009,6.477,2.267,13.713,2.161,20.588c-0.283,18.276-1.366,36.538-1.795,54.814 c-0.304,12.969,0.372,25.969-0.201,38.92c-0.453,10.237-5.577,18.637-13.128,25.502c-0.479,0.435-1.146,0.985-1.701,0.959 c-2.936-0.136-5.865-0.439-8.671-0.673c0.251-1.819,0.525-3.806,0.973-7.058c2.4-1.206,6.13-3.08,9.859-4.955 c-0.195-0.511-0.39-1.021-0.586-1.532c-2.306,0.183-4.612,0.366-6.918,0.549c-0.205-0.457-0.41-0.914-0.615-1.371 c1.955-0.884,3.865-1.891,5.875-2.625c3.389-1.238,5.049-3.582,5.143-7.149c0.085-3.239-1.221-5.312-5.345-6.175 c0.116,2.008,0.735,3.779,0.176,5.02c-0.997,2.212-2.705,4.102-4.116,6.127c-1.257-1.891-3.433-3.707-3.593-5.687 c-0.438-5.4-0.282-10.891,0.166-16.302c0.208-2.522,0.959-5.62,2.63-7.29c5.995-5.994,5.243-12.997,3.539-20.005 c-2.586-10.633-5.25-21.289-8.713-31.657c-3.596-10.767-4.07-21.79-4.842-32.897c-0.277-3.987-1.84-7.93-3.12-11.793 c-2.285-6.892-4.801-13.708-7.489-21.317c-0.862,2.708-1.534,4.943-2.283,7.153c-4.001,11.807-4.052,23.682-0.663,35.624 c0.091,0.32,0.24,0.659,0.209,0.973c-1.442,14.409,5.484,27.423,6.892,41.345c3.542,35.037,8.394,70.166,2.219,105.271 c-3.278,18.636-2.016,37.122-1.539,55.668c0.233,9.072,2.728,18.063,3.714,27.143c1.57,14.464-2.845,27.95-7.448,41.368 c-4.04,11.778-7.763,23.669-11.998,35.375c-5.436,15.028-1.417,28.913,4.459,42.67c0.652,1.526,1.584,2.932,2.235,4.458 c1.7,3.987,0.135,6.995-4.086,8.035c-6.125,1.51-12.156,3.955-18.645,1.669c-0.47-0.166-1.2,0.494-1.834,0.691 c-6.931,2.153-12.139-1.66-11.791-8.767c0.25-5.1,1.108-10.19,1.075-15.281c-0.063-9.783,2.329-19.017,4.953-28.329 c4.528-16.069,3.204-32.394,0.006-48.421c-2.435-12.204-0.727-23.608,2.384-35.345c1.464-5.523,1.434-11.851,0.451-17.532 c-2.542-14.689-6.193-29.184-8.972-43.837c-1.015-5.35-1.316-10.953-1.064-16.4c0.427-9.241-3.676-17.412-5.217-26.132 c-2.395-13.552-3.91-27.276-5.334-40.976c-0.891-8.569-1.148-9.101-9.8-7.17c-1.027,10.624-1.735,21.39-3.21,32.05 c-1.065,7.699-2.208,15.622-4.995,22.793c-4.456,11.469-1.873,23.401-3.939,34.931c-1.781,9.943-3.381,19.939-5.711,29.758 c-3.19,13.444-7.071,26.645-1.148,40.406c4.289,9.965,2.039,20.306,0.319,30.429c-3.169,18.655-2.725,36.903,3.116,55.158 c2.277,7.116,1.999,15.059,2.796,22.635c0.343,3.262,0.211,6.587,0.724,9.815c1.297,8.168-3.682,12.616-11.642,10.764 c-3.183-0.74-6.739,0.29-10.047-0.118c-4.374-0.539-8.879-1.202-12.879-2.882c-1.277-0.536-2.072-4.754-1.467-6.811 c2.88-9.798,6.648-19.342,9.366-29.179c0.858-3.104-0.042-6.994-1.028-10.256c-3.98-13.172-7.389-26.627-12.707-39.262 c-9.768-23.208-10.398-46.621-5.621-70.91c1.613-8.201,0.407-16.921,0.962-25.372c0.882-13.419-2.03-26.457-3.308-39.667 c-2.487-25.721-3.424-51.413,1.652-77.051c1.5-7.576,1.091-15.524,1.659-23.294c0.144-1.974,0.384-4.035,1.087-5.86 c6.23-16.181,4.655-33.63,8.015-50.317c1.232-6.122-2.224-13.206-3.635-19.831c-0.409-1.919-1.143-3.77-2.145-6.994 c-0.775,2.368-1.111,3.51-1.52,4.624c-2.5,6.821-5.335,13.542-7.405,20.491c-1.208,4.055-1.713,8.48-1.651,12.726 c0.227,15.451-5.006,29.676-9.081,44.218c-2.274,8.115-3.818,16.482-4.97,24.835c-0.379,2.747,0.772,6.373,2.501,8.608 c3.952,5.106,5.574,10.332,4.373,16.718c-0.469,2.494,0.621,5.25,0.379,7.828c-0.232,2.467-1.162,4.901-2.082,7.232 c-0.124,0.315-2.703,0.283-2.905-0.158c-1.012-2.205-1.667-4.585-2.326-6.937c-0.249-0.888-0.173-1.866-0.249-2.845 c-5.567,1.234-7.43,7.23-3.246,10.779c2.443,2.072,5.86,2.994,8.839,4.434c-0.104,0.396-0.207,0.791-0.311,1.187 c-2.241,0-4.481,0-6.722,0c-0.186,0.529-0.371,1.058-0.557,1.587c1.991,0.958,4.198,1.636,5.908,2.958 c1.534,1.186,7.224,0.073,3.337,5.104c-0.33,0.427,1.254,2.334,1.952,3.56c-8.428,2.195-16.162-1.858-20.203-11.677 c-2.098-5.098-3.479-10.821-3.678-16.316c-0.866-23.94-1.129-47.9-1.722-71.851c-0.21-8.482-1.177-16.968-0.957-25.43 c0.143-5.516,1.157-11.209,2.913-16.443c4.053-12.082,9.574-23.72,12.928-35.969c1.657-6.053,0.034-13.073-0.463-19.629 c-0.632-8.346-0.804-16.475,2.335-24.559c2.39-6.158,6.39-10.329,12.001-13.31c13.191-7.008,26.442-13.908,39.559-21.053 c9.679-5.273,9.916-6.244,6.937-17.06c-0.527-1.914-0.815-3.898-1.134-5.862c-0.435-2.671,0.935-6.697-4.532-5.383 c-0.528,0.127-2.271-2.393-2.49-3.83C67.346,45.224,67.036,40.28,66.413,33.82z");
        this.inner=new kity.Clip;this.inner.addShape(a);this.ripple=new kity.Path},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateAll:["name","constituent","colors","chart"]})},updateAll:function(a,b,d,g){this.chart=g;this._name=a;g.paper.addResource(this.inner);this.name.setContent(a);a=this.stack.clear();for(var f=g=0,c,e,h,k=0;k<=b.length;k++){if(k===b.length)if(1===f)break;else c=220-g,e="white",h=null;else h=b[k],f+=h.percent,c=582*h.percent,e=d[h.name],h=new kity.Text(parseInt(100*
        h.percent)+"%"+h.name);var l=582-c-g;e=(new kity.Rect).setWidth(203).setHeight(c).translate(0,l).fill(e);a.addShape(e);0===k&&(this.stacktop=e);h&&(this.canvas.addShape(h),h.translate(203,l+c/2+h.getHeight()/2).fill("white"));g+=c}a.clipWith(this.inner)},getAnimatedParam:function(){return["x","y"]}}),AxisLine=kc.AxisLine=kity.createClass("AxisLine",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({x1:0,y1:0,x2:100,y2:0,bound:null,width:1,color:"black",dash:null},
    a));this.line=new kity.Path;this.canvas.addShape(this.line)},getAnimatedParam:function(){return["x1","y1","x2","y2","width"]},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{draw:"x1 y1 x2 y2 bound max divide".split(" "),stroke:["color","width","dash"]})},draw:function(a,b,d,g,f,c,e){var h=this.line.getDrawer(),k=kc.sharpen;f&&(f=this.boundTo(a,b,d,g,f));f=f||[[a,b],[d,g]];h.clear();h.moveTo(k(f[0][0]),k(f[0][1]));h.lineTo(k(f[1][0]),k(f[1][1]));if(c){d=Math.log(c)/Math.log(10);
    e=Math.pow(10,Math.floor(d));var l=c/e;if((5>l||6<l)&&1<e)for(e/=10,l*=10;6<l;)l/=2,e*=2;d=[[a-5,b],[a,b]];h.moveTo(k(d[0][0]),k(d[0][1]));h.lineTo(k(d[1][0]),k(d[1][1]));for(f=0;f<l;f++){var m=g-e*f/c*(g-b);d=[[a-5,m],[a,m]];h.moveTo(k(d[0][0]),k(d[0][1]));h.lineTo(k(d[1][0]),k(d[1][1]));this.canvas.addShape((new kity.Text((e*f).toLocaleString())).setX(a-10).setY(m+6).setTextAnchor("end").setStyle({"font-size":"12px"}))}}else for(g=(g-b)/(e-1),f=0;f<e;f++)d=[[a-5,b+g*f],[a,b+g*f]],h.moveTo(k(d[0][0]),
    k(d[0][1])),h.lineTo(k(d[1][0]),k(d[1][1]))},stroke:function(a,b,d){var g=new kity.Pen;g.setWidth(b);g.setColor(a);d&&g.setDashArray(d);this.line.stroke(g)},boundTo:function(a,b,d,g,f){function c(a,b,c){return b<=a&&a<=c||b>=a&&a>=c}var e=f.x1,h=f.y1,k=f.x2,l=f.y2,m;if(a==d)return[[a,f.y1],[d,f.y2]];if(b==g)return[[f.x1,b],[f.x2,g]];m=(a-d)/(b-g);g=1/m;d=g*(e-a)+b;g=g*(k-a)+b;f=m*(h-b)+a;a=m*(l-b)+a;b=[];c(d,h,l)&&b.push([e,d]);c(g,h,l)&&b.push([k,g]);c(f,e,k)&&b.push([f,h]);c(a,e,k)&&b.push([a,l]);
    if(1<b.length)return b}}),Clock=kc.Clock=kity.createClass("Clock",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({innerRadius:0,outerRadius:0,startAngle:0,pieAngle:0,strokeWidth:1,strokeColor:"#FFF",color:"red"},a));this.clockedge=(new kity.Path).setPathData("M44.981,0.301c-17.978,0-33.575,10.174-41.362,25.075c-0.113,0.29-0.253,0.567-0.417,0.83 c-0.082,0.165-0.164,0.33-0.246,0.495c-0.031,0.079-0.059,0.159-0.094,0.236l0.143,0.068c-0.069,0.127-0.135,0.256-0.215,0.377 c-0.144,0.43-0.32,0.846-0.575,1.218c-1.429,4.859-3.168,13.391,0.487,17.97C7.996,53.202,15.635,31.68,15.635,31.68l-0.244-0.135 c5.668-10.756,16.936-18.102,29.94-18.102c18.697,0,33.853,15.157,33.853,33.853S64.028,81.15,45.331,81.15 c-9.524,0-18.123-3.939-24.275-10.269c-3.431,2.491-7.767,4.337-13.115,4.406c8.525,11.125,21.941,18.305,37.039,18.305 c25.761,0,46.645-20.884,46.645-46.645C91.626,21.185,70.742,0.301,44.981,0.301z").translate(-47,
    -47);this.armS=(new kity.Rect).setWidth(7).setHeight(30).translate(-4,-20).setRadius(3);this.armL=(new kity.Rect).setWidth(7).setHeight(40).translate(-4,-30).setRadius(3);this.canvas.addShapes([this.clockedge,this.armL,this.armS])},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateClockColor:["color"],updateArms:["circle","target","total","duraction"]})},getAnimatedParam:function(){return[]},updateClockColor:function(a){this.clockedge.fill(a);this.armS.fill(a);this.armL.fill(a)},
    updateArms:function(a,b,d,g){var f=this.armS;this.armL.fxRotate(360*b/a,g||1E3);f.fxRotate(360*b/d,g||1E3)}}),TransformBubble=kc.TransformBubble=kity.createClass("TransformBubble",{base:kc.AnimatedChartElement,constructor:function(a){this.callBase(kity.Utils.extend({shape:"circle",strokeColor:"#FFF",strokeWidth:0,color:"#62a9dd",radius:0,x:0,y:0},a));this.on("click",function(a){a.target.container.container.addTooltip(a)})},registerUpdateRules:function(){return kity.Utils.extend(this.callBase(),{updateShape:["shape",
    "color","strokeColor","strokeWidth"],updateRadius:["radius"],updateRect:["width","height"],updatePoints:["points"]})},updateShape:function(a,b,d,g){this.shape&&this.shape.remove();switch(a){case "circle":this.shape=new kity.Circle;this.canvas.addShapes([this.shape]);break;case "col":this.shape=new kity.Rect;this.canvas.addShapes([this.shape]);break;case "line":this.shape=new kity.Polyline,this.canvas.addShapes([this.shape])}a=new kity.Pen;a.setWidth(g);a.setColor(d);this.shape.stroke(a);this.shape.fill(b)},
    updateRadius:function(a){if(!this.shape||!this.shape.setRadius)return!1;this.shape.setRadius(a)},updateRect:function(a,b){this.shape.setWidth(a).setHeight(b)},updatePoints:function(a){for(var b=[],d=0;d<a.length;d++){var g=a[d];b.push(new kity.Point(g.x,g.y))}this.shape.setPoints(b)},getAnimatedParam:function(){return["radius","x","y"]}});
kc.ChartsConfig=function(){var a={};return{add:function(b,d){a[b]=d},init:function(b){var d=kity.Utils.copy(a.base);return b in a?kity.Utils.deepExtend(d,a[b]):d}}}();
kc.ChartsConfig.add("base",{color:["rgb(31, 119, 180)","rgb(174, 199, 232)","rgb(255, 127, 14)","rgb(255, 187, 120)","green"],finalColor:"rgb(255, 187, 120)",xAxis:{ticks:{enabled:!0,dash:null,width:1,color:"#808080"},axis:{enabled:!0,arrow:!0},label:{enabled:!0,rotate:0},padding:{left:0,right:20},margin:{left:80,right:50}},yAxis:{categories:[],ticks:{enabled:!0,dash:null,value:0,width:1,color:"#808080"},axis:{enabled:!0,arrow:!0},label:{enabled:!0,rotate:0},padding:{top:20,bottom:0},margin:{top:20,
    bottom:60}},plotOptions:{label:{enabled:!1,text:{color:"#333",margin:-15}}},interaction:{indicatrix:{enabled:!1,color:"#BBB",width:1,dash:[4,2]},hover:{enabled:!1,circle:{radius:4,stroke:{width:2,color:"#FFF"}}}},legend:{enabled:!0,level:"entry"},enableAnimation:!0});kc.ChartsConfig.add("bar",{yAxis:{padding:{bottom:30,top:30},inverted:!0,min:0},plotOptions:{bar:{width:25,margin:0}}});
kc.ChartsConfig.add("column",{xAxis:{margin:{right:60,left:60},padding:{left:40,right:40}},yAxis:{min:0,padding:{top:0,bottom:0}},plotOptions:{column:{width:8,margin:1}}});kc.ChartsConfig.add("line",{plotOptions:{line:{width:2,dash:[2],dot:{enabled:!0,radius:3}}}});kc.ChartsConfig.add("area",{plotOptions:{area:{width:2,dash:null,label:{enabled:!0,radius:3},fill:{grandientStopOpacity:.5},dot:{enabled:!0,radius:3}}}});
kc.ChartsConfig.add("pie",{plotOptions:{pie:{center:{x:200,y:200},stroke:{width:1,color:"#FFF"},innerRadius:40,outerRadius:80,incrementRadius:30}}});kc.ChartsConfig.add("scatter",{plotOptions:{scatter:{radius:5,radiusRange:[1,10]}}});
kc.ChartData=kity.createClass("ChartData",{base:kc.Data,format:function(){var a,b,d,g=this.origin,f=kity.Utils.queryPath,c,e=[],h,k=0,l=100,m=g.series;d="_"+ +new Date;h=f("xAxis.categories.length",g)||f("yAxis.categories.length",g);var p=f("yAxis.percentage",g),n=f("yAxis.stacked",g),u={},t,s={},v,r,q;if(m){u={};s={};for(c=0;c<m.length;c++)m[c].index=c,m[c].group=n?m[c].group||d:c,b=m[c].group,u[b]=u[b]||[],u[b].push(m[c].data),s[b]=s[b]||[],s[b].push(m[c]);c=0;for(t in u){a=u[t];v=h;var w=void 0,
    A=[],z={};d=[];b={};var x=[];for(r=0;r<v;r++){x.push(0);for(w=q=0;w<a.length;w++)q+=Number(a[w][r]||0),z[w+1]=z[w+1]||[],z[w+1][r]=q;A.push(q);for(w=0;w<a.length;w++)d[w]=d[w]||[],d[w][r]=a[w][r]/q*100,b[w+1]=b[w+1]||[],b[w+1][r]=z[w+1][r]/q*100}z[0]=b[0]=x;v=z;r=s[t];for(a=0;a<r.length;a++)q=r[a],q.indexInGroup=a,q.groupIndex=c,q.offset=v[a],q.allOffset=v,q.sum=v[u[t].length],q.percentage=d[a],q.percentageOffset=b[a],q.allPercentageOffset=b;c++}g.yAxis=g.yAxis||{};g.yAxis.groupCount=c;for(c=0;c<
    m.length;c++)h=n||p?m[c].sum:m[c].data,e=e.concat(h);p||(k=0<e.length?Math.min.apply([],e):0,l=0<e.length?Math.max.apply([],e):100);if(n||p)k=0}return{chart:g.chart||"line",xAxis:{categories:f("xAxis.categories",g)||[],step:f("xAxis.step",g)||1},yAxis:f("yAxis",g)||{},plotOptions:g.plotOptions||{},series:g.series||[],rangeY:[k,l],rangeX:[k,l]}}});
kc.BaseScatterData=kity.createClass("BaseScatterData",{base:kc.Data,format:function(){var a=this.origin,b=kity.Utils.queryPath,d=minY=0,g=maxY=100,f=f=0;if(a.series&&0<a.series.length){for(var c,e,h=a.series,k,g=[],f=[],l=[],m,d=0;d<h.length;d++)for(k=h[d],k.index=d,e=0;e<k.data.length;e++)m=k.data[e],g.push(m[0]),f.push(m[1]),l.push(m[2]||0),3<=m.length&&(c=!0);d=Math.min.apply([],g);g=Math.max.apply([],g);minY=Math.min.apply([],f);maxY=Math.max.apply([],f);f=Math.min.apply([],l);maxV=Math.max.apply([],
    l)}a={chart:a.chart||{type:"scatter"},xAxis:b("xAxis",a)||{},yAxis:b("yAxis",a)||{},plotOptions:a.plotOptions||{},series:a.series||[],rangeX:[d,g],rangeY:[minY,maxY]};a.valueRange=c?[f,maxV]:null;return a}});
kc.PieData=kity.createClass("PieData",{base:kc.Data,format:function(){var a=this.origin,b=kity.Utils.queryPath,d,g=a.series;if(g)for(d=0;d<g.length;d++){g[d].index=d;for(var f=g[d].data,c=void 0,e=0,h=[],c=0;c<f.length;c++)h.push(e),e+=kity.Utils.isNumber(f[c].value)?f[c].value:f[c];for(var k=void 0,l=0,c=0;c<f.length;c++)k=kity.Utils.isNumber(f[c].value)?f[c].value:f[c],h=f[c]=kity.Utils.isObject(f[c])?f[c]:{},h.percent=k/=e,h.angle=360*k,h.offsetAngle=l,h.index=c,l+=h.angle}return{chart:a.chart,
    xAxis:{categories:b("xAxis.categories",a)||[],step:b("xAxis.step",a)||1},yAxis:b("yAxis",a)||{},plotOptions:a.plotOptions||{},series:a.series||[]}}});
kc.SunData=kity.createClass("SunData",function(){function a(a){a.parent||(a.depth=0,a.index=0);var b=0,f=arguments.callee;if(a.children&&0<a.children.length)a.value&&(b+=a.value),a.children.forEach(function(c,e){c.parent=a;c.depth=a.depth+1;c.index=e;a.value?f(c):b+=f(c)});else return a.depth=a.parent.depth+1,a.value||0;a.value=a.value||b;return b}function b(a){a.parent||(a.weightStart=0,a.weight=1);var b=arguments.callee,f=0,c=0,f=a.weight/a.value;a.children&&0<a.children.length&&a.children.forEach(function(e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  h){for(var k=0,l=0;l<h;l++)k+=a.children[l].weight;c=k;e.weight=f*e.value;e.weightStart=e.parent.weightStart+c;b(e)})}return{base:kc.Data,format:function(){var d=this.origin;if(!d.value&&!d.children)return null;a(d);b(d);return d}}}());
kc.TreemapData=kity.createClass("TreemapData",function(){function a(a){a.parent||(a.depth=0,a.index=0);var b=0,c=arguments.callee;if(a.children&&0<a.children.length)a.value&&(b+=a.value),a.children.forEach(function(e,d){e.parent=a;e.depth=a.depth+1;e.index=d;a.value?c(e):b+=c(e)});else return a.depth=a.parent.depth+1,a.value||0;a.value=a.value||b;return b}function b(a){a.parent||(a.weightStart=0,a.weight=1);var b=arguments.callee,c=0,e=0,c=a.weight/a.value;a.children&&0<a.children.length&&a.children.forEach(function(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          f){for(var g=0,t=0;t<f;t++)g+=a.children[t].weight;e=g;d.weight=c*d.value;d.weightStart=d.parent.weightStart+e;b(d)})}function d(a,b){for(var c=-1,e,d;++c<a.length;)e=a[c],d=e.value*(0>b?0:b),e.area=isNaN(d)||0>=d?0:d}function g(a){var b=a.children;if(b&&b.length){var g={x:a.x,y:a.y,dx:a.dx,dy:a.dy},m=[],p=b.slice(),n,u=Infinity,t,s="slice"===e?g.dx:"dice"===e?g.dy:"slice-dice"===e?a.depth&1?g.dy:g.dx:Math.min(g.dx,g.dy);d(p,g.dx*g.dy/a.value);for(m.area=0;0<(n=p.length);){m.push(n=p[n-1]);m.area+=
    n.area;if(!(n="squarify"!==e)){t=s;n=m.area;for(var v=void 0,r=0,q=Infinity,w=-1,A=m.length;++w<A;)if(v=m[w].area)v<q&&(q=v),v>r&&(r=v);n*=n;t*=t;n=(t=n?Math.max(t*r*c/n,n/(t*q*c)):Infinity)<=u}n?(p.pop(),u=t):(m.area-=m.pop().area,f(m,s,g,!1),s=Math.min(g.dx,g.dy),m.length=m.area=0,u=Infinity)}m.length&&(f(m,s,g,!0),m.length=m.area=0);b.forEach(arguments.callee)}}function f(a,b,c,e){var d=-1,f=a.length,g=c.x,t=c.y,s=Math.round,v=b?s(a.area/b):0,r;if(b==c.dx){if(e||v>c.dy)v=c.dy;for(;++d<f;)r=a[d],
    r.x=g,r.y=t,r.dy=v,g+=r.dx=Math.min(c.x+c.dx-g,v?s(r.area/v):0);r.z=!0;r.dx+=c.x+c.dx-g;c.y+=v;c.dy-=v}else{if(e||v>c.dx)v=c.dx;for(;++d<f;)r=a[d],r.x=g,r.y=t,r.dx=v,t+=r.dy=Math.min(c.y+c.dy-t,v?s(r.area/v):0);r.z=!1;r.dy+=c.y+c.dy-t;c.x+=v;c.dx-=v}}var c=.5*(1+Math.sqrt(5)),e="squarify";return{base:kc.Data,format:function(c,f,l){e=l;l=this.origin;if(!("name"in l&&("value"in l||"children"in l)))return null;a(l);b(l);l.x=0;l.y=0;l.dx=c;l.dy=f;d([l],l.dx*l.dy/l.value);g(l);return l}}}());
(function(){kc.PiePlots=kity.createClass("PiePlots",{base:kc.ChartElement,constructor:function(a){this.callBase(a);this.chartType="pie";this.config=a||{};this.pies=this.addElement("pies",new kc.ElementList)},update:function(a){this.config=kity.Utils.extend(this.config,a);this.drawPlots(this.config)},getEntryColor:function(a){return a.color||this.config.color[a.index]||this.config.finalColor},getLabelColor:function(a){var b=this.config.plotOptions,d=b.label.text;return"outside"==b.pie.labelPosition?
    d.color:a?"#FFF":d.color},drawPlots:function(a){var b=this,d=[],g=a.series,f=a.plotOptions,c=f.pie.outerRadius,e=f.pie.innerRadius,h=f.pie.incrementRadius;lpos=f.pie.labelPosition;for(var k=0;k<g.length;k++)g[k].data.map(function(a,g){d.push({labelText:f.label.enabled&&10<a.angle?a.label?a.label:a.value:null,labelColor:b.getLabelColor(0==k),labelPosition:lpos?lpos:0==k?"inside":"none",connectLineWidth:1,connectLineColor:b.getEntryColor(a),innerRadius:0==k?e:c+(k-1)*h,outerRadius:c+h*k,startAngle:a.offsetAngle-
    90,pieAngle:a.angle,strokeWidth:f.pie.stroke.width,strokeColor:f.pie.stroke.color,color:b.getEntryColor(a),x:f.pie.center.x,y:f.pie.center.y})});this.pies.update({elementClass:kc.Pie,list:d,fx:!0})}})})();
(function(){kc.BasePlots=kity.createClass("BasePlots",{base:kc.ChartElement,constructor:function(a,b){this.callBase(a,b);this.coordinate=a;this.config=b||{};this.plotsElements=this.addElement("plotsElements",new kc.ElementList);this.plotsAttrsInit()},getPlotsElements:function(){return this.plotsElements},getEntryColor:function(a,b){var d=a.style&&a.style[b];return d&&d.color?d.color:a.color||this.config.color[a.index]||this.config.finalColor},update:function(a,b){this.coordinate=a||this.coordinate;
    this.config=kity.Utils.extend(this.config,b);this.drawPlots(this.coordinate,this.config)}})})();
(function(){kc.StickPlots=kity.createClass("StickPlots",{base:kc.BasePlots,constructor:function(a,b){this.callBase(a,b)},drawPlots:function(a,b){var d=b.plotOptions;rotateAngle=this.rotateAngle;measureCategoryMethod=this.measureCategoryMethod;measureValueMethod=this.measureValueMethod;var g=this.stickDir,f=b.series,c,e,h,k,l,m=[],p,n,u=d[this.chartType].width,t=0,s=0,v=b.chart.mirror?0:u+d[this.chartType].margin,r=b.yAxis.percentage;for(c=0;c<f.length;c++)for(k=f[c],h=r?f[c].percentage:f[c].data,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    e=0;e<h.length;e++)l=h[e],p=a[measureCategoryMethod](e),t=(b.yAxis.groupCount-1)*v/2,n=a.measureValueRange(l,this.valueAxis),s=(s=r?k.percentageOffset:k.offset)?s[e]:0,n*=g,stickParam={offset:a.measureValueRange(s,this.valueAxis)*g,color:this.getEntryColor(k,e),width:u,height:n,rotate:rotateAngle,bind:{data:l,indexInSeries:c,indexInCategories:e}},d.label.enabled&&(stickParam.label=this.getStickLabelParam(n,l,b)),stickParam[this.valueAxis]=a[measureValueMethod](0),stickParam[this.categoryAxis]=p-t+
    v*k.groupIndex,m.unshift(stickParam);this.getPlotsElements().update({elementClass:kc.Bar,list:m,fx:b.enableAnimation});return b}})})();
(function(){kc.ColumnPlots=kity.createClass("ColumnPlots",{base:kc.StickPlots,constructor:function(a,b){this.callBase(a,b)},plotsAttrsInit:function(){this.chartType="column";this.stickDir=-1;this.rotateAngle=0;this.categoryAxis="x";this.valueAxis="y";this.measureCategoryMethod="measurePointX";this.measureValueMethod="measurePointY"},getStickLabelParam:function(a,b,d){return{at:"bottom",color:d.plotOptions.label.text.color,text:b,x:0,y:-a-d.plotOptions.label.text.margin}}})})();
(function(){kc.BarPlots=kity.createClass("BarPlots",{base:kc.StickPlots,constructor:function(a,b){this.callBase(a,b)},plotsAttrsInit:function(){this.chartType="bar";this.stickDir=1;this.rotateAngle=90;this.categoryAxis="y";this.valueAxis="x";this.measureCategoryMethod="measurePointY";this.measureValueMethod="measurePointX"},getStickLabelParam:function(a,b,d){return{at:"right",color:d.plotOptions.label.text.color,text:b,x:a+d.plotOptions.label.text.margin,y:0}}})})();
(function(){kc.LinearPlots=kity.createClass("LinearPlots",{base:kc.BasePlots,constructor:function(a,b){this.callBase(a,b);this.lineDots=this.addElement("lineDots",new kc.ElementList)},drawPlots:function(a,b){var d=b.series,g,f=[],c=[],e,h;this.dotArr=[];for(g=0;g<d.length;g++)e=d[g],e.positions=[],this.renderLineByData(e),f=this.array2points(e.data,0),h={line:e,currentData:e.data[g],currentLabel:b.xAxis.categories[g]},c.push({points:f,color:this.getEntryColor(e),dash:e.dash||null,width:this.getLineWidth(),
    defaultPos:a.param.height,factor:+new Date,bind:h}),e.positions=f,this.addLabels(e);this.getPlotsElements().update({elementClass:kc.Polyline,list:c,fx:b.enableAnimation});this.addDots()},renderLineByData:function(a){},array2points:function(a,b){b=b||0;for(var d=[],g,f=0;f<a.length;f++)g=this.coordinate.measurePoint([f,a[f]]),g[0]+=b,d.push(g);return d},addLabels:function(a){var b=this.config.plotOptions;if(b.label.enabled||b[this.chartType].dot.enabled){var d,g=0,f;for(f=0;f<a.positions.length;f++)d=
    a.positions[f],b[this.chartType].dot.enabled&&(g=b[this.chartType].dot.radius),d={color:this.getEntryColor(a),radius:g,x:d[0],y:d[1]},b.label.enabled&&(d.label={margin:b.label.text.margin,color:b.label.text.color,text:a.data[f]}),this.dotArr.push(d);a.dots=this.dotArr}},addDots:function(){var a=this.config.plotOptions;(a.label.enabled||a[this.chartType].dot.enabled)&&this.getElement("lineDots").update({elementClass:kc.CircleDot,list:this.dotArr,fx:this.config.enableAnimation})}})})();
(function(){kc.LinePlots=kity.createClass("LinePlots",{base:kc.LinearPlots,constructor:function(a,b){this.callBase(a,b)},plotsAttrsInit:function(){this.chartType="line"},getLineWidth:function(){return this.config.plotOptions.line.width}})})();
(function(){kc.AreaPlots=kity.createClass("AreaPlots",{base:kc.LinearPlots,constructor:function(a,b){this.callBase(a,b)},plotsAttrsInit:function(){this.chartType="area"},getLineWidth:function(){return this.config.plotOptions.area.stroke.width},areas:[],renderLineByData:function(a){var b=a.offsetX||0;if(this.config.yAxis.stacked){var d=this.config.yAxis.percentage,g=d?"allPercentageOffset":"allOffset",d=this.array2points(a[d?"percentageOffset":"offset"],b),b=this.array2points(kity.Utils.copy(a[g][a.indexInGroup+
    1]),b).reverse();pointsArr=d.concat(b)}else pointsArr=this.array2points(a.data,b),b=kity.Utils.copy(pointsArr),d=this.coordinate,g=d.measurePointX(0),d=d.measurePointY(d.yRuler._ref.from),pointsArr=b.concat([[pointsArr[pointsArr.length-1][0],d],[g,d]]);a=this.drawPolygon(pointsArr,a);this.areas.push(a)},drawPolygon:function(a,b){var d=new kity.Polygon(a),g=this.container.paper,f=this.getEntryColor(b),c,e,h=this;c=kity.Utils.isNumber(e=this.config.plotOptions.area.fill.opacity)?(new kity.Color(f)).set("a",
    e):(new kity.LinearGradientBrush).pipe(function(){this.addStop(0,f);this.addStop(1,f,h.config.plotOptions.area.fill.grandientStopOpacity);this.setStartPosition(0,0);this.setEndPosition(0,1);g.addResource(this)});d.fill(c);this.canvas.addShape(d);return d}})})();
(function(){kc.ScatterPlots=kity.createClass("ScatterPlots",{base:kc.BasePlots,constructor:function(a,b){this.callBase(a,b)},plotsAttrsInit:function(){this.chartType="scatter"},drawPlots:function(a,b){var d=b.series,g=b.plotOptions.scatter,f,c,e,h,k,l=[],m=g.radiusRange[1],p=g.radiusRange[0],n=b.valueRange,u;f=n&&n[1]-n[0];n&&0==f&&(u=!0);n&&!u&&(ratio=(m-p)/f);for(f=0;f<d.length;f++)for(e=d[f],c=0;c<e.data.length;c++){h=e.data[c];k=a.measurePoint(h);var t={x:h[0],y:h[1],label:e.name,position:{x:k[0],
    y:k[1]}},s=g.radius;n&&(t.value=h[2]||0,s=u?(m+p)/2:ratio*t.value+p);l.push({strokeColor:"#888",strokeWidth:0,color:this.getEntryColor(e),radius:s,fxEasing:"ease",x:k[0],y:k[1],bind:t})}this.getPlotsElements().update({elementClass:kc.CircleDot,list:l,fx:b.enableAnimation})}})})();
(function(){kc.BaseChart=kity.createClass("BaseChart",{mixins:[kc.ConfigHandler],base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.config=this.param;this.callMixin();this.bindAction();this.initTooltip()},setConfig:function(a,b){var d=kity.Utils.deepExtend(this.config,a),g=kc.ChartsConfig.init(this.chartType||"");this.config=kity.Utils.deepExtend(g,d);this.setData(new b(this.config));d=this.data.format();this.config=kity.Utils.deepExtend(this.config,d)},update:function(a,b){this.setConfig(a,
    b||kc.ChartData);coordConf=this.coordinate.setCoordinateConf(this.config);this.coordinate.update(coordConf);this.getPlots().update(this.coordinate,this.config);this.getOption("legend.enabled")&&this.addLegend()},getPlots:function(){return this.plots},setPlots:function(a){this.plots=a},getXOffset:function(){var a=this.coordinate;return a.param.padding.left+a.param.margin.left},isOutOfXRange:function(a){var b=this.getXOffset(a),d=this.coordinate;return a-b<d.param.padding.left||a-b+d.param.padding.left>
    d.xRuler.map_grid[d.xRuler.map_grid.length-1]},getChartElementByShape:function(a){return a.container.host},getXInfoByPosX:function(a){var b=this.getXOffset(),d=this.coordinate;if(0==d.xRuler.map_grid.length)return{index:0,posX:0};a=d.xRuler.leanTo(a-b,"map");a.value+=d.param.padding.left;return{index:a.index,posX:a.value}},bindAction:function(){var a=this;this.currentIndex=-1;this.paper.on("mousemove",function(b){a.onmousemove&&a.onmousemove(b)});this.paper.on("click",function(b){a.coordinate&&a.onclick&&
a.onclick(b)})},getEntryColor:function(a){return a.color||this.config.color[a.index]||this.config.finalColor},initTooltip:function(){var a=$(this.container);~["absolute","relative"].indexOf(a.css("position"))||a.css("position","relative");this.tooltip=$("<div></div>").appendTo(a).css({position:"absolute",boxShadow:"0px 1px 5px rgba(0,0,0,0.3)",borderRadius:"4px",backgroundColor:"#FFF",color:"#888",padding:"6px 10px",left:"-1000px",marginLeft:"10px",fontSize:"10px",lineHeight:"16px"})},updateTooltip:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b,d){this.tooltip.html(a);a=this.tooltip[0].clientWidth;b+a>$(this.container).width()&&(b-=a+15);this.tooltip.clearQueue().animate({left:b,top:d},100)},getTooltip:function(){return this.tooltip},addLegend:function(){var a=this.config.series||[],b,d,g,f;this.legend&&this.legend.remove();this.legend=$('<div class="kitycharts-legend"></div>').css({position:"absolute",bottom:"5px",right:"30px",height:"26px",lineHeight:"26px"}).appendTo(this.container);var c=[],e=[];for(b=0;b<a.length;b++)if(d=a[b],"data"==
    this.config.legend.level)for(b=0;b<d.data.length;b++)g=d.data[b],c.push(g.name),e.push(this.getEntryColor(g));else g=d.name,d=this.getEntryColor(d),c.push(g),e.push(d);var h=this;c.forEach(function(a,b){f=$("<div></div>").css({marginRight:"20px",display:"inline-block"}).appendTo(h.legend);$('<div class="kitycharts-legend-color"></div>').css({width:"12px",height:"12px",backgroundColor:e[b],display:"inline-block",marginRight:"5px",position:"relative",top:"1px"}).appendTo(f);$('<div class="kitycharts-legend-label">'+
    a+"</div>").css({fontSize:"10px",display:"inline-block"}).appendTo(f)})}})})();
(function(){kc.StickChart=kity.createClass("StickChart",{base:kc.BaseChart,constructor:function(a,b){this.callBase(a,b);this.setData(new kc.ChartData(b));this.coordinate=this.addElement("oxy",new kc.CategoryCoordinate)},isStick:function(a){return a instanceof kc.Bar},onmousemove:function(a){this.currentStick;this.currentStickParam;a=this.getChartElementByShape(a.targetShape);if(this.isStick(a))if(this.currentStick!=a)this.onMouseOut(a);else this.onMouseIn(a);else this.onMouseOut(a)},getPosXByIndex:function(a){return this.coordinate.measurePointX(a)},
    getPosYByValue:function(a){return this.coordinate.measurePointY(a)},onMouseIn:function(a){var b=new kity.Color(a.param.color);b.set("a",.7);a.update({color:b.toRGBA()});a=a.getBindData();this.processHover(a)},onMouseOut:function(a){this.currentStickParam&&this.currentStick.update({color:this.currentStickParam.color});this.isStick(a)&&(this.currentStick=a,this.currentStickParam=kity.Utils.copy(a.param))},processHover:function(a){this.currentMark!=a.indexInSeries+a.indexInCategories&&(this.currentMark=
        a.indexInSeries+a.indexInCategories,this.callHover(a))},callHover:function(a){var b=this.config.interaction.onStickHover;"function"==typeof b?b.call(this,a,this.currentStick):null!==b&&this.defaultCallHover(a)},defaultCallHover:function(a){var b=this.config.series[a.indexInSeries].sum[a.indexInCategories];a=this.setTooltipContent(a);b=this.getTooltipPosition(b);this.updateTooltip(a,b.x,b.y)},setTooltipContent:function(a){var b=a.indexInSeries;a=a.indexInCategories;var d=this.config.series,g='<div style="font-weight:bold">'+
        this.config.xAxis.categories[a]+"</div>",f="x"==this.getPlots().valueAxis?"xAxis":"yAxis",g=g+("<div>"+d[b].name+" : "+d[b].data[a]+this.config[f].unit.text+"</div>");this.config.yAxis.stacked&&(g+="<div> Total : "+d[b].sum[a]+"</div>");return g}})})();
(function(){kc.ColumnChart=kity.createClass("ColumnChart",{base:kc.StickChart,constructor:function(a,b){this.chartType="column";this.callBase(a,b);var d=this.addElement("plots",new kc.ColumnPlots);this.setPlots(d)},getTooltipPosition:function(a){return{x:this.currentStick.param.x,y:this.coordinate.measurePointY(a)}}})})();
(function(){kc.BarChart=kity.createClass("BarChart",{base:kc.StickChart,constructor:function(a,b){this.chartType="bar";this.callBase(a,b);var d=this.addElement("plots",new kc.BarPlots);this.setPlots(d)},getTooltipPosition:function(a){return{x:this.coordinate.measurePointX(a),y:this.currentStick.param.y}}})})();
var ClockData=kc.ClockData=kity.createClass("ClockData",{base:kc.Data}),ClockChart=kc.ClockChart=kity.createClass("ClockChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.addElement("clocks",new kc.ElementList);this.setData(new kc.ClockData)},renderClocks:function(){for(var a=this.getElement("clocks"),b=this.getData().format().list,d=this.param.colors,g=0;g<b.length;g++)b[g].color=d[0];a.update({elementClass:kc.Clock,list:b,animateDuration:1E3})},update:function(){this.renderClocks()}});
(function(){kc.LinearChart=kity.createClass("LinearChart",{base:kc.BaseChart,constructor:function(a,b){this.callBase(a,b);this.hoverDots=this.addElement("hoverDots",new kc.ElementList);this.setData(new kc.ChartData(b));this.coordinate=this.addElement("oxy",new kc.CategoryCoordinate)},onmousemove:function(a){var b=a.originEvent.offsetX;a=0;var d,g=this.config.series;if(!this.isOutOfXRange(b)){var f=this.getXInfoByPosX(b);if(g&&0!=g.length&&g[0].positions){for(b=0;b<g.length;b++)d=g[b].positions.length,
    d>a&&(a=d);!f||f.index>a||this.processHover(f)}}},onclick:function(a){var b=a.targetShape;if(b instanceof kity.Circle&&this.config.interaction.onCircleClick){a=this.currentIndex;var b=this.getChartElementByShape(b),d=b.param.bind;a={data:d.data,indexInCategories:a,indexInSeries:d.indexInSeries,position:b.getPosition()};this.callCircleClick(a,b)}},callCircleClick:function(a,b){var d=this.config.interaction.onCircleClick;"function"==typeof d?d(a,b):null!==d&&this.defaultCircleClick(a)},defaultCircleClick:function(a){this.updateTooltip(this.config.xAxis.categories[a.indexInCategories]+
    " : "+a.data,a.position.x,a.position.y)},setCirclePosYByIndex:function(a){var b,d=0,g=this.config.series;this.circleArr=[];for(b=0;b<g.length;b++)(tmpPos=g[b].positions[a])?d=tmpPos[1]:pX=d=-100,this.circleArr.push({color:"#FFF",radius:5,strokeWidth:3,strokeColor:this.getEntryColor(g[b]),x:this.currentPX,y:d,bind:{data:g[b].data[a],indexInSeries:b,indexInCategories:a}});this.hoverDots.update({elementClass:kc.CircleDot,list:this.circleArr,fx:!1});this.hoverDots.canvas.bringTop()},setTooltipContent:function(a){var b=
    '<div style="font-weight:bold">'+this.config.xAxis.categories[a]+"</div>";this.config.series.forEach(function(d,g){b+="<div>"+d.name+" : "+d.data[a]+"</div>"});return b},defaultCircleHover:function(a){a=a[0].indexInCategories;for(var b=this.config.series,d=[],g=0,f,c=0;c<b.length;c++)f=b[c].positions[a],g=f[0],d.push(f[1]);b=Math.min.apply([],d);d=Math.max.apply([],d);this.updateTooltip(this.setTooltipContent(a),g,(b+d)/2)},callCircleHover:function(){var a=[];this.circleArr.forEach(function(b,g){a.push(b.bind)});
    var b=this.config.interaction.onCircleHover;"function"==typeof b?b(a):null!==b&&this.defaultCircleHover(a)},processHover:function(a){if(this.config.interaction.hover.enabled){var b=a.index;this.currentPX=a.posX+this.coordinate.param.margin.left;b!=this.currentIndex&&(this.currentIndex=b,this.setCirclePosYByIndex(b),this.callCircleHover())}}})})();
(function(){kc.LineChart=kity.createClass("LineChart",{base:kc.LinearChart,constructor:function(a,b){this.chartType="line";this.callBase(a,b);var d=this.addElement("plots",new kc.LinePlots);this.setPlots(d)}})})();(function(){kc.AreaChart=kity.createClass("AreaChart",{base:kc.LinearChart,constructor:function(a,b){this.chartType="area";this.callBase(a,b);var d=this.addElement("plots",new kc.AreaPlots);this.setPlots(d)}})})();
(function(){kc.BaseScatterChart=kity.createClass("BaseScatterChart",{base:kc.BaseChart,constructor:function(a,b){this.chartType="scatter";this.callBase(a,b);this.coordinate=this.addElement("oxy",new kc.CategoryCoordinate);var d=this.addElement("plots",new kc.ScatterPlots);this.setPlots(d)},update:function(a){this.callBase(a,kc.BaseScatterData)},onmousemove:function(a){this.tmpCirlcle;a=this.getChartElementByShape(a.targetShape);this.tmpCirlcle!==a&&(this.tmpCirlcle=a,a instanceof kc.CircleDot&&this.processHover(a))},
    setTooltipContent:function(a){return'<div style="font-weight:bold">'+a.label+"</div>"+("<div>x\u8f74: "+a.x+" : y\u8f74: "+a.y+"</div>")},defaultCircleHover:function(a){this.updateTooltip(this.setTooltipContent(a),a.position.x,a.position.y)},processHover:function(a){var b=a.param.bind,d=this.config.interaction.onCircleHover;"function"==typeof d?d(b,a):null!==d&&this.defaultCircleHover(b)}})})();
var ScatterData=kc.ScatterData=kity.createClass("ScatterData",{base:kc.Data,format:function(){var a=this.origin,b=!("data_record"in a),d=a.data_record&&a.data_record.map(function(a){return{x:100*+a.x,y:100*+a.y,label:a.label,value:a.value,percent:100*+a.percent}})||[],g=new kc.Query(d),f,c,e;f=g.count()&&g.min("x").x||0;c=g.count()&&g.max("x").x||0;e=c-f||40;f-=e/4;c+=e/4;var h;e=g.count()&&g.min("y").y||0;g=g.count()&&g.max("y").y||0;h=g-e||40;return{data_dim:+a.data_dim,data_average_x:b?0:100*+a.data_average_x,
    data_average_y:b?0:100*+a.data_average_y,unit_x:a.unit_x,unit_y:a.unit_y,data_record:d,rangeX:[f,c],rangeY:[e-h/4,g+h/4]}}});function appendUnit(a){return function(b){return(10*b|0)/10+(a||"")}}
var ScatterChart=kc.ScatterChart=kity.createClass("ScatterChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.addElement("oxy",new kc.CategoryCoordinate);this.addElement("scatter",new kc.ElementList);this.addElement("avg-x-line",new kc.Line({color:"#f39488",dash:[2]}));this.addElement("avg-line",new kc.Line({color:"#62a9dd",dash:[4]}));this.addElement("avg-y-line",new kc.Line({color:"#f39488",dash:[2]}));this.addElement("avg-x-tip",new kc.Tooltip({background:"#f39488",color:"white",
        at:"up",content:"",padding:[2,10,2,10],anchorSize:4}));this.addElement("avg-y-tip",new kc.Tooltip({background:"#f39488",color:"white",at:"right",content:"",padding:[2,10,2,10],anchorSize:4}));this.marquee=new kc.Marquee(this);this.setData(new kc.ScatterData);this.initMarqueeZoom()},initMarqueeZoom:function(){var a=this,b=[];this.marquee.on("marquee",function(d){d=d.data;var g=d.start,f=d.end;d=a.param;var c=a.data.format(),e=a.getElement("oxy"),h=e.getXRuler().reverse(),k=e.getYRuler().reverse(),
        l=Math.min(g.x,f.x)-e.x,m=Math.max(g.x,f.x)-e.x,p=Math.min(g.y,f.y)-e.y,g=Math.max(g.y,f.y)-e.y,n,u=m,t=p,s=g,v=0,f=c.data_record;n=h.measure(l);for(var u=h.measure(u),t=k.measure(t),s=k.measure(s),r=0;r<f.length;r++)(n<=f[r].x&&f[r].x<=u||n>=f[r].x&&f[r].x>=u)&&(s<=f[r].y&&f[r].y<=t||s>=f[r].y&&f[r].y>=t)&&v++;2>v||(b.push({rangeX:e.param.rangeX,rangeY:e.param.rangeY}),h={rangeX:[h.measure(l),h.measure(m)],rangeY:[k.measure(g),k.measure(p)]},e.update(h),a.drawAverage(d,c,e),a.drawScatter(d,c,e))});
        this.paper.on("dblclick",function(){var d=a.getElement("oxy"),g=a.param,f=a.data.format(),c=b[b.length-1];c&&(d.update(c),a.drawAverage(g,f,d),a.drawScatter(g,f,d));b.length&&b.pop()})},update:function(){var a=this.param,b=this.data.format(),d=this.drawOxy(a,b);this.drawAverage(a,b,d);this.drawScatter(a,b,d)},enableCollapse:function(a){this.param.enableCollapse=a;this.update()},drawOxy:function(a,b){var d=this.getElement("oxy");d.update({dataSet:b.data_record,width:this.getWidth()-100,height:this.getHeight()-
        50,x:60,y:20,formatX:appendUnit(b.unit_x),formatY:appendUnit(b.unit_y),rangeX:b.rangeX,rangeY:b.rangeY});return d},drawAverage:function(a,b,d){a=d.getXRuler();var g=d.getYRuler(),f=d.param.x+a.measure(b.data_average_x),c=d.param.y+g.measure(b.data_average_y),e=this.getElement("avg-x-line"),h=this.getElement("avg-y-line"),k=this.getElement("avg-x-tip"),l=this.getElement("avg-y-tip"),m=this.getElement("avg-line");"data_average_x"in b?(e.setVisible(!0).animate({x1:f,x2:f,y1:d.param.y+d.param.labelMargin,
        y2:d.param.y+d.param.height}),k.setVisible(!0).update({content:{text:appendUnit(b.unit_x)(b.data_average_x),color:"white"}}).animate({x:f,y:d.param.y+d.param.labelMargin})):(e.setVisible(!1),k.setVisible(!1));"data_average_y"in b?(h.setVisible(!0).animate({x1:d.param.x,x2:d.param.x+d.param.width-d.param.labelMargin,y1:c,y2:c}),l.setVisible(!0).update({content:{text:appendUnit(b.unit_y)(b.data_average_y),color:"white",at:"right",margin:10}}).animate({x:d.param.x+d.param.width-3*d.param.labelMargin,
        y:c})):(h.setVisible(!1),l.setVisible(!1));"data_average_x"in b&&"data_average_y"in b?m.setVisible(!0).animate({x1:d.param.x+a.measure(0),y1:d.param.y+g.measure(0),x2:f,y2:c,bound:{x1:d.param.x,y1:d.param.y,x2:d.param.x+d.param.width,y2:d.param.y+d.param.height}}):m.setVisible(!1)},drawScatter:function(a,b,d){function g(a){return Math.sqrt(a.value)}function f(a,b,c){c=(a.outerRadius||a.radius)+(b.outerRadius||b.radius)+c;var e=a.x-b.x;a=a.y-b.y;return e*e+a*a<c*c}var c=+b.data_dim,e=new kc.Query(b.data_record);
        b=this.getElement("scatter");var h=d.getXRuler(),k=d.getYRuler(),l,m,p;2<c&&(p=e.map(g),m=p.min(),p=p.max(),l=(new kc.Ruler(m,p)).map(5,40));e=e.map(function(a){var b=2<c?l.measure(g(a)):5;return{x:d.x+h.measure(a.x),y:d.y+k.measure(a.y),labelText:a.label,radius:b,labelPosition:"auto",angel:-90,innerRadius:b,outerRadius:b+6,percent:a.percent,showPercent:!0,collapsed:0}}).list();e.sort(function(a,b){return(b.outerRadius||b.radius)-(a.outerRadius||a.radius)});if(2<c&&a.enableCollapse)for(a=0;a<e.length;a++)if(!e[a].collapsed)for(m=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 a+1;m<e.length;m++)!e[m].collapsed&&f(e[a],e[m],30)&&(e[m].collapsed=1);b.update({elementClass:{2:kc.CircleDot,3:kc.CircleDot,4:kc.PieDot}[c],list:e})}}),ForceData=kc.ForceData=kity.createClass("ForceData",{base:kc.Data,format:function(){var a=this.origin,b={},d=[],g=[],f=[],c;for(c in a){var e=a[c];if(e.brand===e.relatedbrand){for(var h=0;h<d.length&&d[h].brandclass!==e.brandclass;h++);for(;d[h]&&d[h].brandclass===e.brandclass&&parseInt(d[h].size)>parseInt(e.relation);)h++;d.splice(h,0,{brand:e.brand,
        brandclass:e.brandclass,percent:e.percent,percentall:e.percentall,size:e.relation,tags:e.tags,connects:[]});b[e.brand]=d[h]}g.push({brand:e.brand,relatedbrand:e.relatedbrand,relation:e.relation});-1===f.indexOf(e.brandclass)&&f.push(e.brandclass)}for(c=a=0;c<g.length;c++)g[c].brand===g[c].relatedbrand||0===parseInt(g[c].relation)||(a++,b[g[c].brand].connects.push({relatedbrand:b[g[c].relatedbrand],relation:g[c].relation}));return{brandSet:b,brandList:d,classList:f,connectCount:a}}}),ForceChart=kc.ForceChart=
        kity.createClass("ForceChart",{base:kc.Chart,constructor:function(a,b){var d=this;this.callBase(a,b);this.addElement("connects",new kc.ElementList);this.addElement("scatter",new kc.ElementList);this.setData(new kc.ForceData);this.canvas.container.on("click",function(a){a.targetShape===d.canvas.container&&d.highlightBrand()});this.getElement("scatter").on("listupdatefinish",function(){for(var a=d.param.mode,b=d.getElement("scatter").elementList,c=d.getElement("connects"),e=0;e<b.length;e++)for(var h=
            b[e].param.disvisConnectLines,k=0;k<h.length;k++){var l=h[k];if("start"===l.position){var m=l.line.param,p=l.line=new kc.Bezier(m),n=l.source,l=l.target;c.addElement("uVcnt0"+e+"0"+k,p);p.update({x1:n.x,y1:n.y,x2:l.x,y2:l.y,cx:"circle"===a?n.cx:n.x,cy:"circle"===a?n.cy:n.y,width:m.originwidth,color:m.color})}}});this._uvCnt=[]},highlightBrand:function(a){var b=this._uvCnt,d=this.getElement("scatter").elementList;this.getElement("connects");var g=this.getElement("connects").elements,f=this.param.mode,
            c=[],e=[],b=this._uvCnt=[],h=function(a,b){for(var c=0;c<d.length;c++)d[c].highlight(!1),d[c].canvas.setOpacity(a||0);for(var e in g)g[e].canvas.setOpacity(b||0),g[e].update({width:g[e].param.originwidth})},k=function(a){var b=[];a=a.param.connects;for(var c=0;c<a.length;c++){var e=a[c].relatedbrand.brand;for(j=0;j<d.length;j++){var f=d[j];e===f.param.brand&&b.push(f)}}return b};if(void 0===a)return h(1,1),!1;if(a instanceof ChartEvent)a=a.target,c.push(a),c=c.concat(k(a)),e=e.concat(a.param.connectLines),
            b=this._uvCnt=b.concat(a.param.disvisConnectLines);else for(var l=0;l<d.length;l++){var m=d[l];m.param.brandclass===a&&(c.push(m),"circle"!==f&&(c=c.concat(k(m))),e=e.concat(m.param.connectLines),b=this._uvCnt=b.concat(m.param.disvisConnectLines))}h(.1);for(h=0;h<c.length;h++)c[h].canvas.setOpacity(1),c[h].highlight(!0);for(c=0;c<e.length;c++)h=e[c],"start"===h.position&&(h.line.canvas.setOpacity(1),h.line.update({width:h.line.param.highlightwidth}));for(e=0;e<b.length;e++)"start"===b[e].position&&
        (c=b[e].line.param,h=b[e].line,b[e].line.canvas.setOpacity(1),h.update({width:c.highlightwidth}))},renderLegend:function(){for(var a=this.data.format(),b=document.getElementById(this.param.legendTarget),d=this.param.colors,a=a.classList,g=[],f=0;f<a.length;f++)g.push('<li value="'+a[f]+'"><div class="color-block" style="background:'+d[f]+'"></div><span class="c-name">'+a[f]+'</span><span class="c-name-highlight" style="color:'+d[f]+'">'+a[f]+"</span></li>");b.innerHTML=g.join("")},adjustScatter:function(){var a=
            this.param.mode,b=this.getElement("scatter"),d=this.getElement("connects"),g=this.data.format(),f=this.param,c=function(){for(var a={},b=g.classList,c=0;c<b.length;c++)a[b[c]]=f.colors[c];return a}(),e=g.brandList,h=this.getWidth(),k=this.getHeight(),l=h/2,m=k/2,p=350;"circle"===a&&(p-=100);for(var n=0;n<e.length;n++)e[n].color=c[e[n].brandclass],e[n].radius=e[n].originradius=2+Math.pow(e[n].size+1,25/e.length),e[n].label={text:e[n].brand,color:"black"},e[n].connectLines=[],e[n].disvisConnectLines=
            [],e[n].fxEasing=null,e[n].mode=a,e[n].Ox=l,e[n].Oy=m,e[n].R=p,e[n].chart=this;d.removeElement();for(c=0;c<e.length;c++)for(var n=e[c],u=n.connects,t=0;t<u.length;t++){var s=u[t].relatedbrand,v,r=Math.log(u[t].relation)/50;v=new kc.Bezier({x1:n.x,y1:n.y,x2:s.x,y2:s.y,cx:s.cx,cy:s.cy,color:s.color,originwidth:r,width:r,highlightwidth:1>2*r?1:2*r});300>g.connectCount||r>g.connectCount/13E3?(d.addElement("Vcnt0"+c+"0"+t,v),n.connectLines.push({position:"start",line:v}),s.connectLines.push({position:"end",
            line:v})):(n.disvisConnectLines.push({source:n,target:s,line:v,position:"start"}),s.disvisConnectLines.push({source:n,target:s,line:v,position:"end"}))}if("circle"===a){for(c=a=0;c<e.length;c++)d=e[c].radius,10>d&&(d=10),a+=d;for(c=d=0;c<e.length;c++)d=10<e[c].radius?d+e[c].radius:d+10,e[c].x=p*Math.cos(d*Math.PI/a)+l,e[c].y=p*Math.sin(d*Math.PI/a)+m,e[c].cx=.2*p*Math.cos(d*Math.PI/a)+l,e[c].cy=.2*p*Math.sin(d*Math.PI/a)+m,e[c].sDelta=d,e[c].total=a,e[c].mode="circle",d=10<e[c].radius?d+e[c].radius:
            d+10,e[c].radius/=3}else{for(c=a=0;c<e.length;c++)a+=e[c].radius;d=a;for(n=0;n<e.length;n++){d+=e[n].radius;e[n].cx=.2*p*Math.cos(d*Math.PI/a)+l;for(e[n].cy=.2*p*Math.sin(d*Math.PI/a)+m;;){c=Math.random()+e[n].radius/70;c*=p;c>p-e[n].radius&&(c=p-e[n].radius-.4*Math.random()*p);e[n].x=c*Math.cos(d*Math.PI/a)+l;e[n].y=c*Math.sin(d*Math.PI/a)+m;u=!0;for(c=0;c<n;c++)if(t=e[c].x-e[n].x,s=e[c].y-e[n].y,Math.sqrt(t*t+s*s)<e[c].radius+e[n].radius){u=!1;break}if(u)break}e[n].sDelta=d;e[n].total=a;d+=e[n].radius}l=
            function(){for(var a=1;a<e.length;a++){for(var b=new kity.Vector(0,0),c=e[a],d=e[a].connects,f=0;f<d.length;f++)var g=d[f],l=g.relatedbrand,m=c.radius+l.radius+Math.log(g.relation),g=l.x-c.x,l=l.y-c.y,n=Math.sqrt(g*g+l*l),n=1E3*(n-m),g=(new kity.Vector(g,l)).normalize(n),b=b.add(g);L=b.multipy(.001);b=c.x+L.x/100;d=c.y+L.y/100;f=!0;for(m=0;m<e.length;m++)if(e[m]!==c&&(g=e[m].x-b,l=e[m].y-d,n=Math.sqrt(g*g+l*l),n<e[m].radius+c.radius)){f=!1;break}f&&(c.x=b,c.y=d);c.x<c.radius&&(c.x=c.radius);c.x>h-
                c.radius&&(c.x=h-c.radius);c.y<c.radius&&(c.y=c.radius);c.y>k-c.radius&&(c.y=k-c.radius)}};for(m=0;10>m;m++)l()}this.param.list=e;b.update({elementClass:kc.ConnectCircleDot,list:e,animateDuration:1E3})},update:function(a){for(var b in a)this.param[b]=a[b];this.adjustScatter();this.renderLegend()}}),HorizonData=kc.HorizonData=kity.createClass("HorizonData",{base:kc.Data,format:function(a){var b=this.origin;if(void 0===a)return b;if("col"===a){a=b.series;for(var d={},g=0,f=[],c=[],e=0;e<b.categories.length;e++)f.push({max:0,
        min:0});for(var h in a){c.push(h);g++;for(var e=a[h],k=0;k<e.length;k++)for(var l=e[k].args,m=0;m<b.categories.length;m++)parseFloat(l[m])>f[m].max?f[m].max=l[m]:parseFloat(l[m])<f[m].min&&(f[m].min=l[m])}d.dividecount=g;d.ranges=f;d.labels=c;return d}}}),HorizonChart=kc.HorizonChart=kity.createClass("HorizonChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.setData(new kc.HorizonData);this.addElement("Lines",new kc.ElementList);this.addElement("Axis",new kc.ElementList);this.addElement("Cate",
        new kc.ElementList);var d=this;this.addElement("Tooltips",new kc.ElementList).on("listupdatefinish",function(a){var b=d.toolTipUpdated;b(a)})},toolTipUpdated:function(a){},highlightLines:function(a){this.getData().format();var b,d,g;for(g in a){b=g;d=a[b];break}g=this.getElement("Lines").elementList;var f=[],c=this.getElement("Tooltips");c.except=[];for(var e=0;e<g.length;e++){var h=g[e].param;a=h.args;if(h[b]===d){g[e].update({width:3,opacity:1});for(var h=h.points,k=1;k<h.length;k++)f.push({x:h[k][0],
        y:h[k][1]-15,content:{color:"white",text:a[k-1]||0}})}else g[e].update({width:0,opacity:0})}c.update({elementClass:kc.Tooltip,list:f})},showLines:function(a){for(var b=this.getElement("Lines").elementList,d=0;d<b.length;d++){var g=b[d].param,f=!0,c;for(c in a)if(a[c]&&g[c]!==a[c]){f=!1;break}f?3>g.width&&b[d].update({width:1,opacity:.2}):b[d].update({width:0,opacity:0})}},unhighlightAll:function(){this.getElement("Tooltips").update({elementClass:kc.Tooltip,list:[]});for(var a=this.getElement("Lines").elementList,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       b=0;b<a.length;b++)3===a[b].param.width&&a[b].update({width:1,opacity:.2})},renderChart:function(){var a=this.param.colors,b=this.getData().format(),d=this.getData().format("col"),g=d.labels,f=b.categories,c=g.length-1,e=this.getPaper().container,h=e.offsetHeight,k=this.param.padding,e=(e.offsetWidth-k[1]-k[3])/f.length,l=h-k[0]-k[2],m=this.getElement("Axis"),p=this.getElement("Lines"),n=this.getElement("Cate"),u=[],t=[],s=[],v=b.series,r;for(r in v){var q=v[r];s.push({text:r,at:"left",x:k[3]-20,
        y:k[0]+g.indexOf(r)*l/c});for(var w=0;w<q.length;w++){var A={points:[[k[3],k[0]+g.indexOf(r)*l/c]],color:a[parseInt(g.indexOf(r)/4)],width:1,opacity:.1,contry:r,position:q[w].position,name:q[w].name,elglishname:q[w].elglishname,args:q[w].args};t.push(A);for(var z=q[w].args,x=0;x<z.length;x++)A.points.push([k[3]+e*(x+1),k[0]+(1-(z[x]||0)/d.ranges[x].max)*l])}}for(a=0;a<f.length;a++)s.push({text:f[a],x:k[3]+e*(a+1),y:k[0]-20});for(f=0;f<=b.categories.length;f++)A={x1:k[3]+e*f,y1:k[0],x2:k[3]+e*f,y2:h-
        k[2]},0!==f?A.max=d.ranges[f-1].max:A.divide=d.dividecount,u.push(A);m.update({elementClass:kc.AxisLine,list:u,fx:!1});p.update({elementClass:kc.Polyline,list:t,fx:!1});n.update({elementClass:kc.Label,list:s,fx:!1})},update:function(){this.renderChart()}}),RadarData=kc.RadarData=kity.createClass("RadarData",{base:kc.Data}),RadarChart=kc.RadarChart=kity.createClass("RadarChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.addElement("net",new kc.ElementList);this.addElement("items",
        new kc.ElementList);this.addElement("circles",new kc.ElementList);this.addElement("labels",new kc.ElementList);this.setData(new kc.RadarData)},render:function(){for(var a=this.getData().format(),b=this.param,d=b.colors,g=a.categories.length,f=2*Math.PI/g,c=this.getElement("net"),e=this.getElement("items"),h=this.getElement("circles"),k=this.getElement("labels"),l=[],m=[],p=[],n=this.container,u=n.offsetWidth,t=n.offsetHeight,n=u/2,s=t/2,u=b.radius||(u<t?u:t)/2-50,v=u/5,r=0,q=0;q<g;q++){for(var w=
        0;6>w;w++)t=v*w,t={x1:n+t*Math.cos(r),y1:s+t*Math.sin(r),x2:n+t*Math.cos(r+f),y2:s+t*Math.sin(r+f),color:d.net},l.push(t);t={x1:n,y1:s,x2:n+u*Math.cos(r),y2:s+u*Math.sin(r),color:d.net};l.push(t);r+=f}c.update({elementClass:kc.Line,list:l,fx:!1});d=d.items;g=[];c=a.series;for(l=0;l<c.length;l++){v=[];r=c[l].data;for(q=0;q<r.length;q++)t=u*r[q],w=n+t*Math.cos(f*q),t=s+t*Math.sin(f*q),v.push([w,t]),m.push({radius:b.circle&&b.circle.radius||5,fxEasing:b.circle&&b.circle.fxEasing||"ease",color:d[l]||
        "#7ecffe",x:w,y:t});t={points:v,color:d[l],fxEasing:"ease",close:!0,fill:kity.Color.parse(d[l]).set(kity.Color.A,.3),animatedDir:"both",factor:+new Date};g.push(t)}e.update({elementClass:kc.Polyline,list:g});b.circle&&b.circle.enabled&&h.update({elementClass:kc.CircleDot,list:m});for(b=0;b<a.categories.length;b++)t={text:a.categories[b],x:n+(u+10)*Math.cos(f*b),y:s+(u+10)*Math.sin(f*b)},t.x>n?t.at="right":t.x<n&&(t.at="left"),p.push(t);k.update({elementClass:kc.Label,list:p})},update:function(){this.render()}}),
    CoffeeData=kc.CoffeeData=kity.createClass("CoffeeData",{base:kc.Data,format:function(a,b){var d=[],g=this.origin,f;for(f in g){var c=g[f];c.x=20+d.length%3*300;c.y=50+200*parseInt(d.length/3);c.colors=a;c.chart=b;d.push(c)}return d}}),CoffeeChart=kc.CoffeeChart=kity.createClass("CoffeeChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.addElement("coffeecups",new kc.ElementList);this.setData(new kc.CoffeeData)},renderCoffee:function(){var a=this.getElement("coffeecups"),b=this.getData().format(this.param.colors,
        this);a.update({elementClass:kc.CoffeeCup,list:b,animateDuration:1E3})},update:function(){this.renderCoffee()}}),ChinaMapData=kc.MapData=kity.createClass("ChinaMapData",{base:kc.Data,format:function(){return this.origin}}),ChinaMapChart=kc.ChinaMapChart=kity.createClass("ChinaMapChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,kity.Utils.extend({width:600,height:600,minColor:"blue",maxColor:"red"},b));this.addElement("map",new kc.Map({width:this.param.width,height:this.param.height},
        kc.Map.CHINA))},updateChart:function(a,b){var d=this.getElement("map"),g=a.colors.map(kity.Color.parse),f,c;c=a.defaultColor&&new kity.Color(a.defaultColor)||g[0];d.update({width:a.width,height:a.height});f=kc.Map.CHINA.blocks;for(var e in f)if(f=d.findBlockById(e)){var h=b[e];if(h.color)h=kity.Color.parse(h.color);else if(b[e].value)var h=b[e].value,k=h*(g.length-1)|0,l=g[k].valueOf(),m=g[k+1].valueOf(),p=1/(g.length-1),h=(h-k*p)/p,h=new kity.Color.createHSLA(l.h+(m.h-l.h)*h,l.s+(m.s-l.s)*h,l.l+
        (m.l-l.l)*h,l.a+(m.a-l.a)*h);else h=c;f.animate({color:h})}this.paper.setWidth(d.renderWidth).setHeight(d.renderHeight)},getMap:function(){return this.getElement("map")},addOverlay:function(a,b,d){a=this.getMap().geoToPoint(a,b);this.addElement(d);d.update({x:a.x,y:a.y});return d}}),BubbleData=kc.BubbleData=kity.createClass("BubbleData",{base:kc.Data,format:function(a,b){var d=this.origin;if(void 0===a)return d;for(var g=d.list,d=[],f=0;f<g.length;f++){for(var c=g[f],e={date:c.date,series:[]},h=0;h<
        c.series.length;h++){var k=e.series,l=c.series[h],m={},p;for(p in a)m[p]=l[a[p]];k.push(m)}d.push(e)}if("line"!==b)return{list:d};p={};c=d[0];g=[d[0].date];for(f=0;f<c.series.length;f++)p[c.series[f].label]=[c.series[f]];for(h=1;h<d.length;h++)for(c=d[h],g.push(d[h].date),f=0;f<c.series.length;f++)e=c.series[f],p[e.label].push(e);return{xCates:g,list:d,map:p}}}),BubbleChart=kc.BubbleChart=kity.createClass("BubbleChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.addElement("gridhorizon",
        new kc.ElementList);this.addElement("gridvertical",new kc.ElementList);this.addElement("items",new kc.ElementList);this.addElement("categories",new kc.ElementList);this.tooltips=this.addElement("tooltips",new kc.ElementList);this.setData(new kc.BubbleData);this.tooltipList=[]},addTooltip:function(a){a=a.target.param;var b=a.label,d=this.tooltips;window.clearInterval(this.param.interval);b={content:{color:"#787878",text:b},background:"#e9e9e9"};switch(this.param.mode){case "circle":b.x=a.x;b.y=a.y;
        break;case "col":b.x=a.x;b.y=a.y;break;case "line":b.x=a.x,b.y=a.y}this.tooltipList=this.tooltipList.concat([b]);d.update({elementClass:kc.Tooltip,list:this.tooltipList})},renderBubble:function(){for(var a=this.container,b=a.clientWidth,a=a.clientHeight,d=this.param,g=this.getData().format({x:d.x,y:d.y,size:d.size,label:d.label,type:d.type},d.mode),f=d.colors,c=d.date,e=g.list,h=d.padding,k=function(a){for(var b=0,c=0;c<e.length;c++)for(var d=e[c].series,f=0;f<d.length;f++)d[f][a]>b&&(b=d[f][a]);
        return b},l=k("x"),k=k("y"),m=function(a){var b=Math.log(a)/Math.log(10),b=Math.pow(10,Math.floor(b));a/=b;if(5>a||6<a)for(b/=10,a*=10;6<a;)a/=2,b*=2;return{base:Math.ceil(b),n:Math.ceil(a)}},p=this.getElement("gridhorizon"),n=this.getElement("gridvertical"),u=this.getElement("items"),t=this.getElement("categories"),s=m(l),v=m(k),l=s.base*s.n,k=v.base*v.n,m=a-h[0]-h[2],r=b-h[1]-h[3],q=[],w=[{x1:h[3],y1:a-h[2],x2:b-h[1],y2:a-h[2],color:"gray"}],A=0;A<v.n;A++){var z=h[0]+m*A/v.n;w.push({x1:h[3],y1:z,
        x2:b-h[1],y2:z,color:"#cecece"});q.push({text:v.base*A,at:"left",x:h[3]-10,y:a-h[2]-m*A/v.n})}p.update({elementClass:kc.Line,list:w});z=[{x1:h[3],y1:h[0],x2:h[3],y2:a-h[2],color:"gray"}];for(p=1;p<=s.n;p++)b=h[3]+r*p/s.n,z.push({x1:b,y1:h[0],x2:b,y2:a-h[2],color:"#cecece"}),q.push({x:b,y:a-h[2]+10,text:s.base*p});n.update({elementClass:kc.Line,list:z});t.update({elementClass:kc.Label,list:q});n=[];if("bubble"===d.mode)for(var x=e[c].series,g=0;g<x.length;g++)c=x[g],b=h[3]+c.x*r/l,z=a-(h[2]+c.y*m/
        k),c={shape:"circle",x:b,y:z,targetX:b,targetY:z,radius:Math.log(c.size),color:f[c.type],label:c.label},n.push(c);else if("col"===d.mode)for(x=e[c].series,l=r/x.length,g=0;g<x.length;g++)c=x[g],b=h[3]+l*(g+.2),z=a-(h[2]+c.y*m/k),c={shape:"col",x:b,y:z,targetX:b,targetY:z,width:.6*l,height:c.y*m/k,color:f[c.type],label:c.label,radius:0},n.push(c);else for(x in l=g.map,r/=g.xCates.length-1,l){c=l[x];z=[];for(g=0;g<c.length;g++)z.push({x:h[3]+r*g,y:a-(h[2]+c[g].y*m/k)});n.push({x:0,y:0,shape:"line",
        points:z,strokeColor:f[c[0].type],color:"none",strokeWidth:2})}u.update({elementClass:kc.TransformBubble,list:n,animateDuration:d.animateInterval})},update:function(a){for(var b in a)this.param[b]=a[b];this.renderBubble()}});
(function(a){kc.PieChart=kity.createClass("PieChart",{base:kc.BaseChart,constructor:function(a,d){this.chartType="pie";this.callBase(a,d);this.config=this.param;this.setData(new kc.PieData(d));var g=this.addElement("plots",new kc.PiePlots);this.setPlots(g)},update:function(a){this.setConfig(a,kc.PieData);this.getPlots().update(this.config);this.getOption("legend.enabled")&&this.addLegend()},getCenter:function(){var a=this.config.plotOptions.pie.center;return{x:a.x,y:a.y}},getSeries:function(){return this.config.series},
    bindAction:function(){}})})(window);
(function(a){function b(a){a.children&&0<a.children.length?(!a.hide&&a.parent&&g.push(a),a.children.forEach(function(a,e){b(a)})):!a.hide&&a.parent&&g.push(a);return g}function d(a,b){var e=a;for(e&&e.shape&&b&&b(e);e.parent;)(e=e.parent)&&e.shape&&b&&b(e)}var g=[];kc.SunChart=kity.createClass("SunChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.config=this.param;this.setData(new kc.SunData);this.fans=this.addElement("fans",new kc.ElementList)},update:function(a){this.param=
    kity.Utils.extend(this.param,a);this.setBlurColor();var c=this;if(a=this.data.format()){this.paramList=[];this.nodeList=[];var e=this.param.inner||30,d=this.param.outer||60,k=this.param.increment||30;g=[];c=this;b(a).forEach(function(a,b){var f=360*a.weight;if(!(.5>f)){var g=a.depth-1;c.paramList.push({labelText:null,labelPosition:"none",connectLineWidth:0,innerRadius:0==g?e:d+(g-1)*k,outerRadius:d+k*g,startAngle:360*a.weightStart,pieAngle:f,strokeWidth:1,strokeColor:"#FFF",color:c.getColor(a.name),
    x:c.param.center.x,y:c.param.center.y});c.nodeList.push(a)}});50>this.paramList.length&&this.updateFans(this.paramList,!0);this.updateFans(this.paramList,!1);this.bindData();this.bindAction()}},updateFans:function(a,b){this.fans.update({elementClass:kc.Pie,list:a,fx:b})},getColor:function(a){return this.config.color[a]||this.config.defaultColor||"#808080"},getDefaultColor:function(){return this.config.defaultColor||"#808080"},bindData:function(){var a=this;this.fans.getElementList().forEach(function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             e){a.nodeList[e].shape=b;b.dataNode=a.nodeList[e]})},bindAction:function(){var a=this;this.fans.getElementList().forEach(function(b,e){b.on("mouseover",function(b){b=a.focus(a.nodeList[e]);a.config.onHover&&a.config.onHover(b.reverse())});b.on("mouseout",function(b){a.blur()})})},setBlurColor:function(){function a(b){b=new kity.Color(b);b.set("a",.5);return b.toRGBA()}var b=this.config.color,e;this.blurColors={};for(e in b)this.blurColors[e]=a(this.getColor(e));this.blurDefaultColors=a(this.getDefaultColor())},
    focus:function(a){var b=this,e=[],g=[];d(a,function(a){e.push(a.shape);g.push(a)});a=this.fans.getElementList().map(function(a,d){var f=b.blurColors[b.nodeList[d].name]||b.blurDefaultColors;~e.indexOf(a)&&(f=a.param.color);return{color:f}});this.updateFans(a,!1);return g},blur:function(){var a=this,b=this.fans.getElementList().map(function(b,c){return{color:a.getColor(a.nodeList[c].name)}});this.updateFans(b,!1)}})})(window);
(function(a){function b(a){a.children&&0<a.children.length?a.children.forEach(function(a,e){b(a)}):g.push(a);return g}function d(a,b){var e=a;for(b&&b(e);e.parent;)e=e.parent,b&&b(e)}var g=[];a.Treemap=kc.Treemap=kity.createClass("Treemap",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.setData(new kc.TreemapData(b));this.rects=this.addElement("rects",new kc.ElementList);this.tip=this.addElement("tip",new kc.Tooltip({background:"#FFF",at:"up",padding:[10,20,10,20],borderRadius:3,
    anchorSize:4}));var e=new kity.ProjectionFilter(2,1,1);e.setColor("rgba( 0, 0, 0, 0.3 )");this.paper.addResource(e);this.tip.canvas.applyFilter(e);this._bindAction()},update:function(a){this.param=kity.Utils.extend(this.param,a);if(a=this.data.format(this.param.width,this.param.height,this.param.mode||"squarify")){var c=[];g=[];b(a).forEach(function(a,b){var f=[];d(a,function(a){f.push(a.name)});var f=f.reverse().join(" > "),g=new kity.Color(255,204,191);g.set("h",200*a.parent.weightStart);g.set("s",
    80);g.set("l",75);c.push({x:a.x,y:a.y,width:a.dx,height:a.dy,color:g,labelText:a.name,labelColor:"#000",strokeWidth:1,strokeColor:"#FFF",labelX:a.dx/2,labelY:a.dy/2,bind:f})});this.rects.update({elementClass:kc.Rectage,list:c,fx:!0})}},_bindAction:function(){var a=this,b,e;this.on("mousemove",function(d){clearTimeout(e);e=setTimeout(function(){var e=d.getTargetChartElement(),e=e.text?e.container:e,g=e.getBindData();if(g&&b!=e){b=e;var m="horizon"==e.label.direction?e.label.text.getHeight():e.label.text.getWidth();
    a.tip.setVisible(!0).update({content:{text:g,color:"#555"}});var g=e.getPosition(),p=e.getSize(),e=g.x+p.width/2,g=g.y+p.height/2,p=a.paper.getWidth();a.tip.getPosition();var n=a.tip.getSize(),u="up",t=0,s=0,s=g-n.height/2-m;e+n.width/2>p?(u="left",t=e-n.width/2-m,s=g):0>e-n.width/2?(u="right",t=e+n.width/2+m,s=g):t=e;0>g-n.height-m&&(u="down",s=g+n.height/2+m);a.tip.update({at:u}).animate({x:t,y:s},200)}},100)})}})})(window);
var HumanData=kc.HumanData=kity.createClass("HumanData",{base:kc.Data,format:function(a,b){var d=[],g=this.origin,f;for(f in g){var c=g[f];c.x=200+d.length%2*300;c.y=50+200*parseInt(d.length/3);c.colors=a;c.chart=b;d.push(c)}return d}}),HumanChart=kc.HumanChart=kity.createClass("HumanChart",{base:kc.Chart,constructor:function(a,b){this.callBase(a,b);this.addElement("coffeecups",new kc.ElementList);this.setData(new kc.HumanData)},renderCoffee:function(){var a=this.getElement("coffeecups"),b=this.getData().format(this.param.colors,
    this);a.update({elementClass:kc.HumanBody,list:b,animateDuration:1E3})},update:function(){this.renderCoffee()}});
(function(a,b,d){function g(a,b){this.element=a;this.layers=a.getElementsByClassName("layer");var d={calibrateX:this.data(this.element,"calibrate-x"),calibrateY:this.data(this.element,"calibrate-y"),invertX:this.data(this.element,"invert-x"),invertY:this.data(this.element,"invert-y"),limitX:this.data(this.element,"limit-x"),limitY:this.data(this.element,"limit-y"),scalarX:this.data(this.element,"scalar-x"),scalarY:this.data(this.element,"scalar-y"),frictionX:this.data(this.element,"friction-x"),frictionY:this.data(this.element,
    "friction-y")},g;for(g in d)null===d[g]&&delete d[g];this.extend(this,f,b,d);this.calibrationTimer=null;this.calibrationFlag=!0;this.enabled=!1;this.depths=[];this.raf=null;this.vy=this.vx=this.my=this.mx=this.iy=this.ix=this.cy=this.cx=this.oh=this.ow=this.oy=this.ox=0;this.onMouseMove=this.onMouseMove.bind(this);this.onDeviceOrientation=this.onDeviceOrientation.bind(this);this.onOrientationTimer=this.onOrientationTimer.bind(this);this.onCalibrationTimer=this.onCalibrationTimer.bind(this);this.onAnimationFrame=
    this.onAnimationFrame.bind(this);this.onWindowResize=this.onWindowResize.bind(this);this.initialise()}var f={calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1};g.prototype.extend=function(){if(1<arguments.length)for(var a=arguments[0],b=1,d=arguments.length;b<d;b++){var f=arguments[b],g;for(g in f)a[g]=f[g]}};g.prototype.data=function(a,b){return this.deserialize(a.getAttribute("data-"+
    b))};g.prototype.deserialize=function(a){return"true"===a?!0:"false"===a?!1:"null"===a?null:!isNaN(parseFloat(a))&&isFinite(a)?parseFloat(a):a};g.prototype.offset=function(a){for(var e=0,d=0,f,g;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)a===b.body?(f=b.documentElement.scrollLeft,g=b.documentElement.scrollTop):(f=a.scrollLeft,g=a.scrollTop),e+=a.offsetLeft-f,d+=a.offsetTop-g,a=a.offsetParent;return{top:d,left:e}};g.prototype.camelCase=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?
    b.toUpperCase():""})};g.prototype.transformSupport=function(c){for(var e=b.createElement("div"),f=!1,g=null,g=!1,l=null,m=null,p=0,n=this.vendors.length;p<n;p++)if(null!==this.vendors[p]?(l=this.vendors[p][0]+"transform",m=this.vendors[p][1]+"Transform"):m=l="transform",e.style[m]!==d){f=!0;break}switch(c){case "2D":g=f;break;case "3D":f&&(b.body.appendChild(e),e.style[m]="translate3d(1px,1px,1px)",g=a.getComputedStyle(e).getPropertyValue(l),g=g!==d&&0<g.length&&"none"!==g,b.body.removeChild(e))}return g};
    g.prototype.ww=null;g.prototype.wh=null;g.prototype.hw=null;g.prototype.hh=null;g.prototype.portrait=null;g.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);g.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]];g.prototype.motionSupport=!!a.DeviceMotionEvent;g.prototype.orientationSupport=!!a.DeviceOrientationEvent;g.prototype.orientationStatus=0;g.prototype.transform2DSupport=g.prototype.transformSupport("2D");
    g.prototype.transform3DSupport=g.prototype.transformSupport("3D");g.prototype.initialise=function(){this.transform3DSupport&&this.accelerate(this.element);"static"===a.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative");for(var b=0,e=this.layers.length;b<e;b++){var d=this.layers[b];this.transform3DSupport&&this.accelerate(d);d.style.position=b?"absolute":"relative";d.style.display="block";d.style.height="100%";d.style.width="100%";d.style.left=0;d.style.top=
        0;this.depths.push(this.data(d,"depth")||0)}this.updateDimensions();this.enable();this.queueCalibration(this.calibrationDelay)};g.prototype.updateDimensions=function(){this.ox=this.offset(this.element).left;this.oy=this.offset(this.element).top;this.ow=this.element.offsetWidth;this.oh=this.element.offsetHeight;this.ww=a.innerWidth;this.wh=a.innerHeight;this.hw=this.ww/2;this.hh=this.wh/2};g.prototype.queueCalibration=function(a){clearTimeout(this.calibrationTimer);this.calibrationTimer=setTimeout(this.onCalibrationTimer,
        a)};g.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,a.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cy=this.cx=0,this.portrait=!1,a.addEventListener("mousemove",this.onMouseMove)),a.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))};g.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?
        a.removeEventListener("deviceorientation",this.onDeviceOrientation):a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))};g.prototype.calibrate=function(a,b){this.calibrateX=a===d?this.calibrateX:a;this.calibrateY=b===d?this.calibrateY:b};g.prototype.invert=function(a,b){this.invertX=a===d?this.invertX:a;this.invertY=b===d?this.invertY:b};g.prototype.friction=function(a,b){this.frictionX=a===d?this.frictionX:a;this.frictionY=
        b===d?this.frictionY:b};g.prototype.scalar=function(a,b){this.scalarX=a===d?this.scalarX:a;this.scalarY=b===d?this.scalarY:b};g.prototype.limit=function(a,b){this.limitX=a===d?this.limitX:a;this.limitY=b===d?this.limitY:b};g.prototype.clamp=function(a,b,d){a=Math.max(a,b);return Math.min(a,d)};g.prototype.css=function(a,b,f){for(var g=null,l=0,m=this.vendors.length;l<m;l++)if(g=null!==this.vendors[l]?this.camelCase(this.vendors[l][1]+"-"+b):b,a.style[g]!==d){a.style[g]=f;break}};g.prototype.accelerate=
        function(a){this.css(a,"transform","translate3d(0,0,0)");this.css(a,"backface-visibility","hidden")};g.prototype.setPosition=function(a,b,d){b+="%";d+="%";this.transform3DSupport?this.css(a,"transform","translate3d("+b+","+d+",0)"):this.transform2DSupport?this.css(a,"transform","translate("+b+","+d+")"):(a.style.left=b,a.style.top=d)};g.prototype.onOrientationTimer=function(a){this.orientationSupport&&0===this.orientationStatus&&(this.disable(),this.orientationSupport=!1,this.enable())};g.prototype.onCalibrationTimer=
        function(a){this.calibrationFlag=!0};g.prototype.onWindowResize=function(a){this.updateDimensions()};g.prototype.onAnimationFrame=function(){var a=this.ix-this.cx,b=this.iy-this.cy;(Math.abs(a)>this.calibrationThreshold||Math.abs(b)>this.calibrationThreshold)&&this.queueCalibration(0);this.portrait?(this.mx=(this.calibrateX?b:this.iy)*this.scalarX,this.my=(this.calibrateY?a:this.ix)*this.scalarY):(this.mx=(this.calibrateX?a:this.ix)*this.scalarX,this.my=(this.calibrateY?b:this.iy)*this.scalarY);isNaN(parseFloat(this.limitX))||
    (this.mx=this.clamp(this.mx,-this.limitX,this.limitX));isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY));this.vx+=(this.mx-this.vx)*this.frictionX;this.vy+=(this.my-this.vy)*this.frictionY;a=0;for(b=this.layers.length;a<b;a++){var d=this.depths[a];this.setPosition(this.layers[a],this.vx*d*(this.invertX?-1:1),this.vy*d*(this.invertY?-1:1))}this.raf=requestAnimationFrame(this.onAnimationFrame)};g.prototype.onDeviceOrientation=function(a){if(!this.desktop&&null!==
        a.beta&&null!==a.gamma){this.orientationStatus=1;var b=(a.beta||0)/30;a=(a.gamma||0)/30;var d=this.wh>this.ww;this.portrait!==d&&(this.portrait=d,this.calibrationFlag=!0);this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=b,this.cy=a);this.ix=b;this.iy=a}};g.prototype.onMouseMove=function(a){this.ix=(a.pageX-this.hw)/this.hw;this.iy=(a.pageY-this.hh)/this.hh};a.Parallax=g})(window,document);
(function(){for(var a=0,b=["ms","moz","webkit","o"],d=0;d<b.length&&!window.requestAnimationFrame;++d)window.requestAnimationFrame=window[b[d]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[d]+"CancelAnimationFrame"]||window[b[d]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,d){var c=(new Date).getTime(),e=Math.max(0,16-(c-a)),h=window.setTimeout(function(){b(c+e)},e);a=c+e;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
    function(a){clearTimeout(a)})})();
var App={pageWidth:0,pageHeight:0,curPage:0,oldPage:-1,pageLen:0,movePrevent:!0,loading:!1,box:null,items:null,pageLen:0,init:function(){App.box=document.querySelector(".pages");App.items=document.querySelectorAll(".pages>.page");App.pageLen=App.items.length;var a=document.getElementById("page");new Parallax(a);App.initPage();App.bindEvent()},initPage:function(){App.pageWidth=window.innerWidth;App.pageHeight=window.innerHeight;for(var a=0;a<App.pageLen;a++)App.items[a].style.width=App.pageWidth+"px",
    App.items[a].style.height=App.pageHeight+"px";-1!=App.oldPage&&App.animatePage(App.curPage)},nextPage:function(){App.curPage++;App.animatePage(App.curPage)},prevPage:function(){App.curPage--;App.animatePage(App.curPage)},addClass:function(a,b){for(var d="",g=RegExp(b,"g"),f=a.length,c=0;c<f;c++)d=a[c].className,a[c].className=(d.replace(g,"")+" "+b).replace(/\s+/g," ").replace(/^\s+|\s+$/,"")},removeClass:function(a,b){for(var d="",g=RegExp(b,"g"),f=a.length,c=0;c<f;c++)d=a[c].className,a[c].className=
    d.replace(g,"").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")},animatePage:function(a){0>a&&(a=0);a>=App.pageLen-1&&(a=App.pageLen-1);App.curPage=a;var b=App.curPage*-App.pageHeight;a++;App.box.style.webkitTransform="matrix(1, 0, 0, 1, 0, "+b+")";App.addClass(document.querySelectorAll(".page"+a),"active");App.removeClass(document.querySelectorAll(".page"+parseInt(a+1)+",.page"+parseInt(a-1)),"active");setTimeout(function(){App.addClass(document.querySelectorAll(".page"+parseInt(a+1)+",.page"+parseInt(a-
    1)),"no-transition");setTimeout(function(){App.removeClass(document.querySelectorAll(".page"+parseInt(a+1)+",.page"+parseInt(a-1)),"no-transition")},10)},200);App.movePrevent=!0;setTimeout(function(){App.movePrevent=!1},300);App.curPage!=App.oldPage&&(App.oldPage=App.curPage,App.changePage())},bindEvent:function(){var a=0;$(".cover").on("touchstart",function(b){a=b.changedTouches[0].pageY;b.stopPropagation();b.preventDefault();return!1});$(".cover").on("touchmove",function(a){a.stopPropagation();
    a.preventDefault();return!1});$(".cover").on("touchend",function(b){50<Math.abs(b.changedTouches[0].pageY-a)&&($(".cover").addClass("out"),setTimeout(function(){$(".cover").hide();App.animatePage(App.curPage)},1600));b.stopPropagation();b.preventDefault();return!1});$(".page3_line_item").on("click",function(a){if($(this).hasClass("show_this"))return!1;$(".show_this").removeClass("show_this").addClass("hide_this");$(this).addClass("show_this").removeClass("hide_this")});App.box.addEventListener("touchstart",
    function(a){App.loading||App.touchStart(a)});App.box.addEventListener("touchmove",function(a){App.loading||App.touchMove(a);a.preventDefault()});App.box.addEventListener("touchend",function(a){App.loading||App.touchEnd(a)});window.addEventListener("resize",function(){App.initPage()},!1);$(".page7_button").on("click",function(a){setTimeout(function(){window.location.href="#"},150);a.preventDefault();return!1})},startX:0,startY:0,isMove:!0,touchStart:function(a){if(App.movePrevent)return a.preventDefault(),
    !1;App.addClass([App.box],"page-no-transition");a=a.changedTouches[0];App.startX=a.pageX;App.startY=a.pageY;App.isMove=!0},touchMove:function(a){if(App.movePrevent||5==App.curPage)return a.preventDefault(),!1;var b=a.changedTouches[0],d=b.pageX,b=b.pageY,g=App.curPage*-App.pageHeight+(b-App.startY);if(!App.isMove||Math.abs(d-App.startX)>Math.abs(b-App.startY))return App.isMove=!1,a.preventDefault(),!1;App.box.style.webkitTransform="matrix(1, 0, 0, 1, 0, "+g+")"},touchEnd:function(a){if(App.movePrevent)return a.preventDefault(),
    !1;var b=a.changedTouches[0].pageY;App.removeClass([App.box],"page-no-transition");50>=Math.abs(b-App.startY)||!App.isMove?App.animatePage(App.curPage):5==App.curPage?($(".cm").addClass("cm_out"),App.movePrevent=!0,setTimeout(function(){b>App.startY?App.prevPage():App.nextPage();setTimeout(function(){$(".cm").removeClass("cm_out")},300)},1E3)):b>App.startY?App.prevPage():App.nextPage()},mainTitle:"\u5fae\u535a\u7b2c\u4e09\u5b63\u5ea6\u603b\u8425\u65368410\u4e07\u7f8e\u5143\uff0c\u6708\u6d3b\u8dc3\u7528\u62371.67\u4ebf",
    mainDesc:"\u5fae\u535a\u79fb\u52a8\u7aef\u5e7f\u544a\u6536\u5165\u5360\u6bd4\u8fbe44%\uff0c\u4fe1\u606f\u6d41\u5e7f\u544a\u6536\u5165\u540c\u6bd4\u5927\u6da8438%",mainURL:"http://readstatic.appsina.com/active/weibo/index.html",mainImgUrl:"http://readstatic.appsina.com/active/weibo/images/141111-share.jpg",onBridgeReady:function(){window.WeixinJSBridge.on("menu:share:timeline",function(a){window.WeixinJSBridge.invoke("shareTimeline",{img_url:App.mainImgUrl,img_width:"120",img_height:"120",link:App.mainURL,
        desc:App.mainDesc,title:App.mainTitle},function(a){})});window.WeixinJSBridge.on("menu:share:weibo",function(){window.WeixinJSBridge.invoke("shareWeibo",{content:App.mainDesc,url:App.mainURL},function(a){})});window.WeixinJSBridge.on("menu:share:appmessage",function(a){window.WeixinJSBridge.invoke("sendAppMessage",{img_url:App.mainImgUrl,img_width:"120",img_height:"120",link:App.mainURL,desc:App.mainDesc,title:App.mainTitle},function(a){})})},initDonut:function(){(new kc.PieChart("donut",{color:["#d52b2a",
        "#fbb03b"]})).update({chart:{type:"pie"},plotOptions:{pie:{shadow:!1,center:{x:70,y:70},innerRadius:50,outerRadius:70,incrementRadius:30},label:{enabled:!1}},legend:{enabled:!1},series:[{name:"\u603b\u8425\u6536",data:[{name:"\u5e7f\u544a\u6536\u5165",value:65},{name:"\u589e\u503c\u670d\u52a1",value:20}]}]})},changePage:function(){clearTimeout(App.pageOneTimer);1==App.curPage?(clearTimeout(App.pageOneTimer),setTimeout(function(){$("#donut").html("")},200)):2==App.curPage?setTimeout(function(){$(".page3_line_item").addClass("hide_this").removeClass("show_this");
        App.initDonut()},200):3==App.curPage?(App.pageOne(),setTimeout(function(){$("#donut").html("")},200)):4==App.curPage&&setTimeout(function(){$(".page3_line_item").addClass("hide_this").removeClass("show_this");$("#donut").html("")},200)},pageOneTimer:null,pageOne:function(){clearTimeout(App.pageOneTimer);App.pageOneTimer=setTimeout(function(){$(".page3_line_item").eq(0).removeClass("hide_this").addClass("show_this");App.pageOneTimer=setTimeout(function(){$(".page3_line_item").eq(1).removeClass("hide_this").addClass("show_this");
        App.pageOneTimer=setTimeout(function(){$(".page3_line_item").eq(2).removeClass("hide_this").addClass("show_this");App.pageOneTimer=setTimeout(function(){$(".page3_line_item").eq(3).removeClass("hide_this").addClass("show_this")},1E3)},1E3)},1E3)},1600)}};document.addEventListener("WeixinJSBridgeReady",function(){App.onBridgeReady()});$(function(){App.init()});